ARM GAS  /tmp/ccxx96Fs.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 2
  13              		.file	"r_divider_bus_voltage_sensor.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.rodata.OFFSET_TAB_CCMRx,"a"
  18              		.align	2
  21              	OFFSET_TAB_CCMRx:
  22 0000 00000000 		.ascii	"\000\000\000\000\004\004\004\00488"
  22      04040404 
  22      3838
  23              		.section	.rodata.SHIFT_TAB_OCxx,"a"
  24              		.align	2
  27              	SHIFT_TAB_OCxx:
  28 0000 00000800 		.ascii	"\000\000\010\000\000\000\010\000\000\010"
  28      00000800 
  28      0008
  29              		.section	.rodata.SHIFT_TAB_ICxx,"a"
  30              		.align	2
  33              	SHIFT_TAB_ICxx:
  34 0000 00000800 		.ascii	"\000\000\010\000\000\000\010\000\000\000"
  34      00000800 
  34      0000
  35              		.section	.rodata.SHIFT_TAB_CCxP,"a"
  36              		.align	2
  39              	SHIFT_TAB_CCxP:
  40 0000 00020406 		.ascii	"\000\002\004\006\010\012\014\016\020\024"
  40      080A0C0E 
  40      1014
  41              		.section	.rodata.SHIFT_TAB_OISx,"a"
  42              		.align	2
  45              	SHIFT_TAB_OISx:
  46 0000 00010203 		.ascii	"\000\001\002\003\004\005\006\007\010\012"
  46      04050607 
  46      080A
  47              		.section	.rodata.USART_PRESCALER_TAB,"a"
  48              		.align	2
  51              	USART_PRESCALER_TAB:
  52 0000 01000000 		.word	1
  53 0004 02000000 		.word	2
  54 0008 04000000 		.word	4
  55 000c 06000000 		.word	6
  56 0010 08000000 		.word	8
  57 0014 0A000000 		.word	10
  58 0018 0C000000 		.word	12
  59 001c 10000000 		.word	16
ARM GAS  /tmp/ccxx96Fs.s 			page 2


  60 0020 20000000 		.word	32
  61 0024 40000000 		.word	64
  62 0028 80000000 		.word	128
  63 002c 00010000 		.word	256
  64              		.section	.rodata.CHANNEL_OFFSET_TAB,"a"
  65              		.align	2
  68              	CHANNEL_OFFSET_TAB:
  69 0000 081C3044 		.ascii	"\010\0340DXl"
  69      586C
  70              		.section	.text.RVBS_Init,"ax",%progbits
  71              		.align	1
  72              		.weak	RVBS_Init
  73              		.arch armv7e-m
  74              		.syntax unified
  75              		.thumb
  76              		.thumb_func
  77              		.fpu fpv4-sp-d16
  79              	RVBS_Init:
  80              	.LFB1437:
  81              		.file 1 "MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c"
   1:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** /**
   2:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   ******************************************************************************
   3:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   * @file    r_divider_bus_voltage_sensor.c
   4:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   * @author  Motor Control SDK Team, ST Microelectronics
   5:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   * @brief   This file provides firmware functions that implement the  features
   6:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   *          of the Resistor Divider Bus Voltage Sensor component of the Motor
   7:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   *          Control SDK:
   8:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   *
   9:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   ******************************************************************************
  10:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   * @attention
  11:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   *
  12:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   * <h2><center>&copy; Copyright (c) 2024 STMicroelectronics.
  13:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   * All rights reserved.</center></h2>
  14:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   *
  15:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   * This software component is licensed by ST under Ultimate Liberty license
  16:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   * SLA0044, the "License"; You may not use this file except in compliance with
  17:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   * the License. You may obtain a copy of the License at:
  18:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   *                             www.st.com/SLA0044
  19:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   *
  20:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   ******************************************************************************
  21:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   * @ingroup RDividerBusVoltageSensor
  22:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   */
  23:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** 
  24:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** /* Includes ------------------------------------------------------------------*/
  25:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** #include "mc_type.h"
  26:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** #include "r_divider_bus_voltage_sensor.h"
  27:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** #include "regular_conversion_manager.h"
  28:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** 
  29:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** 
  30:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** /** @addtogroup MCSDK
  31:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   * @{
  32:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   */
  33:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** 
  34:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** /** @addtogroup BusVoltageSensor
  35:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   * @{
  36:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   */
  37:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** 
ARM GAS  /tmp/ccxx96Fs.s 			page 3


  38:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** /** @defgroup RDividerBusVoltageSensor Resistor Divider Bus Voltage Sensor
  39:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   * @brief Resistor Divider Bus Voltage Sensor implementation.
  40:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   *
  41:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   * @{
  42:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   */
  43:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** 
  44:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** /**
  45:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   * @brief  It initializes bus voltage conversion (ADC, ADC channel, conversion time.
  46:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     It must be called only after PWM_Init.
  47:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   * @param  pHandle related RDivider_Handle_t
  48:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   */
  49:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** __weak void RVBS_Init(RDivider_Handle_t *pHandle)
  50:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** {
  82              		.loc 1 50 1
  83              		.cfi_startproc
  84              		@ args = 0, pretend = 0, frame = 8
  85              		@ frame_needed = 1, uses_anonymous_args = 0
  86 0000 80B5     		push	{r7, lr}
  87              	.LCFI0:
  88              		.cfi_def_cfa_offset 8
  89              		.cfi_offset 7, -8
  90              		.cfi_offset 14, -4
  91 0002 82B0     		sub	sp, sp, #8
  92              	.LCFI1:
  93              		.cfi_def_cfa_offset 16
  94 0004 00AF     		add	r7, sp, #0
  95              	.LCFI2:
  96              		.cfi_def_cfa_register 7
  97 0006 7860     		str	r0, [r7, #4]
  51:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** #ifdef NULL_PTR_CHECK_RDIV_BUS_VLT_SNS
  52:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   if (MC_NULL == pHandle)
  53:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   {
  54:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     /* Nothing to do */
  55:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   }
  56:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   else
  57:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   {
  58:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** #endif
  59:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     /* Check */
  60:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     RVBS_Clear(pHandle);
  98              		.loc 1 60 5
  99 0008 7868     		ldr	r0, [r7, #4]
 100 000a FFF7FEFF 		bl	RVBS_Clear
  61:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** #ifdef NULL_PTR_CHECK_RDIV_BUS_VLT_SNS
  62:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   }
  63:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** #endif
  64:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** }
 101              		.loc 1 64 1
 102 000e 00BF     		nop
 103 0010 0837     		adds	r7, r7, #8
 104              	.LCFI3:
 105              		.cfi_def_cfa_offset 8
 106 0012 BD46     		mov	sp, r7
 107              	.LCFI4:
 108              		.cfi_def_cfa_register 13
 109              		@ sp needed
 110 0014 80BD     		pop	{r7, pc}
 111              		.cfi_endproc
ARM GAS  /tmp/ccxx96Fs.s 			page 4


 112              	.LFE1437:
 114              		.section	.text.RVBS_Clear,"ax",%progbits
 115              		.align	1
 116              		.weak	RVBS_Clear
 117              		.syntax unified
 118              		.thumb
 119              		.thumb_func
 120              		.fpu fpv4-sp-d16
 122              	RVBS_Clear:
 123              	.LFB1438:
  65:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** 
  66:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** 
  67:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** /**
  68:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   * @brief  It clears bus voltage FW variable containing average bus voltage
  69:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   *         value.
  70:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   * @param  pHandle related RDivider_Handle_t
  71:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   */
  72:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** __weak void RVBS_Clear(RDivider_Handle_t *pHandle)
  73:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** {
 124              		.loc 1 73 1
 125              		.cfi_startproc
 126              		@ args = 0, pretend = 0, frame = 16
 127              		@ frame_needed = 1, uses_anonymous_args = 0
 128              		@ link register save eliminated.
 129 0000 80B4     		push	{r7}
 130              	.LCFI5:
 131              		.cfi_def_cfa_offset 4
 132              		.cfi_offset 7, -4
 133 0002 85B0     		sub	sp, sp, #20
 134              	.LCFI6:
 135              		.cfi_def_cfa_offset 24
 136 0004 00AF     		add	r7, sp, #0
 137              	.LCFI7:
 138              		.cfi_def_cfa_register 7
 139 0006 7860     		str	r0, [r7, #4]
  74:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** #ifdef NULL_PTR_CHECK_RDIV_BUS_VLT_SNS
  75:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   if (MC_NULL == pHandle)
  76:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   {
  77:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     /* Nothing to do */
  78:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   }
  79:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   else
  80:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   {
  81:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** #endif
  82:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     uint16_t aux;
  83:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     uint16_t index;
  84:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** 
  85:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     aux = (pHandle->OverVoltageThreshold + pHandle->UnderVoltageThreshold) / 2U;
 140              		.loc 1 85 19
 141 0008 7B68     		ldr	r3, [r7, #4]
 142 000a 9B89     		ldrh	r3, [r3, #12]
 143 000c 1A46     		mov	r2, r3
 144              		.loc 1 85 51
 145 000e 7B68     		ldr	r3, [r7, #4]
 146 0010 5B8A     		ldrh	r3, [r3, #18]
 147              		.loc 1 85 42
 148 0012 1344     		add	r3, r3, r2
 149              		.loc 1 85 76
ARM GAS  /tmp/ccxx96Fs.s 			page 5


 150 0014 5B08     		lsrs	r3, r3, #1
 151              		.loc 1 85 9
 152 0016 BB81     		strh	r3, [r7, #12]	@ movhi
  86:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     for (index = 0U; index < pHandle->LowPassFilterBW; index++)
 153              		.loc 1 86 16
 154 0018 0023     		movs	r3, #0
 155 001a FB81     		strh	r3, [r7, #14]	@ movhi
 156              		.loc 1 86 5
 157 001c 09E0     		b	.L3
 158              	.L4:
  87:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     {
  88:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       pHandle->aBuffer[index] = aux;
 159              		.loc 1 88 14 discriminator 3
 160 001e 7B68     		ldr	r3, [r7, #4]
 161 0020 5A69     		ldr	r2, [r3, #20]
 162              		.loc 1 88 23 discriminator 3
 163 0022 FB89     		ldrh	r3, [r7, #14]
 164 0024 5B00     		lsls	r3, r3, #1
 165 0026 1344     		add	r3, r3, r2
 166              		.loc 1 88 31 discriminator 3
 167 0028 BA89     		ldrh	r2, [r7, #12]	@ movhi
 168 002a 1A80     		strh	r2, [r3]	@ movhi
  86:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     for (index = 0U; index < pHandle->LowPassFilterBW; index++)
 169              		.loc 1 86 61 discriminator 3
 170 002c FB89     		ldrh	r3, [r7, #14]
 171 002e 0133     		adds	r3, r3, #1
 172 0030 FB81     		strh	r3, [r7, #14]	@ movhi
 173              	.L3:
  86:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     for (index = 0U; index < pHandle->LowPassFilterBW; index++)
 174              		.loc 1 86 37 discriminator 1
 175 0032 7B68     		ldr	r3, [r7, #4]
 176 0034 5B89     		ldrh	r3, [r3, #10]
  86:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     for (index = 0U; index < pHandle->LowPassFilterBW; index++)
 177              		.loc 1 86 5 discriminator 1
 178 0036 FA89     		ldrh	r2, [r7, #14]
 179 0038 9A42     		cmp	r2, r3
 180 003a F0D3     		bcc	.L4
  89:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     }
  90:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     pHandle->_Super.LatestConv = aux;
 181              		.loc 1 90 32
 182 003c 7B68     		ldr	r3, [r7, #4]
 183 003e BA89     		ldrh	r2, [r7, #12]	@ movhi
 184 0040 9A80     		strh	r2, [r3, #4]	@ movhi
  91:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     pHandle->_Super.AvBusVoltage_d = aux;
 185              		.loc 1 91 36
 186 0042 7B68     		ldr	r3, [r7, #4]
 187 0044 BA89     		ldrh	r2, [r7, #12]	@ movhi
 188 0046 DA80     		strh	r2, [r3, #6]	@ movhi
  92:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     pHandle->index = 0U;
 189              		.loc 1 92 20
 190 0048 7B68     		ldr	r3, [r7, #4]
 191 004a 0022     		movs	r2, #0
 192 004c 5A76     		strb	r2, [r3, #25]
  93:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** #ifdef NULL_PTR_CHECK_RDIV_BUS_VLT_SNS
  94:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   }
  95:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** #endif
  96:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** }
ARM GAS  /tmp/ccxx96Fs.s 			page 6


 193              		.loc 1 96 1
 194 004e 00BF     		nop
 195 0050 1437     		adds	r7, r7, #20
 196              	.LCFI8:
 197              		.cfi_def_cfa_offset 4
 198 0052 BD46     		mov	sp, r7
 199              	.LCFI9:
 200              		.cfi_def_cfa_register 13
 201              		@ sp needed
 202 0054 5DF8047B 		ldr	r7, [sp], #4
 203              	.LCFI10:
 204              		.cfi_restore 7
 205              		.cfi_def_cfa_offset 0
 206 0058 7047     		bx	lr
 207              		.cfi_endproc
 208              	.LFE1438:
 210              		.section	.text.RVBS_CalcAvVbus,"ax",%progbits
 211              		.align	1
 212              		.weak	RVBS_CalcAvVbus
 213              		.syntax unified
 214              		.thumb
 215              		.thumb_func
 216              		.fpu fpv4-sp-d16
 218              	RVBS_CalcAvVbus:
 219              	.LFB1439:
  97:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** 
  98:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** /**
  99:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   * @brief  It actually performes the Vbus ADC conversion and updates averaged
 100:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   *         value for all STM32 families except STM32F3 in u16Volt format.
 101:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   * @param  pHandle related RDivider_Handle_t
 102:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   * @retval uint16_t Fault code error
 103:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   */
 104:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** __weak uint16_t RVBS_CalcAvVbus(RDivider_Handle_t *pHandle, uint16_t rawValue)
 105:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** {
 220              		.loc 1 105 1
 221              		.cfi_startproc
 222              		@ args = 0, pretend = 0, frame = 24
 223              		@ frame_needed = 1, uses_anonymous_args = 0
 224 0000 80B5     		push	{r7, lr}
 225              	.LCFI11:
 226              		.cfi_def_cfa_offset 8
 227              		.cfi_offset 7, -8
 228              		.cfi_offset 14, -4
 229 0002 86B0     		sub	sp, sp, #24
 230              	.LCFI12:
 231              		.cfi_def_cfa_offset 32
 232 0004 00AF     		add	r7, sp, #0
 233              	.LCFI13:
 234              		.cfi_def_cfa_register 7
 235 0006 7860     		str	r0, [r7, #4]
 236 0008 0B46     		mov	r3, r1
 237 000a 7B80     		strh	r3, [r7, #2]	@ movhi
 106:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   uint16_t tempValue;
 107:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** #ifdef NULL_PTR_CHECK_RDIV_BUS_VLT_SNS
 108:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   if (MC_NULL == pHandle)
 109:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   {
 110:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     tempValue = 0U;
ARM GAS  /tmp/ccxx96Fs.s 			page 7


 111:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   }
 112:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   else
 113:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   {
 114:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** #endif
 115:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     uint32_t wtemp;
 116:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     uint16_t hAux;
 117:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     uint8_t i;
 118:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** 
 119:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     hAux = rawValue;
 238              		.loc 1 119 10
 239 000c 7B88     		ldrh	r3, [r7, #2]	@ movhi
 240 000e 3B82     		strh	r3, [r7, #16]	@ movhi
 120:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** 
 121:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     if (0xFFFFU == hAux)
 241              		.loc 1 121 8
 242 0010 3B8A     		ldrh	r3, [r7, #16]
 243 0012 4FF6FF72 		movw	r2, #65535
 244 0016 9342     		cmp	r3, r2
 245 0018 3FD0     		beq	.L6
 122:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     {
 123:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       /* Nothing to do */
 124:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     }
 125:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     else
 126:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     {
 127:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       /* Store latest value on buffer */
 128:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       pHandle->aBuffer[pHandle->index] = hAux;
 246              		.loc 1 128 14
 247 001a 7B68     		ldr	r3, [r7, #4]
 248 001c 5A69     		ldr	r2, [r3, #20]
 249              		.loc 1 128 31
 250 001e 7B68     		ldr	r3, [r7, #4]
 251 0020 5B7E     		ldrb	r3, [r3, #25]	@ zero_extendqisi2
 252              		.loc 1 128 23
 253 0022 5B00     		lsls	r3, r3, #1
 254 0024 1344     		add	r3, r3, r2
 255              		.loc 1 128 40
 256 0026 3A8A     		ldrh	r2, [r7, #16]	@ movhi
 257 0028 1A80     		strh	r2, [r3]	@ movhi
 129:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       wtemp = 0u;
 258              		.loc 1 129 13
 259 002a 0023     		movs	r3, #0
 260 002c 7B61     		str	r3, [r7, #20]
 130:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       for (i = 0U; i < (uint8_t)pHandle->LowPassFilterBW; i++)
 261              		.loc 1 130 14
 262 002e 0023     		movs	r3, #0
 263 0030 FB74     		strb	r3, [r7, #19]
 264              		.loc 1 130 7
 265 0032 0CE0     		b	.L7
 266              	.L8:
 131:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       {
 132:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****         wtemp += pHandle->aBuffer[i];
 267              		.loc 1 132 25 discriminator 3
 268 0034 7B68     		ldr	r3, [r7, #4]
 269 0036 5A69     		ldr	r2, [r3, #20]
 270              		.loc 1 132 34 discriminator 3
 271 0038 FB7C     		ldrb	r3, [r7, #19]	@ zero_extendqisi2
 272 003a 5B00     		lsls	r3, r3, #1
ARM GAS  /tmp/ccxx96Fs.s 			page 8


 273 003c 1344     		add	r3, r3, r2
 274 003e 1B88     		ldrh	r3, [r3]
 275 0040 1A46     		mov	r2, r3
 276              		.loc 1 132 15 discriminator 3
 277 0042 7B69     		ldr	r3, [r7, #20]
 278 0044 1344     		add	r3, r3, r2
 279 0046 7B61     		str	r3, [r7, #20]
 130:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       for (i = 0U; i < (uint8_t)pHandle->LowPassFilterBW; i++)
 280              		.loc 1 130 60 discriminator 3
 281 0048 FB7C     		ldrb	r3, [r7, #19]	@ zero_extendqisi2
 282 004a 0133     		adds	r3, r3, #1
 283 004c FB74     		strb	r3, [r7, #19]
 284              	.L7:
 130:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       for (i = 0U; i < (uint8_t)pHandle->LowPassFilterBW; i++)
 285              		.loc 1 130 40 discriminator 1
 286 004e 7B68     		ldr	r3, [r7, #4]
 287 0050 5B89     		ldrh	r3, [r3, #10]
 130:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       for (i = 0U; i < (uint8_t)pHandle->LowPassFilterBW; i++)
 288              		.loc 1 130 24 discriminator 1
 289 0052 DBB2     		uxtb	r3, r3
 130:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       for (i = 0U; i < (uint8_t)pHandle->LowPassFilterBW; i++)
 290              		.loc 1 130 7 discriminator 1
 291 0054 FA7C     		ldrb	r2, [r7, #19]	@ zero_extendqisi2
 292 0056 9A42     		cmp	r2, r3
 293 0058 ECD3     		bcc	.L8
 133:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       }
 134:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       wtemp /= pHandle->LowPassFilterBW;
 294              		.loc 1 134 23
 295 005a 7B68     		ldr	r3, [r7, #4]
 296 005c 5B89     		ldrh	r3, [r3, #10]
 297 005e 1A46     		mov	r2, r3
 298              		.loc 1 134 13
 299 0060 7B69     		ldr	r3, [r7, #20]
 300 0062 B3FBF2F3 		udiv	r3, r3, r2
 301 0066 7B61     		str	r3, [r7, #20]
 135:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       /* Averaging done over the buffer stored values */
 136:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       pHandle->_Super.AvBusVoltage_d = (uint16_t)wtemp;
 302              		.loc 1 136 40
 303 0068 7B69     		ldr	r3, [r7, #20]
 304 006a 9AB2     		uxth	r2, r3
 305              		.loc 1 136 38
 306 006c 7B68     		ldr	r3, [r7, #4]
 307 006e DA80     		strh	r2, [r3, #6]	@ movhi
 137:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       pHandle->_Super.LatestConv = hAux;
 308              		.loc 1 137 34
 309 0070 7B68     		ldr	r3, [r7, #4]
 310 0072 3A8A     		ldrh	r2, [r7, #16]	@ movhi
 311 0074 9A80     		strh	r2, [r3, #4]	@ movhi
 138:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** 
 139:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       if ((uint16_t)pHandle->index < (pHandle->LowPassFilterBW - 1U))
 312              		.loc 1 139 28
 313 0076 7B68     		ldr	r3, [r7, #4]
 314 0078 5B7E     		ldrb	r3, [r3, #25]	@ zero_extendqisi2
 315              		.loc 1 139 11
 316 007a 1A46     		mov	r2, r3
 317              		.loc 1 139 46
 318 007c 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccxx96Fs.s 			page 9


 319 007e 5B89     		ldrh	r3, [r3, #10]
 320              		.loc 1 139 64
 321 0080 013B     		subs	r3, r3, #1
 322              		.loc 1 139 10
 323 0082 9A42     		cmp	r2, r3
 324 0084 06D2     		bcs	.L9
 140:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       {
 141:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****         pHandle->index++;
 325              		.loc 1 141 16
 326 0086 7B68     		ldr	r3, [r7, #4]
 327 0088 5B7E     		ldrb	r3, [r3, #25]	@ zero_extendqisi2
 328              		.loc 1 141 23
 329 008a 0133     		adds	r3, r3, #1
 330 008c DAB2     		uxtb	r2, r3
 331 008e 7B68     		ldr	r3, [r7, #4]
 332 0090 5A76     		strb	r2, [r3, #25]
 333 0092 02E0     		b	.L6
 334              	.L9:
 142:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       }
 143:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       else
 144:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       {
 145:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****         pHandle->index = 0U;
 335              		.loc 1 145 24
 336 0094 7B68     		ldr	r3, [r7, #4]
 337 0096 0022     		movs	r2, #0
 338 0098 5A76     		strb	r2, [r3, #25]
 339              	.L6:
 146:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       }
 147:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     }
 148:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** 
 149:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     pHandle->_Super.FaultState = RVBS_CheckFaultState(pHandle);
 340              		.loc 1 149 34
 341 009a 7868     		ldr	r0, [r7, #4]
 342 009c FFF7FEFF 		bl	RVBS_CheckFaultState
 343 00a0 0346     		mov	r3, r0
 344 00a2 1A46     		mov	r2, r3
 345              		.loc 1 149 32
 346 00a4 7B68     		ldr	r3, [r7, #4]
 347 00a6 1A81     		strh	r2, [r3, #8]	@ movhi
 150:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     tempValue = pHandle->_Super.FaultState;
 348              		.loc 1 150 15
 349 00a8 7B68     		ldr	r3, [r7, #4]
 350 00aa 1B89     		ldrh	r3, [r3, #8]	@ movhi
 351 00ac FB81     		strh	r3, [r7, #14]	@ movhi
 151:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** #ifdef NULL_PTR_CHECK_RDIV_BUS_VLT_SNS
 152:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   }
 153:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** #endif
 154:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   return (tempValue);
 352              		.loc 1 154 10
 353 00ae FB89     		ldrh	r3, [r7, #14]
 155:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** }
 354              		.loc 1 155 1
 355 00b0 1846     		mov	r0, r3
 356 00b2 1837     		adds	r7, r7, #24
 357              	.LCFI14:
 358              		.cfi_def_cfa_offset 8
 359 00b4 BD46     		mov	sp, r7
ARM GAS  /tmp/ccxx96Fs.s 			page 10


 360              	.LCFI15:
 361              		.cfi_def_cfa_register 13
 362              		@ sp needed
 363 00b6 80BD     		pop	{r7, pc}
 364              		.cfi_endproc
 365              	.LFE1439:
 367              		.section	.text.RVBS_CheckFaultState,"ax",%progbits
 368              		.align	1
 369              		.weak	RVBS_CheckFaultState
 370              		.syntax unified
 371              		.thumb
 372              		.thumb_func
 373              		.fpu fpv4-sp-d16
 375              	RVBS_CheckFaultState:
 376              	.LFB1440:
 156:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** 
 157:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** /**
 158:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   * @brief  It returns #MC_OVER_VOLT, #MC_UNDER_VOLT or #MC_NO_ERROR depending on
 159:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   *         bus voltage and protection threshold values
 160:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   * @param  pHandle related RDivider_Handle_t
 161:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   * @retval uint16_t Fault code error
 162:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   */
 163:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** __weak uint16_t RVBS_CheckFaultState(RDivider_Handle_t *pHandle)
 164:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** {
 377              		.loc 1 164 1
 378              		.cfi_startproc
 379              		@ args = 0, pretend = 0, frame = 16
 380              		@ frame_needed = 1, uses_anonymous_args = 0
 381              		@ link register save eliminated.
 382 0000 80B4     		push	{r7}
 383              	.LCFI16:
 384              		.cfi_def_cfa_offset 4
 385              		.cfi_offset 7, -4
 386 0002 85B0     		sub	sp, sp, #20
 387              	.LCFI17:
 388              		.cfi_def_cfa_offset 24
 389 0004 00AF     		add	r7, sp, #0
 390              	.LCFI18:
 391              		.cfi_def_cfa_register 7
 392 0006 7860     		str	r0, [r7, #4]
 165:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   uint16_t fault;
 166:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** #ifdef NULL_PTR_CHECK_RDIV_BUS_VLT_SNS
 167:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   if (MC_NULL == pHandle)
 168:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   {
 169:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     fault = MC_SW_ERROR;
 170:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   }
 171:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   else
 172:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   {
 173:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** #endif
 174:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** 	/* If both thresholds are equal, single threshold feature is used */
 175:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** 	if (pHandle->OverVoltageThreshold == pHandle->OverVoltageThresholdLow)
 393              		.loc 1 175 13
 394 0008 7B68     		ldr	r3, [r7, #4]
 395 000a 9A89     		ldrh	r2, [r3, #12]
 396              		.loc 1 175 46
 397 000c 7B68     		ldr	r3, [r7, #4]
 398 000e DB89     		ldrh	r3, [r3, #14]
ARM GAS  /tmp/ccxx96Fs.s 			page 11


 399              		.loc 1 175 5
 400 0010 9A42     		cmp	r2, r3
 401 0012 14D1     		bne	.L12
 176:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** 	{
 177:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       if (pHandle->_Super.AvBusVoltage_d > pHandle->OverVoltageThreshold)
 402              		.loc 1 177 26
 403 0014 7B68     		ldr	r3, [r7, #4]
 404 0016 DA88     		ldrh	r2, [r3, #6]
 405              		.loc 1 177 51
 406 0018 7B68     		ldr	r3, [r7, #4]
 407 001a 9B89     		ldrh	r3, [r3, #12]
 408              		.loc 1 177 10
 409 001c 9A42     		cmp	r2, r3
 410 001e 02D9     		bls	.L13
 178:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       {
 179:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****         fault = MC_OVER_VOLT;
 411              		.loc 1 179 15
 412 0020 0223     		movs	r3, #2
 413 0022 FB81     		strh	r3, [r7, #14]	@ movhi
 414 0024 38E0     		b	.L14
 415              	.L13:
 180:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       }
 181:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       else if (pHandle->_Super.AvBusVoltage_d < pHandle->UnderVoltageThreshold)
 416              		.loc 1 181 31
 417 0026 7B68     		ldr	r3, [r7, #4]
 418 0028 DA88     		ldrh	r2, [r3, #6]
 419              		.loc 1 181 56
 420 002a 7B68     		ldr	r3, [r7, #4]
 421 002c 5B8A     		ldrh	r3, [r3, #18]
 422              		.loc 1 181 15
 423 002e 9A42     		cmp	r2, r3
 424 0030 02D2     		bcs	.L15
 182:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       {
 183:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****         fault = MC_UNDER_VOLT;
 425              		.loc 1 183 15
 426 0032 0423     		movs	r3, #4
 427 0034 FB81     		strh	r3, [r7, #14]	@ movhi
 428 0036 2FE0     		b	.L14
 429              	.L15:
 184:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       }
 185:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       else
 186:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       {
 187:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****         fault = MC_NO_ERROR;
 430              		.loc 1 187 15
 431 0038 0023     		movs	r3, #0
 432 003a FB81     		strh	r3, [r7, #14]	@ movhi
 433 003c 2CE0     		b	.L14
 434              	.L12:
 188:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       }
 189:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** 	}
 190:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     else
 191:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     {
 192:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       /* If both thresholds are different, hysteresis feature is used (Brake mode) */
 193:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       if (pHandle->_Super.AvBusVoltage_d < pHandle->UnderVoltageThreshold)
 435              		.loc 1 193 26
 436 003e 7B68     		ldr	r3, [r7, #4]
 437 0040 DA88     		ldrh	r2, [r3, #6]
ARM GAS  /tmp/ccxx96Fs.s 			page 12


 438              		.loc 1 193 51
 439 0042 7B68     		ldr	r3, [r7, #4]
 440 0044 5B8A     		ldrh	r3, [r3, #18]
 441              		.loc 1 193 10
 442 0046 9A42     		cmp	r2, r3
 443 0048 02D2     		bcs	.L16
 194:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       {
 195:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****         fault = MC_UNDER_VOLT;
 444              		.loc 1 195 15
 445 004a 0423     		movs	r3, #4
 446 004c FB81     		strh	r3, [r7, #14]	@ movhi
 447 004e 23E0     		b	.L14
 448              	.L16:
 196:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       }
 197:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       else if ( false == pHandle->OverVoltageHysteresisUpDir )
 449              		.loc 1 197 33
 450 0050 7B68     		ldr	r3, [r7, #4]
 451 0052 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
 452              		.loc 1 197 23
 453 0054 83F00103 		eor	r3, r3, #1
 454 0058 DBB2     		uxtb	r3, r3
 455              		.loc 1 197 15
 456 005a 002B     		cmp	r3, #0
 457 005c 0ED0     		beq	.L17
 198:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       {
 199:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****         if (pHandle->_Super.AvBusVoltage_d < pHandle->OverVoltageThresholdLow)
 458              		.loc 1 199 28
 459 005e 7B68     		ldr	r3, [r7, #4]
 460 0060 DA88     		ldrh	r2, [r3, #6]
 461              		.loc 1 199 53
 462 0062 7B68     		ldr	r3, [r7, #4]
 463 0064 DB89     		ldrh	r3, [r3, #14]
 464              		.loc 1 199 12
 465 0066 9A42     		cmp	r2, r3
 466 0068 05D2     		bcs	.L18
 200:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****         {
 201:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****           pHandle->OverVoltageHysteresisUpDir = true;
 467              		.loc 1 201 47
 468 006a 7B68     		ldr	r3, [r7, #4]
 469 006c 0122     		movs	r2, #1
 470 006e 1A74     		strb	r2, [r3, #16]
 202:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****           fault = MC_NO_ERROR;
 471              		.loc 1 202 17
 472 0070 0023     		movs	r3, #0
 473 0072 FB81     		strh	r3, [r7, #14]	@ movhi
 474 0074 10E0     		b	.L14
 475              	.L18:
 203:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****         }
 204:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****         else{
 205:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****           fault = MC_OVER_VOLT;
 476              		.loc 1 205 17
 477 0076 0223     		movs	r3, #2
 478 0078 FB81     		strh	r3, [r7, #14]	@ movhi
 479 007a 0DE0     		b	.L14
 480              	.L17:
 206:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****         }
 207:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       }
ARM GAS  /tmp/ccxx96Fs.s 			page 13


 208:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       else
 209:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       {
 210:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****         if (pHandle->_Super.AvBusVoltage_d > pHandle->OverVoltageThreshold)
 481              		.loc 1 210 28
 482 007c 7B68     		ldr	r3, [r7, #4]
 483 007e DA88     		ldrh	r2, [r3, #6]
 484              		.loc 1 210 53
 485 0080 7B68     		ldr	r3, [r7, #4]
 486 0082 9B89     		ldrh	r3, [r3, #12]
 487              		.loc 1 210 12
 488 0084 9A42     		cmp	r2, r3
 489 0086 05D9     		bls	.L19
 211:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****         {
 212:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****           pHandle->OverVoltageHysteresisUpDir = false;
 490              		.loc 1 212 47
 491 0088 7B68     		ldr	r3, [r7, #4]
 492 008a 0022     		movs	r2, #0
 493 008c 1A74     		strb	r2, [r3, #16]
 213:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****           fault = MC_OVER_VOLT;
 494              		.loc 1 213 17
 495 008e 0223     		movs	r3, #2
 496 0090 FB81     		strh	r3, [r7, #14]	@ movhi
 497 0092 01E0     		b	.L14
 498              	.L19:
 214:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****         }
 215:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****         else{
 216:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****           fault = MC_NO_ERROR;
 499              		.loc 1 216 17
 500 0094 0023     		movs	r3, #0
 501 0096 FB81     		strh	r3, [r7, #14]	@ movhi
 502              	.L14:
 217:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****         }
 218:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****       }
 219:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****     }
 220:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** #ifdef NULL_PTR_CHECK_RDIV_BUS_VLT_SNS
 221:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   }
 222:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** #endif
 223:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c ****   return (fault);
 503              		.loc 1 223 10
 504 0098 FB89     		ldrh	r3, [r7, #14]
 224:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/r_divider_bus_voltage_sensor.c **** }
 505              		.loc 1 224 1
 506 009a 1846     		mov	r0, r3
 507 009c 1437     		adds	r7, r7, #20
 508              	.LCFI19:
 509              		.cfi_def_cfa_offset 4
 510 009e BD46     		mov	sp, r7
 511              	.LCFI20:
 512              		.cfi_def_cfa_register 13
 513              		@ sp needed
 514 00a0 5DF8047B 		ldr	r7, [sp], #4
 515              	.LCFI21:
 516              		.cfi_restore 7
 517              		.cfi_def_cfa_offset 0
 518 00a4 7047     		bx	lr
 519              		.cfi_endproc
 520              	.LFE1440:
ARM GAS  /tmp/ccxx96Fs.s 			page 14


 522              		.text
 523              	.Letext0:
 524              		.file 2 "/usr/share/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/machine/_default_type
 525              		.file 3 "/usr/share/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/sys/_stdint.h"
 526              		.file 4 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_ll_tim.h"
 527              		.file 5 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_ll_usart.h"
 528              		.file 6 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_ll_dma.h"
 529              		.file 7 "Inc/mc_type.h"
 530              		.file 8 "MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h"
 531              		.file 9 "MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/r_divider_bus_voltage_sensor.h"
ARM GAS  /tmp/ccxx96Fs.s 			page 15


DEFINED SYMBOLS
                            *ABS*:0000000000000000 r_divider_bus_voltage_sensor.c
     /tmp/ccxx96Fs.s:18     .rodata.OFFSET_TAB_CCMRx:0000000000000000 $d
     /tmp/ccxx96Fs.s:21     .rodata.OFFSET_TAB_CCMRx:0000000000000000 OFFSET_TAB_CCMRx
     /tmp/ccxx96Fs.s:24     .rodata.SHIFT_TAB_OCxx:0000000000000000 $d
     /tmp/ccxx96Fs.s:27     .rodata.SHIFT_TAB_OCxx:0000000000000000 SHIFT_TAB_OCxx
     /tmp/ccxx96Fs.s:30     .rodata.SHIFT_TAB_ICxx:0000000000000000 $d
     /tmp/ccxx96Fs.s:33     .rodata.SHIFT_TAB_ICxx:0000000000000000 SHIFT_TAB_ICxx
     /tmp/ccxx96Fs.s:36     .rodata.SHIFT_TAB_CCxP:0000000000000000 $d
     /tmp/ccxx96Fs.s:39     .rodata.SHIFT_TAB_CCxP:0000000000000000 SHIFT_TAB_CCxP
     /tmp/ccxx96Fs.s:42     .rodata.SHIFT_TAB_OISx:0000000000000000 $d
     /tmp/ccxx96Fs.s:45     .rodata.SHIFT_TAB_OISx:0000000000000000 SHIFT_TAB_OISx
     /tmp/ccxx96Fs.s:48     .rodata.USART_PRESCALER_TAB:0000000000000000 $d
     /tmp/ccxx96Fs.s:51     .rodata.USART_PRESCALER_TAB:0000000000000000 USART_PRESCALER_TAB
     /tmp/ccxx96Fs.s:65     .rodata.CHANNEL_OFFSET_TAB:0000000000000000 $d
     /tmp/ccxx96Fs.s:68     .rodata.CHANNEL_OFFSET_TAB:0000000000000000 CHANNEL_OFFSET_TAB
     /tmp/ccxx96Fs.s:71     .text.RVBS_Init:0000000000000000 $t
     /tmp/ccxx96Fs.s:79     .text.RVBS_Init:0000000000000000 RVBS_Init
     /tmp/ccxx96Fs.s:122    .text.RVBS_Clear:0000000000000000 RVBS_Clear
     /tmp/ccxx96Fs.s:115    .text.RVBS_Clear:0000000000000000 $t
     /tmp/ccxx96Fs.s:211    .text.RVBS_CalcAvVbus:0000000000000000 $t
     /tmp/ccxx96Fs.s:218    .text.RVBS_CalcAvVbus:0000000000000000 RVBS_CalcAvVbus
     /tmp/ccxx96Fs.s:375    .text.RVBS_CheckFaultState:0000000000000000 RVBS_CheckFaultState
     /tmp/ccxx96Fs.s:368    .text.RVBS_CheckFaultState:0000000000000000 $t

NO UNDEFINED SYMBOLS
