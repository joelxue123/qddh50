ARM GAS  /tmp/ccKRKJvM.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 2
  13              		.file	"virtual_speed_sensor.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.rodata.OFFSET_TAB_CCMRx,"a"
  18              		.align	2
  21              	OFFSET_TAB_CCMRx:
  22 0000 00000000 		.ascii	"\000\000\000\000\004\004\004\00488"
  22      04040404 
  22      3838
  23              		.section	.rodata.SHIFT_TAB_OCxx,"a"
  24              		.align	2
  27              	SHIFT_TAB_OCxx:
  28 0000 00000800 		.ascii	"\000\000\010\000\000\000\010\000\000\010"
  28      00000800 
  28      0008
  29              		.section	.rodata.SHIFT_TAB_ICxx,"a"
  30              		.align	2
  33              	SHIFT_TAB_ICxx:
  34 0000 00000800 		.ascii	"\000\000\010\000\000\000\010\000\000\000"
  34      00000800 
  34      0000
  35              		.section	.rodata.SHIFT_TAB_CCxP,"a"
  36              		.align	2
  39              	SHIFT_TAB_CCxP:
  40 0000 00020406 		.ascii	"\000\002\004\006\010\012\014\016\020\024"
  40      080A0C0E 
  40      1014
  41              		.section	.rodata.SHIFT_TAB_OISx,"a"
  42              		.align	2
  45              	SHIFT_TAB_OISx:
  46 0000 00010203 		.ascii	"\000\001\002\003\004\005\006\007\010\012"
  46      04050607 
  46      080A
  47              		.section	.rodata.USART_PRESCALER_TAB,"a"
  48              		.align	2
  51              	USART_PRESCALER_TAB:
  52 0000 01000000 		.word	1
  53 0004 02000000 		.word	2
  54 0008 04000000 		.word	4
  55 000c 06000000 		.word	6
  56 0010 08000000 		.word	8
  57 0014 0A000000 		.word	10
  58 0018 0C000000 		.word	12
  59 001c 10000000 		.word	16
ARM GAS  /tmp/ccKRKJvM.s 			page 2


  60 0020 20000000 		.word	32
  61 0024 40000000 		.word	64
  62 0028 80000000 		.word	128
  63 002c 00010000 		.word	256
  64              		.section	.rodata.CHANNEL_OFFSET_TAB,"a"
  65              		.align	2
  68              	CHANNEL_OFFSET_TAB:
  69 0000 081C3044 		.ascii	"\010\0340DXl"
  69      586C
  70              		.section	.text.VSS_Init,"ax",%progbits
  71              		.align	1
  72              		.weak	VSS_Init
  73              		.arch armv7e-m
  74              		.syntax unified
  75              		.thumb
  76              		.thumb_func
  77              		.fpu fpv4-sp-d16
  79              	VSS_Init:
  80              	.LFB1440:
  81              		.file 1 "MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c"
   1:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** /**
   2:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   ******************************************************************************
   3:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @file    virtual_speed_sensor.c
   4:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @author  Motor Control SDK Team, ST Microelectronics
   5:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @brief   This file provides firmware functions that implement the features
   6:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *          of the Virtual Speed Sensor component of the Motor Control SDK.
   7:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *
   8:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   ******************************************************************************
   9:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @attention
  10:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *
  11:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * <h2><center>&copy; Copyright (c) 2024 STMicroelectronics.
  12:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * All rights reserved.</center></h2>
  13:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *
  14:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * This software component is licensed by ST under Ultimate Liberty license
  15:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * SLA0044, the "License"; You may not use this file except in compliance with
  16:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * the License. You may obtain a copy of the License at:
  17:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *                             www.st.com/SLA0044
  18:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *
  19:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   ******************************************************************************
  20:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @ingroup VirtualSpeedSensor
  21:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   */
  22:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
  23:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** /* Includes ------------------------------------------------------------------*/
  24:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #include "virtual_speed_sensor.h"
  25:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
  26:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
  27:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** /** @addtogroup MCSDK
  28:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @{
  29:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   */
  30:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
  31:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** /** @addtogroup SpeednPosFdbk
  32:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @{
  33:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   */
  34:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
  35:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** /** @defgroup VirtualSpeedSensor Virtual Speed & Position Feedback
  36:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @brief Virtual Speed Speed & Position Feedback implementation
  37:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *
ARM GAS  /tmp/ccKRKJvM.s 			page 3


  38:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * This component provides a "virtual" implementation of the speed and position feedback features.
  39:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * This implementation provides a theoretical estimation of the speed and position of the rotor of
  40:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * the motor based on a mechanical acceleration and an initial angle set by the application.
  41:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *
  42:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * This component is used during the @ref RevUpCtrl "Rev-Up Control" phases of the motor or in an
  43:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @ref OpenLoop "Open Loop Control" configuration in a sensorless subsystem.
  44:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *
  45:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *
  46:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @{
  47:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   */
  48:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
  49:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** /**
  50:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @brief  Software initialization of VirtualSpeedSensor component.
  51:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @param  pHandle: handler of the current instance of the VirtualSpeedSensor component.
  52:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @retval none
  53:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *
  54:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * - Calls VSS_Clear.
  55:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * - Called at initialization of the whole MC core.
  56:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   */
  57:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** __weak void VSS_Init(VirtualSpeedSensor_Handle_t *pHandle)
  58:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** {
  82              		.loc 1 58 1
  83              		.cfi_startproc
  84              		@ args = 0, pretend = 0, frame = 8
  85              		@ frame_needed = 1, uses_anonymous_args = 0
  86 0000 80B5     		push	{r7, lr}
  87              	.LCFI0:
  88              		.cfi_def_cfa_offset 8
  89              		.cfi_offset 7, -8
  90              		.cfi_offset 14, -4
  91 0002 82B0     		sub	sp, sp, #8
  92              	.LCFI1:
  93              		.cfi_def_cfa_offset 16
  94 0004 00AF     		add	r7, sp, #0
  95              	.LCFI2:
  96              		.cfi_def_cfa_register 7
  97 0006 7860     		str	r0, [r7, #4]
  59:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   VSS_Clear(pHandle);
  98              		.loc 1 59 3
  99 0008 7868     		ldr	r0, [r7, #4]
 100 000a FFF7FEFF 		bl	VSS_Clear
  60:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** }
 101              		.loc 1 60 1
 102 000e 00BF     		nop
 103 0010 0837     		adds	r7, r7, #8
 104              	.LCFI3:
 105              		.cfi_def_cfa_offset 8
 106 0012 BD46     		mov	sp, r7
 107              	.LCFI4:
 108              		.cfi_def_cfa_register 13
 109              		@ sp needed
 110 0014 80BD     		pop	{r7, pc}
 111              		.cfi_endproc
 112              	.LFE1440:
 114              		.section	.text.VSS_Clear,"ax",%progbits
 115              		.align	1
 116              		.weak	VSS_Clear
ARM GAS  /tmp/ccKRKJvM.s 			page 4


 117              		.syntax unified
 118              		.thumb
 119              		.thumb_func
 120              		.fpu fpv4-sp-d16
 122              	VSS_Clear:
 123              	.LFB1441:
  61:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
  62:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** /**
  63:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @brief  Software initialization of VSS object to be performed at each restart
  64:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *         of the motor.
  65:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @param  pHandle: handler of the current instance of the VirtualSpeedSensor component.
  66:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @retval none
  67:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   */
  68:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** __weak void VSS_Clear(VirtualSpeedSensor_Handle_t *pHandle)
  69:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** {
 124              		.loc 1 69 1
 125              		.cfi_startproc
 126              		@ args = 0, pretend = 0, frame = 8
 127              		@ frame_needed = 1, uses_anonymous_args = 0
 128              		@ link register save eliminated.
 129 0000 80B4     		push	{r7}
 130              	.LCFI5:
 131              		.cfi_def_cfa_offset 4
 132              		.cfi_offset 7, -4
 133 0002 83B0     		sub	sp, sp, #12
 134              	.LCFI6:
 135              		.cfi_def_cfa_offset 16
 136 0004 00AF     		add	r7, sp, #0
 137              	.LCFI7:
 138              		.cfi_def_cfa_register 7
 139 0006 7860     		str	r0, [r7, #4]
  70:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_CHECK_VIR_SPD_SEN
  71:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   if (MC_NULL == pHandle)
  72:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   {
  73:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     /* Nothing to do */
  74:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   }
  75:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   else
  76:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   {
  77:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
  78:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->_Super.bSpeedErrorNumber = 0U;
 140              		.loc 1 78 39
 141 0008 7B68     		ldr	r3, [r7, #4]
 142 000a 0022     		movs	r2, #0
 143 000c 1A70     		strb	r2, [r3]
  79:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->_Super.hElAngle = 0;
 144              		.loc 1 79 30
 145 000e 7B68     		ldr	r3, [r7, #4]
 146 0010 0022     		movs	r2, #0
 147 0012 9A80     		strh	r2, [r3, #4]	@ movhi
  80:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->_Super.hMecAngle = 0;
 148              		.loc 1 80 31
 149 0014 7B68     		ldr	r3, [r7, #4]
 150 0016 0022     		movs	r2, #0
 151 0018 DA80     		strh	r2, [r3, #6]	@ movhi
  81:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->_Super.hAvrMecSpeedUnit = 0;
 152              		.loc 1 81 38
 153 001a 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccKRKJvM.s 			page 5


 154 001c 0022     		movs	r2, #0
 155 001e 9A81     		strh	r2, [r3, #12]	@ movhi
  82:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->_Super.hElSpeedDpp = 0;
 156              		.loc 1 82 33
 157 0020 7B68     		ldr	r3, [r7, #4]
 158 0022 0022     		movs	r2, #0
 159 0024 DA81     		strh	r2, [r3, #14]	@ movhi
  83:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->_Super.hMecAccelUnitP = 0;
 160              		.loc 1 83 36
 161 0026 7B68     		ldr	r3, [r7, #4]
 162 0028 0022     		movs	r2, #0
 163 002a 5A82     		strh	r2, [r3, #18]	@ movhi
  84:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->_Super.bSpeedErrorNumber = 0U;
 164              		.loc 1 84 39
 165 002c 7B68     		ldr	r3, [r7, #4]
 166 002e 0022     		movs	r2, #0
 167 0030 1A70     		strb	r2, [r3]
  85:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
  86:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->wElAccDppP32 = 0;
 168              		.loc 1 86 27
 169 0032 7B68     		ldr	r3, [r7, #4]
 170 0034 0022     		movs	r2, #0
 171 0036 1A62     		str	r2, [r3, #32]
  87:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->wElSpeedDpp32 = 0;
 172              		.loc 1 87 28
 173 0038 7B68     		ldr	r3, [r7, #4]
 174 003a 0022     		movs	r2, #0
 175 003c 5A62     		str	r2, [r3, #36]
  88:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->hRemainingStep = 0U;
 176              		.loc 1 88 29
 177 003e 7B68     		ldr	r3, [r7, #4]
 178 0040 0022     		movs	r2, #0
 179 0042 1A85     		strh	r2, [r3, #40]	@ movhi
  89:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->hElAngleAccu = 0;
 180              		.loc 1 89 27
 181 0044 7B68     		ldr	r3, [r7, #4]
 182 0046 0022     		movs	r2, #0
 183 0048 1A86     		strh	r2, [r3, #48]	@ movhi
  90:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
  91:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->bTransitionStarted = false;
 184              		.loc 1 91 33
 185 004a 7B68     		ldr	r3, [r7, #4]
 186 004c 0022     		movs	r2, #0
 187 004e 83F82C20 		strb	r2, [r3, #44]
  92:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->bTransitionEnded = false;
 188              		.loc 1 92 31
 189 0052 7B68     		ldr	r3, [r7, #4]
 190 0054 0022     		movs	r2, #0
 191 0056 83F82D20 		strb	r2, [r3, #45]
  93:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->hTransitionRemainingSteps = pHandle->hTransitionSteps;
 192              		.loc 1 93 49
 193 005a 7B68     		ldr	r3, [r7, #4]
 194 005c B3F93620 		ldrsh	r2, [r3, #54]
 195              		.loc 1 93 40
 196 0060 7B68     		ldr	r3, [r7, #4]
 197 0062 DA85     		strh	r2, [r3, #46]	@ movhi
  94:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->bTransitionLocked = false;
ARM GAS  /tmp/ccKRKJvM.s 			page 6


 198              		.loc 1 94 32
 199 0064 7B68     		ldr	r3, [r7, #4]
 200 0066 0022     		movs	r2, #0
 201 0068 83F83220 		strb	r2, [r3, #50]
  95:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
  96:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->bCopyObserver = false;
 202              		.loc 1 96 28
 203 006c 7B68     		ldr	r3, [r7, #4]
 204 006e 0022     		movs	r2, #0
 205 0070 83F83320 		strb	r2, [r3, #51]
  97:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_CHECK_VIR_SPD_SEN
  98:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   }
  99:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 100:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** }
 206              		.loc 1 100 1
 207 0074 00BF     		nop
 208 0076 0C37     		adds	r7, r7, #12
 209              	.LCFI8:
 210              		.cfi_def_cfa_offset 4
 211 0078 BD46     		mov	sp, r7
 212              	.LCFI9:
 213              		.cfi_def_cfa_register 13
 214              		@ sp needed
 215 007a 5DF8047B 		ldr	r7, [sp], #4
 216              	.LCFI10:
 217              		.cfi_restore 7
 218              		.cfi_def_cfa_offset 0
 219 007e 7047     		bx	lr
 220              		.cfi_endproc
 221              	.LFE1441:
 223              		.section	.text.VSS_CalcElAngle,"ax",%progbits
 224              		.align	1
 225              		.weak	VSS_CalcElAngle
 226              		.syntax unified
 227              		.thumb
 228              		.thumb_func
 229              		.fpu fpv4-sp-d16
 231              	VSS_CalcElAngle:
 232              	.LFB1442:
 101:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 102:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #if defined (CCMRAM)
 103:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #if defined (__ICCARM__)
 104:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #pragma location = ".ccmram"
 105:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #elif defined (__CC_ARM) || defined(__GNUC__)
 106:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** __attribute__((section(".ccmram")))
 107:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 108:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 109:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** /**
 110:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @brief  Updates the rotor electrical angle integrating the last settled
 111:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *         instantaneous electrical speed express in [dpp](measurement_units.md).
 112:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @param  pHandle: handler of the current instance of the VirtualSpeedSensor component.
 113:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @retval int16_t Measured electrical angle in s16degree format.
 114:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *
 115:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * - Systematically called after #SPD_GetElAngle that retrieves last computed rotor electrical ang
 116:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   */
 117:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** //cstat !MISRAC2012-Rule-8.13
 118:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** __weak int16_t VSS_CalcElAngle(VirtualSpeedSensor_Handle_t *pHandle, int16_t *pInputVars_str)
ARM GAS  /tmp/ccKRKJvM.s 			page 7


 119:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** {
 233              		.loc 1 119 1
 234              		.cfi_startproc
 235              		@ args = 0, pretend = 0, frame = 24
 236              		@ frame_needed = 1, uses_anonymous_args = 0
 237              		@ link register save eliminated.
 238 0000 80B4     		push	{r7}
 239              	.LCFI11:
 240              		.cfi_def_cfa_offset 4
 241              		.cfi_offset 7, -4
 242 0002 87B0     		sub	sp, sp, #28
 243              	.LCFI12:
 244              		.cfi_def_cfa_offset 32
 245 0004 00AF     		add	r7, sp, #0
 246              	.LCFI13:
 247              		.cfi_def_cfa_register 7
 248 0006 7860     		str	r0, [r7, #4]
 249 0008 3960     		str	r1, [r7]
 120:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   int16_t hRetAngle;
 121:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_CHECK_VIR_SPD_SEN
 122:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   if ((MC_NULL == pHandle) || (MC_NULL == pInputVars_str))
 123:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   {
 124:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     hRetAngle = 0;
 125:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   }
 126:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   else
 127:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   {
 128:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 129:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     int16_t hAngleDiff;
 130:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     int32_t wAux;
 131:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     int16_t hAngleCorr;
 132:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     int16_t hSignCorr = 1;
 250              		.loc 1 132 13
 251 000a 0123     		movs	r3, #1
 252 000c 7B82     		strh	r3, [r7, #18]	@ movhi
 133:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 134:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     if (true == pHandle->bCopyObserver)
 253              		.loc 1 134 24
 254 000e 7B68     		ldr	r3, [r7, #4]
 255 0010 93F83330 		ldrb	r3, [r3, #51]	@ zero_extendqisi2
 256              		.loc 1 134 8
 257 0014 002B     		cmp	r3, #0
 258 0016 03D0     		beq	.L4
 135:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
 136:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       hRetAngle = *(int16_t *)pInputVars_str;
 259              		.loc 1 136 17
 260 0018 3B68     		ldr	r3, [r7]
 261 001a 1B88     		ldrh	r3, [r3]	@ movhi
 262 001c FB82     		strh	r3, [r7, #22]	@ movhi
 263 001e 9AE0     		b	.L5
 264              	.L4:
 137:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 138:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     else
 139:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
 140:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->hElAngleAccu += pHandle->_Super.hElSpeedDpp;
 265              		.loc 1 140 29
 266 0020 7B68     		ldr	r3, [r7, #4]
 267 0022 B3F93030 		ldrsh	r3, [r3, #48]
ARM GAS  /tmp/ccKRKJvM.s 			page 8


 268 0026 9AB2     		uxth	r2, r3
 269              		.loc 1 140 47
 270 0028 7B68     		ldr	r3, [r7, #4]
 271 002a B3F90E30 		ldrsh	r3, [r3, #14]
 272 002e 9BB2     		uxth	r3, r3
 273              		.loc 1 140 29
 274 0030 1344     		add	r3, r3, r2
 275 0032 9BB2     		uxth	r3, r3
 276 0034 1AB2     		sxth	r2, r3
 277 0036 7B68     		ldr	r3, [r7, #4]
 278 0038 1A86     		strh	r2, [r3, #48]	@ movhi
 141:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->_Super.hMecAngle += (pHandle->_Super.hElSpeedDpp / (int16_t)pHandle->_Super.bElToMec
 279              		.loc 1 141 33
 280 003a 7B68     		ldr	r3, [r7, #4]
 281 003c B3F90630 		ldrsh	r3, [r3, #6]
 282 0040 9AB2     		uxth	r2, r3
 283              		.loc 1 141 52
 284 0042 7B68     		ldr	r3, [r7, #4]
 285 0044 B3F90E30 		ldrsh	r3, [r3, #14]
 286 0048 1946     		mov	r1, r3
 287              		.loc 1 141 91
 288 004a 7B68     		ldr	r3, [r7, #4]
 289 004c 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 290              		.loc 1 141 65
 291 004e 91FBF3F3 		sdiv	r3, r1, r3
 292              		.loc 1 141 33
 293 0052 9BB2     		uxth	r3, r3
 294 0054 1344     		add	r3, r3, r2
 295 0056 9BB2     		uxth	r3, r3
 296 0058 1AB2     		sxth	r2, r3
 297 005a 7B68     		ldr	r3, [r7, #4]
 298 005c DA80     		strh	r2, [r3, #6]	@ movhi
 142:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 143:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       if (true == pHandle->bTransitionStarted)
 299              		.loc 1 143 26
 300 005e 7B68     		ldr	r3, [r7, #4]
 301 0060 93F82C30 		ldrb	r3, [r3, #44]	@ zero_extendqisi2
 302              		.loc 1 143 10
 303 0064 002B     		cmp	r3, #0
 304 0066 73D0     		beq	.L6
 144:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       {
 145:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         if (0 == pHandle->hTransitionRemainingSteps)
 305              		.loc 1 145 25
 306 0068 7B68     		ldr	r3, [r7, #4]
 307 006a B3F92E30 		ldrsh	r3, [r3, #46]
 308              		.loc 1 145 12
 309 006e 002B     		cmp	r3, #0
 310 0070 0AD1     		bne	.L7
 146:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         {
 147:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           hRetAngle = *(int16_t *)pInputVars_str;
 311              		.loc 1 147 21
 312 0072 3B68     		ldr	r3, [r7]
 313 0074 1B88     		ldrh	r3, [r3]	@ movhi
 314 0076 FB82     		strh	r3, [r7, #22]	@ movhi
 148:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           pHandle->bTransitionEnded = true;
 315              		.loc 1 148 37
 316 0078 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccKRKJvM.s 			page 9


 317 007a 0122     		movs	r2, #1
 318 007c 83F82D20 		strb	r2, [r3, #45]
 149:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           pHandle->_Super.bSpeedErrorNumber = 0U;
 319              		.loc 1 149 45
 320 0080 7B68     		ldr	r3, [r7, #4]
 321 0082 0022     		movs	r2, #0
 322 0084 1A70     		strb	r2, [r3]
 323 0086 66E0     		b	.L5
 324              	.L7:
 150:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         }
 151:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         else
 152:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         {
 153:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           pHandle->hTransitionRemainingSteps--;
 325              		.loc 1 153 18
 326 0088 7B68     		ldr	r3, [r7, #4]
 327 008a B3F92E30 		ldrsh	r3, [r3, #46]
 328              		.loc 1 153 45
 329 008e 9BB2     		uxth	r3, r3
 330 0090 013B     		subs	r3, r3, #1
 331 0092 9BB2     		uxth	r3, r3
 332 0094 1AB2     		sxth	r2, r3
 333 0096 7B68     		ldr	r3, [r7, #4]
 334 0098 DA85     		strh	r2, [r3, #46]	@ movhi
 154:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 155:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           if (pHandle->_Super.hElSpeedDpp >= 0)
 335              		.loc 1 155 30
 336 009a 7B68     		ldr	r3, [r7, #4]
 337 009c B3F90E30 		ldrsh	r3, [r3, #14]
 338              		.loc 1 155 14
 339 00a0 002B     		cmp	r3, #0
 340 00a2 0BDB     		blt	.L8
 156:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           {
 157:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             hAngleDiff = *(int16_t *)pInputVars_str - pHandle->hElAngleAccu;
 341              		.loc 1 157 26
 342 00a4 3B68     		ldr	r3, [r7]
 343 00a6 B3F90030 		ldrsh	r3, [r3]
 344 00aa 9AB2     		uxth	r2, r3
 345              		.loc 1 157 62
 346 00ac 7B68     		ldr	r3, [r7, #4]
 347 00ae B3F93030 		ldrsh	r3, [r3, #48]
 348 00b2 9BB2     		uxth	r3, r3
 349              		.loc 1 157 53
 350 00b4 D31A     		subs	r3, r2, r3
 351 00b6 9BB2     		uxth	r3, r3
 352              		.loc 1 157 24
 353 00b8 BB82     		strh	r3, [r7, #20]	@ movhi
 354 00ba 0DE0     		b	.L9
 355              	.L8:
 158:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           }
 159:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           else
 160:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           {
 161:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             hAngleDiff = pHandle->hElAngleAccu - *(int16_t *)pInputVars_str;
 356              		.loc 1 161 33
 357 00bc 7B68     		ldr	r3, [r7, #4]
 358 00be B3F93030 		ldrsh	r3, [r3, #48]
 359 00c2 9AB2     		uxth	r2, r3
 360              		.loc 1 161 50
ARM GAS  /tmp/ccKRKJvM.s 			page 10


 361 00c4 3B68     		ldr	r3, [r7]
 362 00c6 B3F90030 		ldrsh	r3, [r3]
 363 00ca 9BB2     		uxth	r3, r3
 364              		.loc 1 161 48
 365 00cc D31A     		subs	r3, r2, r3
 366 00ce 9BB2     		uxth	r3, r3
 367              		.loc 1 161 24
 368 00d0 BB82     		strh	r3, [r7, #20]	@ movhi
 162:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             hSignCorr = -1;
 369              		.loc 1 162 23
 370 00d2 4FF6FF73 		movw	r3, #65535
 371 00d6 7B82     		strh	r3, [r7, #18]	@ movhi
 372              	.L9:
 163:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           }
 164:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 165:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           wAux = (int32_t)hAngleDiff * pHandle->hTransitionRemainingSteps;
 373              		.loc 1 165 18
 374 00d8 B7F91430 		ldrsh	r3, [r7, #20]
 375              		.loc 1 165 47
 376 00dc 7A68     		ldr	r2, [r7, #4]
 377 00de B2F92E20 		ldrsh	r2, [r2, #46]
 378              		.loc 1 165 16
 379 00e2 02FB03F3 		mul	r3, r2, r3
 380 00e6 FB60     		str	r3, [r7, #12]
 166:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           hAngleCorr = (int16_t)(wAux / pHandle->hTransitionSteps);
 381              		.loc 1 166 48
 382 00e8 7B68     		ldr	r3, [r7, #4]
 383 00ea B3F93630 		ldrsh	r3, [r3, #54]
 384 00ee 1A46     		mov	r2, r3
 385              		.loc 1 166 39
 386 00f0 FB68     		ldr	r3, [r7, #12]
 387 00f2 93FBF2F3 		sdiv	r3, r3, r2
 388              		.loc 1 166 22
 389 00f6 7B81     		strh	r3, [r7, #10]	@ movhi
 167:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           hAngleCorr *= hSignCorr;
 390              		.loc 1 167 22
 391 00f8 7A89     		ldrh	r2, [r7, #10]
 392 00fa 7B8A     		ldrh	r3, [r7, #18]
 393 00fc 12FB03F3 		smulbb	r3, r2, r3
 394 0100 9BB2     		uxth	r3, r3
 395 0102 7B81     		strh	r3, [r7, #10]	@ movhi
 168:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 169:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           if (hAngleDiff >= 0)
 396              		.loc 1 169 14
 397 0104 B7F91430 		ldrsh	r3, [r7, #20]
 398 0108 002B     		cmp	r3, #0
 399 010a 0CDB     		blt	.L10
 170:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           {
 171:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             pHandle->bTransitionLocked = true;
 400              		.loc 1 171 40
 401 010c 7B68     		ldr	r3, [r7, #4]
 402 010e 0122     		movs	r2, #1
 403 0110 83F83220 		strb	r2, [r3, #50]
 172:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             hRetAngle = *(int16_t *)pInputVars_str - hAngleCorr;
 404              		.loc 1 172 25
 405 0114 3B68     		ldr	r3, [r7]
 406 0116 B3F90030 		ldrsh	r3, [r3]
ARM GAS  /tmp/ccKRKJvM.s 			page 11


 407 011a 9AB2     		uxth	r2, r3
 408              		.loc 1 172 52
 409 011c 7B89     		ldrh	r3, [r7, #10]
 410 011e D31A     		subs	r3, r2, r3
 411 0120 9BB2     		uxth	r3, r3
 412              		.loc 1 172 23
 413 0122 FB82     		strh	r3, [r7, #22]	@ movhi
 414 0124 17E0     		b	.L5
 415              	.L10:
 173:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           }
 174:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           else
 175:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           {
 176:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             if (false == pHandle->bTransitionLocked)
 416              		.loc 1 176 33
 417 0126 7B68     		ldr	r3, [r7, #4]
 418 0128 93F83230 		ldrb	r3, [r3, #50]	@ zero_extendqisi2
 419              		.loc 1 176 23
 420 012c 83F00103 		eor	r3, r3, #1
 421 0130 DBB2     		uxtb	r3, r3
 422              		.loc 1 176 16
 423 0132 002B     		cmp	r3, #0
 424 0134 03D0     		beq	.L11
 177:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             {
 178:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****               hRetAngle = pHandle->hElAngleAccu;
 425              		.loc 1 178 25
 426 0136 7B68     		ldr	r3, [r7, #4]
 427 0138 1B8E     		ldrh	r3, [r3, #48]	@ movhi
 428 013a FB82     		strh	r3, [r7, #22]	@ movhi
 429 013c 0BE0     		b	.L5
 430              	.L11:
 179:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             }
 180:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             else
 181:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             {
 182:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****               hRetAngle = *(int16_t *)pInputVars_str + hAngleCorr;
 431              		.loc 1 182 27
 432 013e 3B68     		ldr	r3, [r7]
 433 0140 B3F90030 		ldrsh	r3, [r3]
 434 0144 9AB2     		uxth	r2, r3
 435              		.loc 1 182 54
 436 0146 7B89     		ldrh	r3, [r7, #10]
 437 0148 1344     		add	r3, r3, r2
 438 014a 9BB2     		uxth	r3, r3
 439              		.loc 1 182 25
 440 014c FB82     		strh	r3, [r7, #22]	@ movhi
 441 014e 02E0     		b	.L5
 442              	.L6:
 183:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             }
 184:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           }
 185:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         }
 186:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       }
 187:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       else
 188:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       {
 189:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         hRetAngle = pHandle->hElAngleAccu;
 443              		.loc 1 189 19
 444 0150 7B68     		ldr	r3, [r7, #4]
 445 0152 1B8E     		ldrh	r3, [r3, #48]	@ movhi
 446 0154 FB82     		strh	r3, [r7, #22]	@ movhi
ARM GAS  /tmp/ccKRKJvM.s 			page 12


 447              	.L5:
 190:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       }
 191:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 192:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 193:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->_Super.hElAngle = hRetAngle;
 448              		.loc 1 193 30
 449 0156 7B68     		ldr	r3, [r7, #4]
 450 0158 FA8A     		ldrh	r2, [r7, #22]	@ movhi
 451 015a 9A80     		strh	r2, [r3, #4]	@ movhi
 194:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_CHECK_VIR_SPD_SEN
 195:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   }
 196:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 197:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   return (hRetAngle);
 452              		.loc 1 197 10
 453 015c B7F91630 		ldrsh	r3, [r7, #22]
 198:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** }
 454              		.loc 1 198 1
 455 0160 1846     		mov	r0, r3
 456 0162 1C37     		adds	r7, r7, #28
 457              	.LCFI14:
 458              		.cfi_def_cfa_offset 4
 459 0164 BD46     		mov	sp, r7
 460              	.LCFI15:
 461              		.cfi_def_cfa_register 13
 462              		@ sp needed
 463 0166 5DF8047B 		ldr	r7, [sp], #4
 464              	.LCFI16:
 465              		.cfi_restore 7
 466              		.cfi_def_cfa_offset 0
 467 016a 7047     		bx	lr
 468              		.cfi_endproc
 469              	.LFE1442:
 471              		.section	.text.VSS_CalcAvrgMecSpeedUnit,"ax",%progbits
 472              		.align	1
 473              		.weak	VSS_CalcAvrgMecSpeedUnit
 474              		.syntax unified
 475              		.thumb
 476              		.thumb_func
 477              		.fpu fpv4-sp-d16
 479              	VSS_CalcAvrgMecSpeedUnit:
 480              	.LFB1443:
 199:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 200:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** /**
 201:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @brief  Computes and stores rotor instantaneous electrical speed (express
 202:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *         in [dpp](measurement_units.md) considering the measurement frequency) in order to provi
 203:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *         to #SPD_GetElAngle.
 204:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @param  pHandle: handler of the current instance of the VirtualSpeedSensor component.
 205:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @param  hMecSpeedUnit pointer to int16_t, used to return the rotor average
 206:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *         mechanical speed [SPEED_UNIT](measurement_units.md).
 207:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @retval bool true = sensor information is reliable and false = sensor information is not reliab
 208:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *
 209:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * - Stores and returns through parameter hMecSpeedUnit the rotor average mechanical speed,
 210:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *  expressed in the unit defined by [SPEED_UNIT](measurement_units.md).
 211:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * - Returns the reliability state of the sensor (always true).
 212:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * - Called with the same periodicity on which speed control is executed, precisely during START a
 213:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * of the MC tasks state machine or in its RUM state in @ref OpenLoop "Open Loop Control" configur
 214:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * TSK_MediumFrequencyTask.
ARM GAS  /tmp/ccKRKJvM.s 			page 13


 215:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   */
 216:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** __weak bool VSS_CalcAvrgMecSpeedUnit(VirtualSpeedSensor_Handle_t *pHandle, int16_t *hMecSpeedUnit)
 217:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** {
 481              		.loc 1 217 1
 482              		.cfi_startproc
 483              		@ args = 0, pretend = 0, frame = 16
 484              		@ frame_needed = 1, uses_anonymous_args = 0
 485 0000 80B5     		push	{r7, lr}
 486              	.LCFI17:
 487              		.cfi_def_cfa_offset 8
 488              		.cfi_offset 7, -8
 489              		.cfi_offset 14, -4
 490 0002 84B0     		sub	sp, sp, #16
 491              	.LCFI18:
 492              		.cfi_def_cfa_offset 24
 493 0004 00AF     		add	r7, sp, #0
 494              	.LCFI19:
 495              		.cfi_def_cfa_register 7
 496 0006 7860     		str	r0, [r7, #4]
 497 0008 3960     		str	r1, [r7]
 218:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   bool SpeedSensorReliability;
 219:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_CHECK_VIR_SPD_SEN
 220:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   if ((MC_NULL == pHandle) || (MC_NULL == hMecSpeedUnit))
 221:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   {
 222:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     SpeedSensorReliability = false;
 223:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   }
 224:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   else
 225:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   {
 226:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 227:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     if (pHandle->hRemainingStep > 1u)
 498              		.loc 1 227 16
 499 000a 7B68     		ldr	r3, [r7, #4]
 500 000c 1B8D     		ldrh	r3, [r3, #40]
 501              		.loc 1 227 8
 502 000e 012B     		cmp	r3, #1
 503 0010 31D9     		bls	.L14
 228:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
 229:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->wElSpeedDpp32 += pHandle->wElAccDppP32;
 504              		.loc 1 229 30
 505 0012 7B68     		ldr	r3, [r7, #4]
 506 0014 5A6A     		ldr	r2, [r3, #36]
 507              		.loc 1 229 40
 508 0016 7B68     		ldr	r3, [r7, #4]
 509 0018 1B6A     		ldr	r3, [r3, #32]
 510              		.loc 1 229 30
 511 001a 1A44     		add	r2, r2, r3
 512 001c 7B68     		ldr	r3, [r7, #4]
 513 001e 5A62     		str	r2, [r3, #36]
 230:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifndef FULL_MISRA_C_COMPLIANCY_VIRT_SPD_SENS
 231:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       //cstat !MISRAC2012-Rule-1.3_n !ATH-shift-neg !MISRAC2012-Rule-10.1_R6
 232:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->_Super.hElSpeedDpp = (int16_t)(pHandle->wElSpeedDpp32 >> 16);
 514              		.loc 1 232 54
 515 0020 7B68     		ldr	r3, [r7, #4]
 516 0022 5B6A     		ldr	r3, [r3, #36]
 517              		.loc 1 232 70
 518 0024 1B14     		asrs	r3, r3, #16
 519              		.loc 1 232 37
ARM GAS  /tmp/ccKRKJvM.s 			page 14


 520 0026 1AB2     		sxth	r2, r3
 521              		.loc 1 232 35
 522 0028 7B68     		ldr	r3, [r7, #4]
 523 002a DA81     		strh	r2, [r3, #14]	@ movhi
 233:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #else
 234:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->_Super.hElSpeedDpp = (int16_t)(pHandle->wElSpeedDpp32 / 65536);
 235:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 236:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 237:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       /* Convert dpp into MecUnit */
 238:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       *hMecSpeedUnit = (int16_t)((((int32_t)pHandle->_Super.hElSpeedDpp)
 524              		.loc 1 238 60
 525 002c 7B68     		ldr	r3, [r7, #4]
 526 002e B3F90E30 		ldrsh	r3, [r3, #14]
 527              		.loc 1 238 36
 528 0032 1A46     		mov	r2, r3
 239:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                                * ((int32_t )pHandle->_Super.hMeasurementFrequency) * SPEED_UNIT)
 529              		.loc 1 239 60
 530 0034 7B68     		ldr	r3, [r7, #4]
 531 0036 5B8B     		ldrh	r3, [r3, #26]
 532              		.loc 1 239 32
 533 0038 03FB02F2 		mul	r2, r3, r2
 534              		.loc 1 239 84
 535 003c 1346     		mov	r3, r2
 536 003e 9B00     		lsls	r3, r3, #2
 537 0040 1344     		add	r3, r3, r2
 538 0042 5B00     		lsls	r3, r3, #1
 539 0044 1A46     		mov	r2, r3
 240:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                                / (((int32_t)pHandle->_Super.DPPConvFactor) * ((int32_t)pHandle->_Su
 540              		.loc 1 240 60
 541 0046 7B68     		ldr	r3, [r7, #4]
 542 0048 DB69     		ldr	r3, [r3, #28]
 543              		.loc 1 240 36
 544 004a 1946     		mov	r1, r3
 545              		.loc 1 240 103
 546 004c 7B68     		ldr	r3, [r7, #4]
 547 004e 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 548              		.loc 1 240 76
 549 0050 01FB03F3 		mul	r3, r1, r3
 550              		.loc 1 240 32
 551 0054 92FBF3F3 		sdiv	r3, r2, r3
 238:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                                * ((int32_t )pHandle->_Super.hMeasurementFrequency) * SPEED_UNIT)
 552              		.loc 1 238 24
 553 0058 1AB2     		sxth	r2, r3
 238:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                                * ((int32_t )pHandle->_Super.hMeasurementFrequency) * SPEED_UNIT)
 554              		.loc 1 238 22
 555 005a 3B68     		ldr	r3, [r7]
 556 005c 1A80     		strh	r2, [r3]	@ movhi
 241:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->_Super.hAvrMecSpeedUnit = *hMecSpeedUnit;
 557              		.loc 1 241 42
 558 005e 3B68     		ldr	r3, [r7]
 559 0060 B3F90020 		ldrsh	r2, [r3]
 560              		.loc 1 241 40
 561 0064 7B68     		ldr	r3, [r7, #4]
 562 0066 9A81     		strh	r2, [r3, #12]	@ movhi
 242:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->hRemainingStep--;
 563              		.loc 1 242 14
 564 0068 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccKRKJvM.s 			page 15


 565 006a 1B8D     		ldrh	r3, [r3, #40]
 566              		.loc 1 242 30
 567 006c 013B     		subs	r3, r3, #1
 568 006e 9AB2     		uxth	r2, r3
 569 0070 7B68     		ldr	r3, [r7, #4]
 570 0072 1A85     		strh	r2, [r3, #40]	@ movhi
 571 0074 37E0     		b	.L15
 572              	.L14:
 243:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 244:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     else if (1U == pHandle->hRemainingStep)
 573              		.loc 1 244 27
 574 0076 7B68     		ldr	r3, [r7, #4]
 575 0078 1B8D     		ldrh	r3, [r3, #40]
 576              		.loc 1 244 13
 577 007a 012B     		cmp	r3, #1
 578 007c 2ED1     		bne	.L16
 245:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
 246:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       *hMecSpeedUnit = pHandle->hFinalMecSpeedUnit;
 579              		.loc 1 246 31
 580 007e 7B68     		ldr	r3, [r7, #4]
 581 0080 B3F92A20 		ldrsh	r2, [r3, #42]
 582              		.loc 1 246 22
 583 0084 3B68     		ldr	r3, [r7]
 584 0086 1A80     		strh	r2, [r3]	@ movhi
 247:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->_Super.hAvrMecSpeedUnit = *hMecSpeedUnit;
 585              		.loc 1 247 42
 586 0088 3B68     		ldr	r3, [r7]
 587 008a B3F90020 		ldrsh	r2, [r3]
 588              		.loc 1 247 40
 589 008e 7B68     		ldr	r3, [r7, #4]
 590 0090 9A81     		strh	r2, [r3, #12]	@ movhi
 248:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->_Super.hElSpeedDpp = (int16_t)((((int32_t)*hMecSpeedUnit) * ((int32_t)pHandle->_Supe
 591              		.loc 1 248 58
 592 0092 3B68     		ldr	r3, [r7]
 593 0094 B3F90030 		ldrsh	r3, [r3]
 594              		.loc 1 248 49
 595 0098 1A46     		mov	r2, r3
 596              		.loc 1 248 101
 597 009a 7B68     		ldr	r3, [r7, #4]
 598 009c DB69     		ldr	r3, [r3, #28]
 599              		.loc 1 248 74
 600 009e 03FB02F2 		mul	r2, r3, r2
 249:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                                           / (((int32_t)SPEED_UNIT) * ((int32_t)pHandle->_Super.hMea
 601              		.loc 1 249 95
 602 00a2 7B68     		ldr	r3, [r7, #4]
 603 00a4 5B8B     		ldrh	r3, [r3, #26]
 604              		.loc 1 249 71
 605 00a6 1946     		mov	r1, r3
 606              		.loc 1 249 68
 607 00a8 0B46     		mov	r3, r1
 608 00aa 9B00     		lsls	r3, r3, #2
 609 00ac 0B44     		add	r3, r3, r1
 610 00ae 5B00     		lsls	r3, r3, #1
 611              		.loc 1 249 43
 612 00b0 92FBF3F3 		sdiv	r3, r2, r3
 248:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->_Super.hElSpeedDpp = (int16_t)((((int32_t)*hMecSpeedUnit) * ((int32_t)pHandle->_Supe
 613              		.loc 1 248 37
ARM GAS  /tmp/ccKRKJvM.s 			page 16


 614 00b4 1AB2     		sxth	r2, r3
 248:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->_Super.hElSpeedDpp = (int16_t)((((int32_t)*hMecSpeedUnit) * ((int32_t)pHandle->_Supe
 615              		.loc 1 248 35
 616 00b6 7B68     		ldr	r3, [r7, #4]
 617 00b8 DA81     		strh	r2, [r3, #14]	@ movhi
 250:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->_Super.hElSpeedDpp *= ((int16_t)pHandle->_Super.bElToMecRatio);
 618              		.loc 1 250 35
 619 00ba 7B68     		ldr	r3, [r7, #4]
 620 00bc B3F90E30 		ldrsh	r3, [r3, #14]
 621 00c0 9AB2     		uxth	r2, r3
 622              		.loc 1 250 63
 623 00c2 7B68     		ldr	r3, [r7, #4]
 624 00c4 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 625              		.loc 1 250 35
 626 00c6 9BB2     		uxth	r3, r3
 627 00c8 12FB03F3 		smulbb	r3, r2, r3
 628 00cc 9BB2     		uxth	r3, r3
 629 00ce 1AB2     		sxth	r2, r3
 630 00d0 7B68     		ldr	r3, [r7, #4]
 631 00d2 DA81     		strh	r2, [r3, #14]	@ movhi
 251:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->hRemainingStep = 0U;
 632              		.loc 1 251 31
 633 00d4 7B68     		ldr	r3, [r7, #4]
 634 00d6 0022     		movs	r2, #0
 635 00d8 1A85     		strh	r2, [r3, #40]	@ movhi
 636 00da 04E0     		b	.L15
 637              	.L16:
 252:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 253:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     else
 254:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
 255:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       *hMecSpeedUnit = pHandle->_Super.hAvrMecSpeedUnit;
 638              		.loc 1 255 39
 639 00dc 7B68     		ldr	r3, [r7, #4]
 640 00de B3F90C20 		ldrsh	r2, [r3, #12]
 641              		.loc 1 255 22
 642 00e2 3B68     		ldr	r3, [r7]
 643 00e4 1A80     		strh	r2, [r3]	@ movhi
 644              	.L15:
 256:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 257:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     /* If the transition is not done yet, we already know that speed is not reliable */
 258:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     if (false == pHandle->bTransitionEnded)
 645              		.loc 1 258 25
 646 00e6 7B68     		ldr	r3, [r7, #4]
 647 00e8 93F82D30 		ldrb	r3, [r3, #45]	@ zero_extendqisi2
 648              		.loc 1 258 15
 649 00ec 83F00103 		eor	r3, r3, #1
 650 00f0 DBB2     		uxtb	r3, r3
 651              		.loc 1 258 8
 652 00f2 002B     		cmp	r3, #0
 653 00f4 06D0     		beq	.L17
 259:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
 260:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->_Super.bSpeedErrorNumber = pHandle->_Super.bMaximumSpeedErrorsNumber;
 654              		.loc 1 260 58
 655 00f6 7B68     		ldr	r3, [r7, #4]
 656 00f8 DA78     		ldrb	r2, [r3, #3]	@ zero_extendqisi2
 657              		.loc 1 260 41
 658 00fa 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccKRKJvM.s 			page 17


 659 00fc 1A70     		strb	r2, [r3]
 261:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       SpeedSensorReliability = false;
 660              		.loc 1 261 30
 661 00fe 0023     		movs	r3, #0
 662 0100 FB73     		strb	r3, [r7, #15]
 663 0102 06E0     		b	.L18
 664              	.L17:
 262:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 263:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     else
 264:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
 265:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       SpeedSensorReliability = SPD_IsMecSpeedReliable(&pHandle->_Super, hMecSpeedUnit);
 665              		.loc 1 265 32
 666 0104 7B68     		ldr	r3, [r7, #4]
 667 0106 3968     		ldr	r1, [r7]
 668 0108 1846     		mov	r0, r3
 669 010a FFF7FEFF 		bl	SPD_IsMecSpeedReliable
 670 010e 0346     		mov	r3, r0
 671 0110 FB73     		strb	r3, [r7, #15]
 672              	.L18:
 266:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 267:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_CHECK_VIR_SPD_SEN
 268:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   }
 269:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 270:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   return (SpeedSensorReliability);
 673              		.loc 1 270 10
 674 0112 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 271:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** }
 675              		.loc 1 271 1
 676 0114 1846     		mov	r0, r3
 677 0116 1037     		adds	r7, r7, #16
 678              	.LCFI20:
 679              		.cfi_def_cfa_offset 8
 680 0118 BD46     		mov	sp, r7
 681              	.LCFI21:
 682              		.cfi_def_cfa_register 13
 683              		@ sp needed
 684 011a 80BD     		pop	{r7, pc}
 685              		.cfi_endproc
 686              	.LFE1443:
 688              		.section	.text.VSS_SetMecAcceleration,"ax",%progbits
 689              		.align	1
 690              		.weak	VSS_SetMecAcceleration
 691              		.syntax unified
 692              		.thumb
 693              		.thumb_func
 694              		.fpu fpv4-sp-d16
 696              	VSS_SetMecAcceleration:
 697              	.LFB1444:
 272:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 273:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** /**
 274:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @brief  Sets the mechanical acceleration of virtual speed sensor.
 275:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @param  pHandle: handler of the current instance of the VirtualSpeedSensor component.
 276:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @param  hFinalMecSpeedUnit mechanical speed assumed by
 277:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *         the virtual speed sensor at the end of the duration. Expressed in the unit defined
 278:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *         by [SPEED_UNIT](measurement_units.md).
 279:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @param  hDurationms: Duration expressed in ms. It can be 0 to apply
 280:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *         instantaneous the final speed.
ARM GAS  /tmp/ccKRKJvM.s 			page 18


 281:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @retval none
 282:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *
 283:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * - This acceleration is defined starting from current mechanical speed, final mechanical
 284:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * speed expressed in [SPEED_UNIT](measurement_units.md) and duration expressed in milliseconds.
 285:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * - Called during @ref RevUpCtrl "Rev-Up Control" and
 286:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @ref EncAlignCtrl "Encoder Alignment Controller procedure" initialization.
 287:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   */
 288:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** __weak void  VSS_SetMecAcceleration(VirtualSpeedSensor_Handle_t *pHandle, int16_t hFinalMecSpeedUni
 289:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                                     uint16_t hDurationms)
 290:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** {
 698              		.loc 1 290 1
 699              		.cfi_startproc
 700              		@ args = 0, pretend = 0, frame = 24
 701              		@ frame_needed = 1, uses_anonymous_args = 0
 702              		@ link register save eliminated.
 703 0000 80B4     		push	{r7}
 704              	.LCFI22:
 705              		.cfi_def_cfa_offset 4
 706              		.cfi_offset 7, -4
 707 0002 87B0     		sub	sp, sp, #28
 708              	.LCFI23:
 709              		.cfi_def_cfa_offset 32
 710 0004 00AF     		add	r7, sp, #0
 711              	.LCFI24:
 712              		.cfi_def_cfa_register 7
 713 0006 7860     		str	r0, [r7, #4]
 714 0008 0B46     		mov	r3, r1
 715 000a 7B80     		strh	r3, [r7, #2]	@ movhi
 716 000c 1346     		mov	r3, r2	@ movhi
 717 000e 3B80     		strh	r3, [r7]	@ movhi
 291:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_CHECK_VIR_SPD_SEN
 292:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   if (MC_NULL == pHandle)
 293:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   {
 294:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     /* Nothing to do */
 295:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   }
 296:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   else
 297:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   {
 298:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 299:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     int32_t wMecAccDppP32;
 300:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     uint16_t hNbrStep;
 301:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     int16_t hCurrentMecSpeedDpp;
 302:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     int16_t hFinalMecSpeedDpp;
 303:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 304:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     if (false == pHandle->bTransitionStarted)
 718              		.loc 1 304 25
 719 0010 7B68     		ldr	r3, [r7, #4]
 720 0012 93F82C30 		ldrb	r3, [r3, #44]	@ zero_extendqisi2
 721              		.loc 1 304 15
 722 0016 83F00103 		eor	r3, r3, #1
 723 001a DBB2     		uxtb	r3, r3
 724              		.loc 1 304 8
 725 001c 002B     		cmp	r3, #0
 726 001e 72D0     		beq	.L24
 305:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
 306:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       if (0U == hDurationms)
 727              		.loc 1 306 10
 728 0020 3B88     		ldrh	r3, [r7]
ARM GAS  /tmp/ccKRKJvM.s 			page 19


 729 0022 002B     		cmp	r3, #0
 730 0024 28D1     		bne	.L22
 307:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       {
 308:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         pHandle->_Super.hAvrMecSpeedUnit = hFinalMecSpeedUnit;
 731              		.loc 1 308 42
 732 0026 7B68     		ldr	r3, [r7, #4]
 733 0028 7A88     		ldrh	r2, [r7, #2]	@ movhi
 734 002a 9A81     		strh	r2, [r3, #12]	@ movhi
 309:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 310:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         pHandle->_Super.hElSpeedDpp = (int16_t)((((int32_t)hFinalMecSpeedUnit)
 735              		.loc 1 310 51
 736 002c B7F90230 		ldrsh	r3, [r7, #2]
 311:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                                                * ((int32_t)pHandle->_Super.DPPConvFactor))
 737              		.loc 1 311 75
 738 0030 7A68     		ldr	r2, [r7, #4]
 739 0032 D269     		ldr	r2, [r2, #28]
 740              		.loc 1 311 48
 741 0034 03FB02F2 		mul	r2, r3, r2
 312:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                                               / (((int32_t)SPEED_UNIT)
 313:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                                                * ((int32_t)pHandle->_Super.hMeasurementFrequency)))
 742              		.loc 1 313 75
 743 0038 7B68     		ldr	r3, [r7, #4]
 744 003a 5B8B     		ldrh	r3, [r3, #26]
 745              		.loc 1 313 51
 746 003c 1946     		mov	r1, r3
 747              		.loc 1 313 48
 748 003e 0B46     		mov	r3, r1
 749 0040 9B00     		lsls	r3, r3, #2
 750 0042 0B44     		add	r3, r3, r1
 751 0044 5B00     		lsls	r3, r3, #1
 312:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                                               / (((int32_t)SPEED_UNIT)
 752              		.loc 1 312 47
 753 0046 92FBF3F3 		sdiv	r3, r2, r3
 310:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                                                * ((int32_t)pHandle->_Super.DPPConvFactor))
 754              		.loc 1 310 39
 755 004a 1AB2     		sxth	r2, r3
 310:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                                                * ((int32_t)pHandle->_Super.DPPConvFactor))
 756              		.loc 1 310 37
 757 004c 7B68     		ldr	r3, [r7, #4]
 758 004e DA81     		strh	r2, [r3, #14]	@ movhi
 314:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 315:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         pHandle->_Super.hElSpeedDpp *= ((int16_t)pHandle->_Super.bElToMecRatio);
 759              		.loc 1 315 37
 760 0050 7B68     		ldr	r3, [r7, #4]
 761 0052 B3F90E30 		ldrsh	r3, [r3, #14]
 762 0056 9AB2     		uxth	r2, r3
 763              		.loc 1 315 65
 764 0058 7B68     		ldr	r3, [r7, #4]
 765 005a 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 766              		.loc 1 315 37
 767 005c 9BB2     		uxth	r3, r3
 768 005e 12FB03F3 		smulbb	r3, r2, r3
 769 0062 9BB2     		uxth	r3, r3
 770 0064 1AB2     		sxth	r2, r3
 771 0066 7B68     		ldr	r3, [r7, #4]
 772 0068 DA81     		strh	r2, [r3, #14]	@ movhi
 316:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
ARM GAS  /tmp/ccKRKJvM.s 			page 20


 317:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         pHandle->hRemainingStep = 0U;
 773              		.loc 1 317 33
 774 006a 7B68     		ldr	r3, [r7, #4]
 775 006c 0022     		movs	r2, #0
 776 006e 1A85     		strh	r2, [r3, #40]	@ movhi
 318:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 319:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         pHandle->hFinalMecSpeedUnit = hFinalMecSpeedUnit;
 777              		.loc 1 319 37
 778 0070 7B68     		ldr	r3, [r7, #4]
 779 0072 7A88     		ldrh	r2, [r7, #2]	@ movhi
 780 0074 5A85     		strh	r2, [r3, #42]	@ movhi
 320:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       }
 321:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       else
 322:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       {
 323:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         hNbrStep = (uint16_t)((((uint32_t)hDurationms) * ((uint32_t)pHandle->hSpeedSamplingFreqHz))
 324:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         hNbrStep++;
 325:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         pHandle->hRemainingStep = hNbrStep;
 326:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         hCurrentMecSpeedDpp = pHandle->_Super.hElSpeedDpp / ((int16_t)pHandle->_Super.bElToMecRatio
 327:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         hFinalMecSpeedDpp = (int16_t)((((int32_t )hFinalMecSpeedUnit) * ((int32_t)pHandle->_Super.D
 328:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                                     / (((int32_t )SPEED_UNIT) * ((int32_t)pHandle->_Super.hMeasurem
 329:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 330:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         if (0U == hNbrStep)
 331:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         {
 332:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           /* Nothing to do */
 333:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         }
 334:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         else
 335:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         {
 336:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           wMecAccDppP32 = ((((int32_t)hFinalMecSpeedDpp) - ((int32_t)hCurrentMecSpeedDpp))
 337:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                          * ((int32_t)65536)) / ((int32_t )hNbrStep);
 338:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 339:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           pHandle->wElAccDppP32 = wMecAccDppP32 * ((int16_t)pHandle->_Super.bElToMecRatio);
 340:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         }
 341:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 342:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         pHandle->hFinalMecSpeedUnit = hFinalMecSpeedUnit;
 343:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 344:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         pHandle->wElSpeedDpp32 = ((int32_t)pHandle->_Super.hElSpeedDpp) * ((int32_t)65536);
 345:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       }
 346:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 347:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     else
 348:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
 349:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       /* Nothing to do */
 350:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 351:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_CHECK_VIR_SPD_SEN
 352:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   }
 353:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 354:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** }
 781              		.loc 1 354 1
 782 0076 46E0     		b	.L24
 783              	.L22:
 323:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         hNbrStep++;
 784              		.loc 1 323 33
 785 0078 3B88     		ldrh	r3, [r7]
 323:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         hNbrStep++;
 786              		.loc 1 323 76
 787 007a 7A68     		ldr	r2, [r7, #4]
 788 007c 928E     		ldrh	r2, [r2, #52]
 323:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         hNbrStep++;
ARM GAS  /tmp/ccKRKJvM.s 			page 21


 789              		.loc 1 323 56
 790 007e 02FB03F3 		mul	r3, r2, r3
 323:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         hNbrStep++;
 791              		.loc 1 323 101
 792 0082 244A     		ldr	r2, .L25
 793 0084 A2FB0323 		umull	r2, r3, r2, r3
 794 0088 9B09     		lsrs	r3, r3, #6
 323:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         hNbrStep++;
 795              		.loc 1 323 18
 796 008a FB82     		strh	r3, [r7, #22]	@ movhi
 324:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         pHandle->hRemainingStep = hNbrStep;
 797              		.loc 1 324 17
 798 008c FB8A     		ldrh	r3, [r7, #22]
 799 008e 0133     		adds	r3, r3, #1
 800 0090 FB82     		strh	r3, [r7, #22]	@ movhi
 325:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         hCurrentMecSpeedDpp = pHandle->_Super.hElSpeedDpp / ((int16_t)pHandle->_Super.bElToMecRatio
 801              		.loc 1 325 33
 802 0092 7B68     		ldr	r3, [r7, #4]
 803 0094 FA8A     		ldrh	r2, [r7, #22]	@ movhi
 804 0096 1A85     		strh	r2, [r3, #40]	@ movhi
 326:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         hFinalMecSpeedDpp = (int16_t)((((int32_t )hFinalMecSpeedUnit) * ((int32_t)pHandle->_Super.D
 805              		.loc 1 326 46
 806 0098 7B68     		ldr	r3, [r7, #4]
 807 009a B3F90E30 		ldrsh	r3, [r3, #14]
 808 009e 1A46     		mov	r2, r3
 326:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         hFinalMecSpeedDpp = (int16_t)((((int32_t )hFinalMecSpeedUnit) * ((int32_t)pHandle->_Super.D
 809              		.loc 1 326 86
 810 00a0 7B68     		ldr	r3, [r7, #4]
 811 00a2 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 326:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         hFinalMecSpeedDpp = (int16_t)((((int32_t )hFinalMecSpeedUnit) * ((int32_t)pHandle->_Super.D
 812              		.loc 1 326 59
 813 00a4 92FBF3F3 		sdiv	r3, r2, r3
 326:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         hFinalMecSpeedDpp = (int16_t)((((int32_t )hFinalMecSpeedUnit) * ((int32_t)pHandle->_Super.D
 814              		.loc 1 326 29
 815 00a8 BB82     		strh	r3, [r7, #20]	@ movhi
 327:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                                     / (((int32_t )SPEED_UNIT) * ((int32_t)pHandle->_Super.hMeasurem
 816              		.loc 1 327 41
 817 00aa B7F90230 		ldrsh	r3, [r7, #2]
 327:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                                     / (((int32_t )SPEED_UNIT) * ((int32_t)pHandle->_Super.hMeasurem
 818              		.loc 1 327 98
 819 00ae 7A68     		ldr	r2, [r7, #4]
 820 00b0 D269     		ldr	r2, [r2, #28]
 327:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                                     / (((int32_t )SPEED_UNIT) * ((int32_t)pHandle->_Super.hMeasurem
 821              		.loc 1 327 71
 822 00b2 03FB02F2 		mul	r2, r3, r2
 328:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 823              		.loc 1 328 90
 824 00b6 7B68     		ldr	r3, [r7, #4]
 825 00b8 5B8B     		ldrh	r3, [r3, #26]
 328:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 826              		.loc 1 328 66
 827 00ba 1946     		mov	r1, r3
 328:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 828              		.loc 1 328 63
 829 00bc 0B46     		mov	r3, r1
 830 00be 9B00     		lsls	r3, r3, #2
 831 00c0 0B44     		add	r3, r3, r1
ARM GAS  /tmp/ccKRKJvM.s 			page 22


 832 00c2 5B00     		lsls	r3, r3, #1
 328:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 833              		.loc 1 328 37
 834 00c4 92FBF3F3 		sdiv	r3, r2, r3
 327:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                                     / (((int32_t )SPEED_UNIT) * ((int32_t)pHandle->_Super.hMeasurem
 835              		.loc 1 327 27
 836 00c8 7B82     		strh	r3, [r7, #18]	@ movhi
 330:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         {
 837              		.loc 1 330 12
 838 00ca FB8A     		ldrh	r3, [r7, #22]
 839 00cc 002B     		cmp	r3, #0
 840 00ce 11D0     		beq	.L23
 336:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                          * ((int32_t)65536)) / ((int32_t )hNbrStep);
 841              		.loc 1 336 30
 842 00d0 B7F91220 		ldrsh	r2, [r7, #18]
 336:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                          * ((int32_t)65536)) / ((int32_t )hNbrStep);
 843              		.loc 1 336 61
 844 00d4 B7F91430 		ldrsh	r3, [r7, #20]
 336:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                          * ((int32_t)65536)) / ((int32_t )hNbrStep);
 845              		.loc 1 336 58
 846 00d8 D31A     		subs	r3, r2, r3
 337:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 847              		.loc 1 337 26
 848 00da 1A04     		lsls	r2, r3, #16
 337:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 849              		.loc 1 337 49
 850 00dc FB8A     		ldrh	r3, [r7, #22]
 336:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                          * ((int32_t)65536)) / ((int32_t )hNbrStep);
 851              		.loc 1 336 25
 852 00de 92FBF3F3 		sdiv	r3, r2, r3
 853 00e2 FB60     		str	r3, [r7, #12]
 339:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         }
 854              		.loc 1 339 76
 855 00e4 7B68     		ldr	r3, [r7, #4]
 856 00e6 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 339:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         }
 857              		.loc 1 339 52
 858 00e8 1A46     		mov	r2, r3
 339:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         }
 859              		.loc 1 339 49
 860 00ea FB68     		ldr	r3, [r7, #12]
 861 00ec 03FB02F2 		mul	r2, r3, r2
 339:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         }
 862              		.loc 1 339 33
 863 00f0 7B68     		ldr	r3, [r7, #4]
 864 00f2 1A62     		str	r2, [r3, #32]
 865              	.L23:
 342:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 866              		.loc 1 342 37
 867 00f4 7B68     		ldr	r3, [r7, #4]
 868 00f6 7A88     		ldrh	r2, [r7, #2]	@ movhi
 869 00f8 5A85     		strh	r2, [r3, #42]	@ movhi
 344:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       }
 870              		.loc 1 344 59
 871 00fa 7B68     		ldr	r3, [r7, #4]
 872 00fc B3F90E30 		ldrsh	r3, [r3, #14]
 344:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       }
ARM GAS  /tmp/ccKRKJvM.s 			page 23


 873              		.loc 1 344 73
 874 0100 1A04     		lsls	r2, r3, #16
 344:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       }
 875              		.loc 1 344 32
 876 0102 7B68     		ldr	r3, [r7, #4]
 877 0104 5A62     		str	r2, [r3, #36]
 878              	.L24:
 879              		.loc 1 354 1
 880 0106 00BF     		nop
 881 0108 1C37     		adds	r7, r7, #28
 882              	.LCFI25:
 883              		.cfi_def_cfa_offset 4
 884 010a BD46     		mov	sp, r7
 885              	.LCFI26:
 886              		.cfi_def_cfa_register 13
 887              		@ sp needed
 888 010c 5DF8047B 		ldr	r7, [sp], #4
 889              	.LCFI27:
 890              		.cfi_restore 7
 891              		.cfi_def_cfa_offset 0
 892 0110 7047     		bx	lr
 893              	.L26:
 894 0112 00BF     		.align	2
 895              	.L25:
 896 0114 D34D6210 		.word	274877907
 897              		.cfi_endproc
 898              	.LFE1444:
 900              		.section	.text.VSS_RampCompleted,"ax",%progbits
 901              		.align	1
 902              		.weak	VSS_RampCompleted
 903              		.syntax unified
 904              		.thumb
 905              		.thumb_func
 906              		.fpu fpv4-sp-d16
 908              	VSS_RampCompleted:
 909              	.LFB1445:
 355:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 356:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** /**
 357:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @brief  Checks if the ramp executed after a #VSS_SetMecAcceleration command
 358:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *         has been completed by checking zero value of the Number of steps remaining to reach the
 359:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *         speed.
 360:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @param  pHandle: handler of the current instance of the VirtualSpeedSensor component.
 361:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @retval bool: true if the ramp is completed, otherwise false.
 362:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *
 363:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * - Not used into current implementation.
 364:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   */
 365:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** __weak bool VSS_RampCompleted(VirtualSpeedSensor_Handle_t *pHandle)
 366:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** {
 910              		.loc 1 366 1
 911              		.cfi_startproc
 912              		@ args = 0, pretend = 0, frame = 16
 913              		@ frame_needed = 1, uses_anonymous_args = 0
 914              		@ link register save eliminated.
 915 0000 80B4     		push	{r7}
 916              	.LCFI28:
 917              		.cfi_def_cfa_offset 4
 918              		.cfi_offset 7, -4
ARM GAS  /tmp/ccKRKJvM.s 			page 24


 919 0002 85B0     		sub	sp, sp, #20
 920              	.LCFI29:
 921              		.cfi_def_cfa_offset 24
 922 0004 00AF     		add	r7, sp, #0
 923              	.LCFI30:
 924              		.cfi_def_cfa_register 7
 925 0006 7860     		str	r0, [r7, #4]
 367:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   bool retVal = false;
 926              		.loc 1 367 8
 927 0008 0023     		movs	r3, #0
 928 000a FB73     		strb	r3, [r7, #15]
 368:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_CHECK_VIR_SPD_SEN
 369:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   if (MC_NULL == pHandle)
 370:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   {
 371:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     /* nothing to do */
 372:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   }
 373:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   else
 374:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   {
 375:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 376:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     if (0U == pHandle->hRemainingStep)
 929              		.loc 1 376 22
 930 000c 7B68     		ldr	r3, [r7, #4]
 931 000e 1B8D     		ldrh	r3, [r3, #40]
 932              		.loc 1 376 8
 933 0010 002B     		cmp	r3, #0
 934 0012 01D1     		bne	.L28
 377:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
 378:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       retVal = true;
 935              		.loc 1 378 14
 936 0014 0123     		movs	r3, #1
 937 0016 FB73     		strb	r3, [r7, #15]
 938              	.L28:
 379:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 380:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     else
 381:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
 382:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       /* Nothing to do */
 383:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 384:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_CHECK_VIR_SPD_SEN
 385:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   }
 386:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 387:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   return (retVal);
 939              		.loc 1 387 10
 940 0018 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 388:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** }
 941              		.loc 1 388 1
 942 001a 1846     		mov	r0, r3
 943 001c 1437     		adds	r7, r7, #20
 944              	.LCFI31:
 945              		.cfi_def_cfa_offset 4
 946 001e BD46     		mov	sp, r7
 947              	.LCFI32:
 948              		.cfi_def_cfa_register 13
 949              		@ sp needed
 950 0020 5DF8047B 		ldr	r7, [sp], #4
 951              	.LCFI33:
 952              		.cfi_restore 7
 953              		.cfi_def_cfa_offset 0
ARM GAS  /tmp/ccKRKJvM.s 			page 25


 954 0024 7047     		bx	lr
 955              		.cfi_endproc
 956              	.LFE1445:
 958              		.section	.text.VSS_GetLastRampFinalSpeed,"ax",%progbits
 959              		.align	1
 960              		.weak	VSS_GetLastRampFinalSpeed
 961              		.syntax unified
 962              		.thumb
 963              		.thumb_func
 964              		.fpu fpv4-sp-d16
 966              	VSS_GetLastRampFinalSpeed:
 967              	.LFB1446:
 389:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 390:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** /**
 391:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @brief  Gets the final speed of last settled ramp of virtual speed sensor expressed
 392:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             in [SPEED_UNIT](measurement_units.md).
 393:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @param  pHandle: handler of the current instance of the VirtualSpeedSensor component.
 394:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @retval none
 395:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *
 396:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * - Will be call for future dual motor implementation into START state of MC tasks state machine 
 397:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   */
 398:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** __weak int16_t  VSS_GetLastRampFinalSpeed(VirtualSpeedSensor_Handle_t *pHandle)
 399:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** {
 968              		.loc 1 399 1
 969              		.cfi_startproc
 970              		@ args = 0, pretend = 0, frame = 8
 971              		@ frame_needed = 1, uses_anonymous_args = 0
 972              		@ link register save eliminated.
 973 0000 80B4     		push	{r7}
 974              	.LCFI34:
 975              		.cfi_def_cfa_offset 4
 976              		.cfi_offset 7, -4
 977 0002 83B0     		sub	sp, sp, #12
 978              	.LCFI35:
 979              		.cfi_def_cfa_offset 16
 980 0004 00AF     		add	r7, sp, #0
 981              	.LCFI36:
 982              		.cfi_def_cfa_register 7
 983 0006 7860     		str	r0, [r7, #4]
 400:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_CHECK_VIR_SPD_SEN
 401:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   return ((MC_NULL == pHandle) ? 0 : pHandle->hFinalMecSpeedUnit);
 402:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #else
 403:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   return (pHandle->hFinalMecSpeedUnit);
 984              		.loc 1 403 18
 985 0008 7B68     		ldr	r3, [r7, #4]
 986 000a B3F92A30 		ldrsh	r3, [r3, #42]
 404:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 405:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** }
 987              		.loc 1 405 1
 988 000e 1846     		mov	r0, r3
 989 0010 0C37     		adds	r7, r7, #12
 990              	.LCFI37:
 991              		.cfi_def_cfa_offset 4
 992 0012 BD46     		mov	sp, r7
 993              	.LCFI38:
 994              		.cfi_def_cfa_register 13
 995              		@ sp needed
ARM GAS  /tmp/ccKRKJvM.s 			page 26


 996 0014 5DF8047B 		ldr	r7, [sp], #4
 997              	.LCFI39:
 998              		.cfi_restore 7
 999              		.cfi_def_cfa_offset 0
 1000 0018 7047     		bx	lr
 1001              		.cfi_endproc
 1002              	.LFE1446:
 1004              		.section	.text.VSS_SetStartTransition,"ax",%progbits
 1005              		.align	1
 1006              		.weak	VSS_SetStartTransition
 1007              		.syntax unified
 1008              		.thumb
 1009              		.thumb_func
 1010              		.fpu fpv4-sp-d16
 1012              	VSS_SetStartTransition:
 1013              	.LFB1447:
 406:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 407:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** /**
 408:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @brief  Sets the command to Start the transition phase from Virtual Speed Sensor
 409:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *         to other Speed Sensor.
 410:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @param  pHandle: handler of the current instance of the VirtualSpeedSensor component.
 411:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @param  bCommand: true to Start the transition phase, false has no effect.
 412:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @retval bool: true if Transition phase is enabled (started or not), false if
 413:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *         transition has been triggered but it's actually disabled
 414:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *         (parameter #hTransitionSteps = 0).
 415:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *
 416:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * - Transition is to be considered ended when Sensor information is
 417:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *  declared 'Reliable' or if function returned value is false.
 418:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * - Called into START state of MC tasks state machine into TSK_MediumFrequencyTask.
 419:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   */
 420:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** __weak bool VSS_SetStartTransition(VirtualSpeedSensor_Handle_t *pHandle, bool bCommand)
 421:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** {
 1014              		.loc 1 421 1
 1015              		.cfi_startproc
 1016              		@ args = 0, pretend = 0, frame = 16
 1017              		@ frame_needed = 1, uses_anonymous_args = 0
 1018              		@ link register save eliminated.
 1019 0000 80B4     		push	{r7}
 1020              	.LCFI40:
 1021              		.cfi_def_cfa_offset 4
 1022              		.cfi_offset 7, -4
 1023 0002 85B0     		sub	sp, sp, #20
 1024              	.LCFI41:
 1025              		.cfi_def_cfa_offset 24
 1026 0004 00AF     		add	r7, sp, #0
 1027              	.LCFI42:
 1028              		.cfi_def_cfa_register 7
 1029 0006 7860     		str	r0, [r7, #4]
 1030 0008 0B46     		mov	r3, r1
 1031 000a FB70     		strb	r3, [r7, #3]
 422:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   bool bAux = true;
 1032              		.loc 1 422 8
 1033 000c 0123     		movs	r3, #1
 1034 000e FB73     		strb	r3, [r7, #15]
 423:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_CHECK_VIR_SPD_SEN
 424:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   if (MC_NULL == pHandle)
 425:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   {
ARM GAS  /tmp/ccKRKJvM.s 			page 27


 426:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     /* nothing to do */
 427:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   }
 428:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   else
 429:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   {
 430:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 431:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     if (true == bCommand)
 1035              		.loc 1 431 8
 1036 0010 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1037 0012 002B     		cmp	r3, #0
 1038 0014 11D0     		beq	.L33
 432:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
 433:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->bTransitionStarted = true;
 1039              		.loc 1 433 35
 1040 0016 7B68     		ldr	r3, [r7, #4]
 1041 0018 0122     		movs	r2, #1
 1042 001a 83F82C20 		strb	r2, [r3, #44]
 434:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 435:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       if (0 == pHandle->hTransitionSteps)
 1043              		.loc 1 435 23
 1044 001e 7B68     		ldr	r3, [r7, #4]
 1045 0020 B3F93630 		ldrsh	r3, [r3, #54]
 1046              		.loc 1 435 10
 1047 0024 002B     		cmp	r3, #0
 1048 0026 08D1     		bne	.L33
 436:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       {
 437:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         pHandle->bTransitionEnded = true;
 1049              		.loc 1 437 35
 1050 0028 7B68     		ldr	r3, [r7, #4]
 1051 002a 0122     		movs	r2, #1
 1052 002c 83F82D20 		strb	r2, [r3, #45]
 438:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         pHandle->_Super.bSpeedErrorNumber = 0U;
 1053              		.loc 1 438 43
 1054 0030 7B68     		ldr	r3, [r7, #4]
 1055 0032 0022     		movs	r2, #0
 1056 0034 1A70     		strb	r2, [r3]
 439:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         bAux = false;
 1057              		.loc 1 439 14
 1058 0036 0023     		movs	r3, #0
 1059 0038 FB73     		strb	r3, [r7, #15]
 1060              	.L33:
 440:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       }
 441:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       else
 442:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       {
 443:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         /* Nothing to do */
 444:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       }
 445:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 446:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     else
 447:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
 448:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       /* Nothing to do */
 449:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 450:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_CHECK_VIR_SPD_SEN
 451:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   }
 452:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 453:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   return (bAux);
 1061              		.loc 1 453 10
 1062 003a FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 454:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** }
ARM GAS  /tmp/ccKRKJvM.s 			page 28


 1063              		.loc 1 454 1
 1064 003c 1846     		mov	r0, r3
 1065 003e 1437     		adds	r7, r7, #20
 1066              	.LCFI43:
 1067              		.cfi_def_cfa_offset 4
 1068 0040 BD46     		mov	sp, r7
 1069              	.LCFI44:
 1070              		.cfi_def_cfa_register 13
 1071              		@ sp needed
 1072 0042 5DF8047B 		ldr	r7, [sp], #4
 1073              	.LCFI45:
 1074              		.cfi_restore 7
 1075              		.cfi_def_cfa_offset 0
 1076 0046 7047     		bx	lr
 1077              		.cfi_endproc
 1078              	.LFE1447:
 1080              		.section	.text.VSS_IsTransitionOngoing,"ax",%progbits
 1081              		.align	1
 1082              		.weak	VSS_IsTransitionOngoing
 1083              		.syntax unified
 1084              		.thumb
 1085              		.thumb_func
 1086              		.fpu fpv4-sp-d16
 1088              	VSS_IsTransitionOngoing:
 1089              	.LFB1448:
 455:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 456:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** /**
 457:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @brief  Returns the status of the transition phase by checking the status of the two parameters
 458:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *         @ref VirtualSpeedSensor_Handle_t::bTransitionStarted "bTransitionStarted" and
 459:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *         @ref VirtualSpeedSensor_Handle_t::bTransitionEnded "bTransitionEnded".
 460:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @param  pHandle: handler of the current instance of the VirtualSpeedSensor components
 461:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @retval bool: true if Transition phase is ongoing, false otherwise.
 462:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *
 463:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * - Not used into current implementation.
 464:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   */
 465:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** //cstat !MISRAC2012-Rule-8.13
 466:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** __weak bool VSS_IsTransitionOngoing(VirtualSpeedSensor_Handle_t *pHandle)
 467:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** {
 1090              		.loc 1 467 1
 1091              		.cfi_startproc
 1092              		@ args = 0, pretend = 0, frame = 16
 1093              		@ frame_needed = 1, uses_anonymous_args = 0
 1094              		@ link register save eliminated.
 1095 0000 80B4     		push	{r7}
 1096              	.LCFI46:
 1097              		.cfi_def_cfa_offset 4
 1098              		.cfi_offset 7, -4
 1099 0002 85B0     		sub	sp, sp, #20
 1100              	.LCFI47:
 1101              		.cfi_def_cfa_offset 24
 1102 0004 00AF     		add	r7, sp, #0
 1103              	.LCFI48:
 1104              		.cfi_def_cfa_register 7
 1105 0006 7860     		str	r0, [r7, #4]
 468:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   bool retVal = false;
 1106              		.loc 1 468 8
 1107 0008 0023     		movs	r3, #0
ARM GAS  /tmp/ccKRKJvM.s 			page 29


 1108 000a FB73     		strb	r3, [r7, #15]
 469:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_CHECK_VIR_SPD_SEN
 470:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   if (MC_NULL == pHandle)
 471:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   {
 472:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     /* nothing to do */
 473:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   }
 474:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   else
 475:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   {
 476:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 477:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     uint16_t hTS = 0U;
 1109              		.loc 1 477 14
 1110 000c 0023     		movs	r3, #0
 1111 000e BB81     		strh	r3, [r7, #12]	@ movhi
 478:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     uint16_t hTE = 0U;
 1112              		.loc 1 478 14
 1113 0010 0023     		movs	r3, #0
 1114 0012 7B81     		strh	r3, [r7, #10]	@ movhi
 479:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     uint16_t hAux;
 480:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 481:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     if (true == pHandle->bTransitionStarted)
 1115              		.loc 1 481 24
 1116 0014 7B68     		ldr	r3, [r7, #4]
 1117 0016 93F82C30 		ldrb	r3, [r3, #44]	@ zero_extendqisi2
 1118              		.loc 1 481 8
 1119 001a 002B     		cmp	r3, #0
 1120 001c 01D0     		beq	.L36
 482:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
 483:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       hTS = 1U;
 1121              		.loc 1 483 11
 1122 001e 0123     		movs	r3, #1
 1123 0020 BB81     		strh	r3, [r7, #12]	@ movhi
 1124              	.L36:
 484:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 485:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     else
 486:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
 487:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       /* Nothing to do */
 488:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 489:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     if (true == pHandle->bTransitionEnded)
 1125              		.loc 1 489 24
 1126 0022 7B68     		ldr	r3, [r7, #4]
 1127 0024 93F82D30 		ldrb	r3, [r3, #45]	@ zero_extendqisi2
 1128              		.loc 1 489 8
 1129 0028 002B     		cmp	r3, #0
 1130 002a 01D0     		beq	.L37
 490:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
 491:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       hTE = 1U;
 1131              		.loc 1 491 11
 1132 002c 0123     		movs	r3, #1
 1133 002e 7B81     		strh	r3, [r7, #10]	@ movhi
 1134              	.L37:
 492:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 493:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     else
 494:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
 495:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       /* Nothing to do */
 496:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 497:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     hAux = hTS ^ hTE;
 1135              		.loc 1 497 10
ARM GAS  /tmp/ccKRKJvM.s 			page 30


 1136 0030 BA89     		ldrh	r2, [r7, #12]	@ movhi
 1137 0032 7B89     		ldrh	r3, [r7, #10]	@ movhi
 1138 0034 5340     		eors	r3, r3, r2
 1139 0036 3B81     		strh	r3, [r7, #8]	@ movhi
 498:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     if (hAux != 0U)
 1140              		.loc 1 498 8
 1141 0038 3B89     		ldrh	r3, [r7, #8]
 1142 003a 002B     		cmp	r3, #0
 1143 003c 01D0     		beq	.L38
 499:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
 500:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       retVal = true;
 1144              		.loc 1 500 14
 1145 003e 0123     		movs	r3, #1
 1146 0040 FB73     		strb	r3, [r7, #15]
 1147              	.L38:
 501:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 502:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     else
 503:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
 504:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       /* Nothing to do */
 505:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 506:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_CHECK_VIR_SPD_SEN
 507:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   }
 508:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 509:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   return (retVal);
 1148              		.loc 1 509 10
 1149 0042 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 510:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** }
 1150              		.loc 1 510 1
 1151 0044 1846     		mov	r0, r3
 1152 0046 1437     		adds	r7, r7, #20
 1153              	.LCFI49:
 1154              		.cfi_def_cfa_offset 4
 1155 0048 BD46     		mov	sp, r7
 1156              	.LCFI50:
 1157              		.cfi_def_cfa_register 13
 1158              		@ sp needed
 1159 004a 5DF8047B 		ldr	r7, [sp], #4
 1160              	.LCFI51:
 1161              		.cfi_restore 7
 1162              		.cfi_def_cfa_offset 0
 1163 004e 7047     		bx	lr
 1164              		.cfi_endproc
 1165              	.LFE1448:
 1167              		.section	.text.VSS_TransitionEnded,"ax",%progbits
 1168              		.align	1
 1169              		.weak	VSS_TransitionEnded
 1170              		.syntax unified
 1171              		.thumb
 1172              		.thumb_func
 1173              		.fpu fpv4-sp-d16
 1175              	VSS_TransitionEnded:
 1176              	.LFB1449:
 511:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 512:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** /**
 513:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @brief  Returns the ending status of the transition phase by checking the parameter
 514:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *         @ref VirtualSpeedSensor_Handle_t::bTransitionEnded "bTransitionEnded".
 515:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @param  pHandle: handler of the current instance of the VirtualSpeedSensor components
ARM GAS  /tmp/ccKRKJvM.s 			page 31


 516:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @retval bool: true if Transition phase ended, false otherwise.
 517:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *
 518:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * - Called into SWITCH_OVER state of MC tasks state machine into TSK_MediumFrequencyTask.
 519:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   */
 520:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** __weak bool VSS_TransitionEnded(VirtualSpeedSensor_Handle_t *pHandle)
 521:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** {
 1177              		.loc 1 521 1
 1178              		.cfi_startproc
 1179              		@ args = 0, pretend = 0, frame = 8
 1180              		@ frame_needed = 1, uses_anonymous_args = 0
 1181              		@ link register save eliminated.
 1182 0000 80B4     		push	{r7}
 1183              	.LCFI52:
 1184              		.cfi_def_cfa_offset 4
 1185              		.cfi_offset 7, -4
 1186 0002 83B0     		sub	sp, sp, #12
 1187              	.LCFI53:
 1188              		.cfi_def_cfa_offset 16
 1189 0004 00AF     		add	r7, sp, #0
 1190              	.LCFI54:
 1191              		.cfi_def_cfa_register 7
 1192 0006 7860     		str	r0, [r7, #4]
 522:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_CHECK_VIR_SPD_SEN
 523:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   return ((MC_NULL == pHandle) ? false : pHandle->bTransitionEnded);
 524:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #else
 525:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   return (pHandle->bTransitionEnded);
 1193              		.loc 1 525 18
 1194 0008 7B68     		ldr	r3, [r7, #4]
 1195 000a 93F82D30 		ldrb	r3, [r3, #45]	@ zero_extendqisi2
 526:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 527:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** }
 1196              		.loc 1 527 1
 1197 000e 1846     		mov	r0, r3
 1198 0010 0C37     		adds	r7, r7, #12
 1199              	.LCFI55:
 1200              		.cfi_def_cfa_offset 4
 1201 0012 BD46     		mov	sp, r7
 1202              	.LCFI56:
 1203              		.cfi_def_cfa_register 13
 1204              		@ sp needed
 1205 0014 5DF8047B 		ldr	r7, [sp], #4
 1206              	.LCFI57:
 1207              		.cfi_restore 7
 1208              		.cfi_def_cfa_offset 0
 1209 0018 7047     		bx	lr
 1210              		.cfi_endproc
 1211              	.LFE1449:
 1213              		.section	.text.VSS_SetElAngle,"ax",%progbits
 1214              		.align	1
 1215              		.weak	VSS_SetElAngle
 1216              		.syntax unified
 1217              		.thumb
 1218              		.thumb_func
 1219              		.fpu fpv4-sp-d16
 1221              	VSS_SetElAngle:
 1222              	.LFB1450:
 528:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
ARM GAS  /tmp/ccKRKJvM.s 			page 32


 529:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** /**
 530:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @brief  Sets instantaneous information on rotor electrical angle.
 531:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @param  pHandle: handler of the current instance of the VirtualSpeedSensor component.
 532:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @param  hElAngle instantaneous measure of rotor electrical angle in [s16degrees](measurement_un
 533:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @retval none
 534:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *
 535:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * - Not used into current implementation.
 536:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   */
 537:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** __weak void VSS_SetElAngle(VirtualSpeedSensor_Handle_t *pHandle, int16_t hElAngle)
 538:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** {
 1223              		.loc 1 538 1
 1224              		.cfi_startproc
 1225              		@ args = 0, pretend = 0, frame = 8
 1226              		@ frame_needed = 1, uses_anonymous_args = 0
 1227              		@ link register save eliminated.
 1228 0000 80B4     		push	{r7}
 1229              	.LCFI58:
 1230              		.cfi_def_cfa_offset 4
 1231              		.cfi_offset 7, -4
 1232 0002 83B0     		sub	sp, sp, #12
 1233              	.LCFI59:
 1234              		.cfi_def_cfa_offset 16
 1235 0004 00AF     		add	r7, sp, #0
 1236              	.LCFI60:
 1237              		.cfi_def_cfa_register 7
 1238 0006 7860     		str	r0, [r7, #4]
 1239 0008 0B46     		mov	r3, r1
 1240 000a 7B80     		strh	r3, [r7, #2]	@ movhi
 539:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_CHECK_VIR_SPD_SEN
 540:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   if (MC_NULL == pHandle)
 541:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   {
 542:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     /* Nothing to do */
 543:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   }
 544:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   else
 545:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   {
 546:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 547:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->hElAngleAccu = hElAngle;
 1241              		.loc 1 547 27
 1242 000c 7B68     		ldr	r3, [r7, #4]
 1243 000e 7A88     		ldrh	r2, [r7, #2]	@ movhi
 1244 0010 1A86     		strh	r2, [r3, #48]	@ movhi
 548:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->_Super.hElAngle = hElAngle;
 1245              		.loc 1 548 30
 1246 0012 7B68     		ldr	r3, [r7, #4]
 1247 0014 7A88     		ldrh	r2, [r7, #2]	@ movhi
 1248 0016 9A80     		strh	r2, [r3, #4]	@ movhi
 549:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_CHECK_VIR_SPD_SEN
 550:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   }
 551:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 552:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** }
 1249              		.loc 1 552 1
 1250 0018 00BF     		nop
 1251 001a 0C37     		adds	r7, r7, #12
 1252              	.LCFI61:
 1253              		.cfi_def_cfa_offset 4
 1254 001c BD46     		mov	sp, r7
 1255              	.LCFI62:
ARM GAS  /tmp/ccKRKJvM.s 			page 33


 1256              		.cfi_def_cfa_register 13
 1257              		@ sp needed
 1258 001e 5DF8047B 		ldr	r7, [sp], #4
 1259              	.LCFI63:
 1260              		.cfi_restore 7
 1261              		.cfi_def_cfa_offset 0
 1262 0022 7047     		bx	lr
 1263              		.cfi_endproc
 1264              	.LFE1450:
 1266              		.text
 1267              	.Letext0:
 1268              		.file 2 "/usr/share/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/machine/_default_type
 1269              		.file 3 "/usr/share/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/sys/_stdint.h"
 1270              		.file 4 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_ll_tim.h"
 1271              		.file 5 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_ll_usart.h"
 1272              		.file 6 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_ll_dma.h"
 1273              		.file 7 "MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_pos_fdbk.h"
 1274              		.file 8 "MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/virtual_speed_sensor.h"
ARM GAS  /tmp/ccKRKJvM.s 			page 34


DEFINED SYMBOLS
                            *ABS*:0000000000000000 virtual_speed_sensor.c
     /tmp/ccKRKJvM.s:18     .rodata.OFFSET_TAB_CCMRx:0000000000000000 $d
     /tmp/ccKRKJvM.s:21     .rodata.OFFSET_TAB_CCMRx:0000000000000000 OFFSET_TAB_CCMRx
     /tmp/ccKRKJvM.s:24     .rodata.SHIFT_TAB_OCxx:0000000000000000 $d
     /tmp/ccKRKJvM.s:27     .rodata.SHIFT_TAB_OCxx:0000000000000000 SHIFT_TAB_OCxx
     /tmp/ccKRKJvM.s:30     .rodata.SHIFT_TAB_ICxx:0000000000000000 $d
     /tmp/ccKRKJvM.s:33     .rodata.SHIFT_TAB_ICxx:0000000000000000 SHIFT_TAB_ICxx
     /tmp/ccKRKJvM.s:36     .rodata.SHIFT_TAB_CCxP:0000000000000000 $d
     /tmp/ccKRKJvM.s:39     .rodata.SHIFT_TAB_CCxP:0000000000000000 SHIFT_TAB_CCxP
     /tmp/ccKRKJvM.s:42     .rodata.SHIFT_TAB_OISx:0000000000000000 $d
     /tmp/ccKRKJvM.s:45     .rodata.SHIFT_TAB_OISx:0000000000000000 SHIFT_TAB_OISx
     /tmp/ccKRKJvM.s:48     .rodata.USART_PRESCALER_TAB:0000000000000000 $d
     /tmp/ccKRKJvM.s:51     .rodata.USART_PRESCALER_TAB:0000000000000000 USART_PRESCALER_TAB
     /tmp/ccKRKJvM.s:65     .rodata.CHANNEL_OFFSET_TAB:0000000000000000 $d
     /tmp/ccKRKJvM.s:68     .rodata.CHANNEL_OFFSET_TAB:0000000000000000 CHANNEL_OFFSET_TAB
     /tmp/ccKRKJvM.s:71     .text.VSS_Init:0000000000000000 $t
     /tmp/ccKRKJvM.s:79     .text.VSS_Init:0000000000000000 VSS_Init
     /tmp/ccKRKJvM.s:122    .text.VSS_Clear:0000000000000000 VSS_Clear
     /tmp/ccKRKJvM.s:115    .text.VSS_Clear:0000000000000000 $t
     /tmp/ccKRKJvM.s:224    .text.VSS_CalcElAngle:0000000000000000 $t
     /tmp/ccKRKJvM.s:231    .text.VSS_CalcElAngle:0000000000000000 VSS_CalcElAngle
     /tmp/ccKRKJvM.s:472    .text.VSS_CalcAvrgMecSpeedUnit:0000000000000000 $t
     /tmp/ccKRKJvM.s:479    .text.VSS_CalcAvrgMecSpeedUnit:0000000000000000 VSS_CalcAvrgMecSpeedUnit
     /tmp/ccKRKJvM.s:689    .text.VSS_SetMecAcceleration:0000000000000000 $t
     /tmp/ccKRKJvM.s:696    .text.VSS_SetMecAcceleration:0000000000000000 VSS_SetMecAcceleration
     /tmp/ccKRKJvM.s:896    .text.VSS_SetMecAcceleration:0000000000000114 $d
     /tmp/ccKRKJvM.s:901    .text.VSS_RampCompleted:0000000000000000 $t
     /tmp/ccKRKJvM.s:908    .text.VSS_RampCompleted:0000000000000000 VSS_RampCompleted
     /tmp/ccKRKJvM.s:959    .text.VSS_GetLastRampFinalSpeed:0000000000000000 $t
     /tmp/ccKRKJvM.s:966    .text.VSS_GetLastRampFinalSpeed:0000000000000000 VSS_GetLastRampFinalSpeed
     /tmp/ccKRKJvM.s:1005   .text.VSS_SetStartTransition:0000000000000000 $t
     /tmp/ccKRKJvM.s:1012   .text.VSS_SetStartTransition:0000000000000000 VSS_SetStartTransition
     /tmp/ccKRKJvM.s:1081   .text.VSS_IsTransitionOngoing:0000000000000000 $t
     /tmp/ccKRKJvM.s:1088   .text.VSS_IsTransitionOngoing:0000000000000000 VSS_IsTransitionOngoing
     /tmp/ccKRKJvM.s:1168   .text.VSS_TransitionEnded:0000000000000000 $t
     /tmp/ccKRKJvM.s:1175   .text.VSS_TransitionEnded:0000000000000000 VSS_TransitionEnded
     /tmp/ccKRKJvM.s:1214   .text.VSS_SetElAngle:0000000000000000 $t
     /tmp/ccKRKJvM.s:1221   .text.VSS_SetElAngle:0000000000000000 VSS_SetElAngle

UNDEFINED SYMBOLS
SPD_IsMecSpeedReliable
