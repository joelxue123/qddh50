ARM GAS  /tmp/ccqhiY2i.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 2
  13              		.file	"virtual_speed_sensor.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.VSS_Clear,"ax",%progbits
  18              		.align	1
  19              		.weak	VSS_Clear
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	VSS_Clear:
  27              	.LVL0:
  28              	.LFB1441:
  29              		.file 1 "MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c"
   1:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** /**
   2:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   ******************************************************************************
   3:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @file    virtual_speed_sensor.c
   4:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @author  Motor Control SDK Team, ST Microelectronics
   5:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @brief   This file provides firmware functions that implement the features
   6:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *          of the Virtual Speed Sensor component of the Motor Control SDK.
   7:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *
   8:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   ******************************************************************************
   9:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @attention
  10:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *
  11:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * <h2><center>&copy; Copyright (c) 2024 STMicroelectronics.
  12:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * All rights reserved.</center></h2>
  13:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *
  14:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * This software component is licensed by ST under Ultimate Liberty license
  15:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * SLA0044, the "License"; You may not use this file except in compliance with
  16:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * the License. You may obtain a copy of the License at:
  17:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *                             www.st.com/SLA0044
  18:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *
  19:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   ******************************************************************************
  20:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @ingroup VirtualSpeedSensor
  21:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   */
  22:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
  23:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** /* Includes ------------------------------------------------------------------*/
  24:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #include "virtual_speed_sensor.h"
  25:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
  26:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
  27:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** /** @addtogroup MCSDK
  28:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @{
  29:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   */
ARM GAS  /tmp/ccqhiY2i.s 			page 2


  30:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
  31:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** /** @addtogroup SpeednPosFdbk
  32:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @{
  33:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   */
  34:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
  35:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** /** @defgroup VirtualSpeedSensor Virtual Speed & Position Feedback
  36:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @brief Virtual Speed Speed & Position Feedback implementation
  37:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *
  38:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * This component provides a "virtual" implementation of the speed and position feedback features.
  39:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * This implementation provides a theoretical estimation of the speed and position of the rotor of
  40:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * the motor based on a mechanical acceleration and an initial angle set by the application.
  41:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *
  42:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * This component is used during the @ref RevUpCtrl "Rev-Up Control" phases of the motor or in an
  43:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @ref OpenLoop "Open Loop Control" configuration in a sensorless subsystem.
  44:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *
  45:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *
  46:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @{
  47:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   */
  48:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
  49:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** /**
  50:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @brief  Software initialization of VirtualSpeedSensor component.
  51:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @param  pHandle: handler of the current instance of the VirtualSpeedSensor component.
  52:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @retval none
  53:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *
  54:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * - Calls VSS_Clear.
  55:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * - Called at initialization of the whole MC core.
  56:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   */
  57:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** __weak void VSS_Init(VirtualSpeedSensor_Handle_t *pHandle)
  58:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** {
  59:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   VSS_Clear(pHandle);
  60:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** }
  61:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
  62:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** /**
  63:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @brief  Software initialization of VSS object to be performed at each restart
  64:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *         of the motor.
  65:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @param  pHandle: handler of the current instance of the VirtualSpeedSensor component.
  66:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @retval none
  67:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   */
  68:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** __weak void VSS_Clear(VirtualSpeedSensor_Handle_t *pHandle)
  69:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** {
  30              		.loc 1 69 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
  70:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_CHECK_VIR_SPD_SEN
  71:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   if (MC_NULL == pHandle)
  72:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   {
  73:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     /* Nothing to do */
  74:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   }
  75:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   else
  76:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   {
  77:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
  78:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->_Super.bSpeedErrorNumber = 0U;
  35              		.loc 1 78 5 view .LVU1
  36              		.loc 1 78 39 is_stmt 0 view .LVU2
  37 0000 0023     		movs	r3, #0
ARM GAS  /tmp/ccqhiY2i.s 			page 3


  38 0002 0370     		strb	r3, [r0]
  79:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->_Super.hElAngle = 0;
  39              		.loc 1 79 5 is_stmt 1 view .LVU3
  40              		.loc 1 79 30 is_stmt 0 view .LVU4
  41 0004 8380     		strh	r3, [r0, #4]	@ movhi
  80:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->_Super.hMecAngle = 0;
  42              		.loc 1 80 5 is_stmt 1 view .LVU5
  43              		.loc 1 80 31 is_stmt 0 view .LVU6
  44 0006 C380     		strh	r3, [r0, #6]	@ movhi
  81:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->_Super.hAvrMecSpeedUnit = 0;
  45              		.loc 1 81 5 is_stmt 1 view .LVU7
  46              		.loc 1 81 38 is_stmt 0 view .LVU8
  47 0008 8381     		strh	r3, [r0, #12]	@ movhi
  82:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->_Super.hElSpeedDpp = 0;
  48              		.loc 1 82 5 is_stmt 1 view .LVU9
  49              		.loc 1 82 33 is_stmt 0 view .LVU10
  50 000a C381     		strh	r3, [r0, #14]	@ movhi
  83:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->_Super.hMecAccelUnitP = 0;
  51              		.loc 1 83 5 is_stmt 1 view .LVU11
  52              		.loc 1 83 36 is_stmt 0 view .LVU12
  53 000c 4382     		strh	r3, [r0, #18]	@ movhi
  84:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->_Super.bSpeedErrorNumber = 0U;
  54              		.loc 1 84 5 is_stmt 1 view .LVU13
  85:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
  86:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->wElAccDppP32 = 0;
  55              		.loc 1 86 5 view .LVU14
  56              		.loc 1 86 27 is_stmt 0 view .LVU15
  57 000e 0362     		str	r3, [r0, #32]
  87:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->wElSpeedDpp32 = 0;
  58              		.loc 1 87 5 is_stmt 1 view .LVU16
  59              		.loc 1 87 28 is_stmt 0 view .LVU17
  60 0010 4362     		str	r3, [r0, #36]
  88:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->hRemainingStep = 0U;
  61              		.loc 1 88 5 is_stmt 1 view .LVU18
  62              		.loc 1 88 29 is_stmt 0 view .LVU19
  63 0012 0385     		strh	r3, [r0, #40]	@ movhi
  89:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->hElAngleAccu = 0;
  64              		.loc 1 89 5 is_stmt 1 view .LVU20
  65              		.loc 1 89 27 is_stmt 0 view .LVU21
  66 0014 0386     		strh	r3, [r0, #48]	@ movhi
  90:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
  91:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->bTransitionStarted = false;
  67              		.loc 1 91 5 is_stmt 1 view .LVU22
  68              		.loc 1 91 33 is_stmt 0 view .LVU23
  69 0016 80F82C30 		strb	r3, [r0, #44]
  92:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->bTransitionEnded = false;
  70              		.loc 1 92 5 is_stmt 1 view .LVU24
  71              		.loc 1 92 31 is_stmt 0 view .LVU25
  72 001a 80F82D30 		strb	r3, [r0, #45]
  93:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->hTransitionRemainingSteps = pHandle->hTransitionSteps;
  73              		.loc 1 93 5 is_stmt 1 view .LVU26
  74              		.loc 1 93 40 is_stmt 0 view .LVU27
  75 001e C28E     		ldrh	r2, [r0, #54]
  76 0020 C285     		strh	r2, [r0, #46]	@ movhi
  94:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->bTransitionLocked = false;
  77              		.loc 1 94 5 is_stmt 1 view .LVU28
  78              		.loc 1 94 32 is_stmt 0 view .LVU29
ARM GAS  /tmp/ccqhiY2i.s 			page 4


  79 0022 80F83230 		strb	r3, [r0, #50]
  95:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
  96:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->bCopyObserver = false;
  80              		.loc 1 96 5 is_stmt 1 view .LVU30
  81              		.loc 1 96 28 is_stmt 0 view .LVU31
  82 0026 80F83330 		strb	r3, [r0, #51]
  97:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_CHECK_VIR_SPD_SEN
  98:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   }
  99:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 100:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** }
  83              		.loc 1 100 1 view .LVU32
  84 002a 7047     		bx	lr
  85              		.cfi_endproc
  86              	.LFE1441:
  88              		.section	.text.VSS_Init,"ax",%progbits
  89              		.align	1
  90              		.weak	VSS_Init
  91              		.syntax unified
  92              		.thumb
  93              		.thumb_func
  94              		.fpu fpv4-sp-d16
  96              	VSS_Init:
  97              	.LVL1:
  98              	.LFB1440:
  58:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   VSS_Clear(pHandle);
  99              		.loc 1 58 1 is_stmt 1 view -0
 100              		.cfi_startproc
 101              		@ args = 0, pretend = 0, frame = 0
 102              		@ frame_needed = 0, uses_anonymous_args = 0
  58:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   VSS_Clear(pHandle);
 103              		.loc 1 58 1 is_stmt 0 view .LVU34
 104 0000 08B5     		push	{r3, lr}
 105              	.LCFI0:
 106              		.cfi_def_cfa_offset 8
 107              		.cfi_offset 3, -8
 108              		.cfi_offset 14, -4
  59:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** }
 109              		.loc 1 59 3 is_stmt 1 view .LVU35
 110 0002 FFF7FEFF 		bl	VSS_Clear
 111              	.LVL2:
  60:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 112              		.loc 1 60 1 is_stmt 0 view .LVU36
 113 0006 08BD     		pop	{r3, pc}
 114              		.cfi_endproc
 115              	.LFE1440:
 117              		.section	.text.VSS_CalcElAngle,"ax",%progbits
 118              		.align	1
 119              		.weak	VSS_CalcElAngle
 120              		.syntax unified
 121              		.thumb
 122              		.thumb_func
 123              		.fpu fpv4-sp-d16
 125              	VSS_CalcElAngle:
 126              	.LVL3:
 127              	.LFB1442:
 101:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 102:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #if defined (CCMRAM)
ARM GAS  /tmp/ccqhiY2i.s 			page 5


 103:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #if defined (__ICCARM__)
 104:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #pragma location = ".ccmram"
 105:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #elif defined (__CC_ARM) || defined(__GNUC__)
 106:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** __attribute__((section(".ccmram")))
 107:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 108:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 109:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** /**
 110:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @brief  Updates the rotor electrical angle integrating the last settled
 111:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *         instantaneous electrical speed express in [dpp](measurement_units.md).
 112:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @param  pHandle: handler of the current instance of the VirtualSpeedSensor component.
 113:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @retval int16_t Measured electrical angle in s16degree format.
 114:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *
 115:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * - Systematically called after #SPD_GetElAngle that retrieves last computed rotor electrical ang
 116:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   */
 117:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** //cstat !MISRAC2012-Rule-8.13
 118:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** __weak int16_t VSS_CalcElAngle(VirtualSpeedSensor_Handle_t *pHandle, int16_t *pInputVars_str)
 119:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** {
 128              		.loc 1 119 1 is_stmt 1 view -0
 129              		.cfi_startproc
 130              		@ args = 0, pretend = 0, frame = 0
 131              		@ frame_needed = 0, uses_anonymous_args = 0
 132              		.loc 1 119 1 is_stmt 0 view .LVU38
 133 0000 0346     		mov	r3, r0
 120:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   int16_t hRetAngle;
 134              		.loc 1 120 3 is_stmt 1 view .LVU39
 121:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_CHECK_VIR_SPD_SEN
 122:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   if ((MC_NULL == pHandle) || (MC_NULL == pInputVars_str))
 123:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   {
 124:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     hRetAngle = 0;
 125:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   }
 126:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   else
 127:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   {
 128:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 129:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     int16_t hAngleDiff;
 135              		.loc 1 129 5 view .LVU40
 130:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     int32_t wAux;
 136              		.loc 1 130 5 view .LVU41
 131:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     int16_t hAngleCorr;
 137              		.loc 1 131 5 view .LVU42
 132:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     int16_t hSignCorr = 1;
 138              		.loc 1 132 5 view .LVU43
 139              	.LVL4:
 133:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 134:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     if (true == pHandle->bCopyObserver)
 140              		.loc 1 134 5 view .LVU44
 141              		.loc 1 134 8 is_stmt 0 view .LVU45
 142 0002 90F83320 		ldrb	r2, [r0, #51]	@ zero_extendqisi2
 143 0006 1AB1     		cbz	r2, .L5
 135:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
 136:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       hRetAngle = *(int16_t *)pInputVars_str;
 144              		.loc 1 136 7 is_stmt 1 view .LVU46
 145              		.loc 1 136 17 is_stmt 0 view .LVU47
 146 0008 B1F90000 		ldrsh	r0, [r1]
 147              	.LVL5:
 137:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 138:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     else
 139:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
ARM GAS  /tmp/ccqhiY2i.s 			page 6


 140:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->hElAngleAccu += pHandle->_Super.hElSpeedDpp;
 141:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->_Super.hMecAngle += (pHandle->_Super.hElSpeedDpp / (int16_t)pHandle->_Super.bElToMec
 142:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 143:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       if (true == pHandle->bTransitionStarted)
 144:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       {
 145:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         if (0 == pHandle->hTransitionRemainingSteps)
 146:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         {
 147:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           hRetAngle = *(int16_t *)pInputVars_str;
 148:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           pHandle->bTransitionEnded = true;
 149:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           pHandle->_Super.bSpeedErrorNumber = 0U;
 150:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         }
 151:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         else
 152:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         {
 153:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           pHandle->hTransitionRemainingSteps--;
 154:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 155:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           if (pHandle->_Super.hElSpeedDpp >= 0)
 156:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           {
 157:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             hAngleDiff = *(int16_t *)pInputVars_str - pHandle->hElAngleAccu;
 158:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           }
 159:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           else
 160:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           {
 161:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             hAngleDiff = pHandle->hElAngleAccu - *(int16_t *)pInputVars_str;
 162:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             hSignCorr = -1;
 163:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           }
 164:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 165:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           wAux = (int32_t)hAngleDiff * pHandle->hTransitionRemainingSteps;
 166:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           hAngleCorr = (int16_t)(wAux / pHandle->hTransitionSteps);
 167:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           hAngleCorr *= hSignCorr;
 168:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 169:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           if (hAngleDiff >= 0)
 170:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           {
 171:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             pHandle->bTransitionLocked = true;
 172:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             hRetAngle = *(int16_t *)pInputVars_str - hAngleCorr;
 173:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           }
 174:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           else
 175:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           {
 176:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             if (false == pHandle->bTransitionLocked)
 177:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             {
 178:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****               hRetAngle = pHandle->hElAngleAccu;
 179:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             }
 180:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             else
 181:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             {
 182:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****               hRetAngle = *(int16_t *)pInputVars_str + hAngleCorr;
 183:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             }
 184:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           }
 185:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         }
 186:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       }
 187:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       else
 188:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       {
 189:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         hRetAngle = pHandle->hElAngleAccu;
 190:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       }
 191:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 192:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 193:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->_Super.hElAngle = hRetAngle;
 148              		.loc 1 193 5 is_stmt 1 view .LVU48
 149              		.loc 1 193 30 is_stmt 0 view .LVU49
 150 000c 9880     		strh	r0, [r3, #4]	@ movhi
ARM GAS  /tmp/ccqhiY2i.s 			page 7


 194:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_CHECK_VIR_SPD_SEN
 195:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   }
 196:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 197:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   return (hRetAngle);
 151              		.loc 1 197 3 is_stmt 1 view .LVU50
 198:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** }
 152              		.loc 1 198 1 is_stmt 0 view .LVU51
 153 000e 7047     		bx	lr
 154              	.LVL6:
 155              	.L5:
 119:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   int16_t hRetAngle;
 156              		.loc 1 119 1 view .LVU52
 157 0010 10B5     		push	{r4, lr}
 158              	.LCFI1:
 159              		.cfi_def_cfa_offset 8
 160              		.cfi_offset 4, -8
 161              		.cfi_offset 14, -4
 140:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->_Super.hMecAngle += (pHandle->_Super.hElSpeedDpp / (int16_t)pHandle->_Super.bElToMec
 162              		.loc 1 140 7 is_stmt 1 view .LVU53
 140:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->_Super.hMecAngle += (pHandle->_Super.hElSpeedDpp / (int16_t)pHandle->_Super.bElToMec
 163              		.loc 1 140 47 is_stmt 0 view .LVU54
 164 0012 B0F90EC0 		ldrsh	ip, [r0, #14]
 140:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->_Super.hMecAngle += (pHandle->_Super.hElSpeedDpp / (int16_t)pHandle->_Super.bElToMec
 165              		.loc 1 140 29 view .LVU55
 166 0016 008E     		ldrh	r0, [r0, #48]
 167              	.LVL7:
 140:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->_Super.hMecAngle += (pHandle->_Super.hElSpeedDpp / (int16_t)pHandle->_Super.bElToMec
 168              		.loc 1 140 29 view .LVU56
 169 0018 6044     		add	r0, r0, ip
 170 001a 84B2     		uxth	r4, r0
 171 001c 00B2     		sxth	r0, r0
 172 001e 1886     		strh	r0, [r3, #48]	@ movhi
 141:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 173              		.loc 1 141 7 is_stmt 1 view .LVU57
 141:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 174              		.loc 1 141 67 is_stmt 0 view .LVU58
 175 0020 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 141:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 176              		.loc 1 141 65 view .LVU59
 177 0022 9CFBF2F2 		sdiv	r2, ip, r2
 141:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 178              		.loc 1 141 33 view .LVU60
 179 0026 B3F806E0 		ldrh	lr, [r3, #6]
 180 002a 7244     		add	r2, r2, lr
 181 002c DA80     		strh	r2, [r3, #6]	@ movhi
 143:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       {
 182              		.loc 1 143 7 is_stmt 1 view .LVU61
 143:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       {
 183              		.loc 1 143 10 is_stmt 0 view .LVU62
 184 002e 93F82C20 		ldrb	r2, [r3, #44]	@ zero_extendqisi2
 185 0032 4AB1     		cbz	r2, .L6
 145:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         {
 186              		.loc 1 145 9 is_stmt 1 view .LVU63
 145:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         {
 187              		.loc 1 145 25 is_stmt 0 view .LVU64
 188 0034 B3F92E20 		ldrsh	r2, [r3, #46]
 145:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         {
ARM GAS  /tmp/ccqhiY2i.s 			page 8


 189              		.loc 1 145 12 view .LVU65
 190 0038 42B9     		cbnz	r2, .L7
 147:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           pHandle->bTransitionEnded = true;
 191              		.loc 1 147 11 is_stmt 1 view .LVU66
 147:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           pHandle->bTransitionEnded = true;
 192              		.loc 1 147 21 is_stmt 0 view .LVU67
 193 003a B1F90000 		ldrsh	r0, [r1]
 194              	.LVL8:
 148:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           pHandle->_Super.bSpeedErrorNumber = 0U;
 195              		.loc 1 148 11 is_stmt 1 view .LVU68
 148:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           pHandle->_Super.bSpeedErrorNumber = 0U;
 196              		.loc 1 148 37 is_stmt 0 view .LVU69
 197 003e 0122     		movs	r2, #1
 198 0040 83F82D20 		strb	r2, [r3, #45]
 149:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         }
 199              		.loc 1 149 11 is_stmt 1 view .LVU70
 149:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         }
 200              		.loc 1 149 45 is_stmt 0 view .LVU71
 201 0044 0022     		movs	r2, #0
 202 0046 1A70     		strb	r2, [r3]
 203              	.LVL9:
 204              	.L6:
 193:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_CHECK_VIR_SPD_SEN
 205              		.loc 1 193 5 is_stmt 1 view .LVU72
 193:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_CHECK_VIR_SPD_SEN
 206              		.loc 1 193 30 is_stmt 0 view .LVU73
 207 0048 9880     		strh	r0, [r3, #4]	@ movhi
 197:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** }
 208              		.loc 1 197 3 is_stmt 1 view .LVU74
 209              		.loc 1 198 1 is_stmt 0 view .LVU75
 210 004a 10BD     		pop	{r4, pc}
 211              	.LVL10:
 212              	.L7:
 153:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 213              		.loc 1 153 11 is_stmt 1 view .LVU76
 153:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 214              		.loc 1 153 45 is_stmt 0 view .LVU77
 215 004c 013A     		subs	r2, r2, #1
 216 004e 12B2     		sxth	r2, r2
 217 0050 DA85     		strh	r2, [r3, #46]	@ movhi
 155:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           {
 218              		.loc 1 155 11 is_stmt 1 view .LVU78
 155:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           {
 219              		.loc 1 155 14 is_stmt 0 view .LVU79
 220 0052 BCF1000F 		cmp	ip, #0
 221 0056 18DB     		blt	.L8
 157:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           }
 222              		.loc 1 157 13 is_stmt 1 view .LVU80
 157:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           }
 223              		.loc 1 157 53 is_stmt 0 view .LVU81
 224 0058 B1F800C0 		ldrh	ip, [r1]
 225 005c ACEB0404 		sub	r4, ip, r4
 157:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           }
 226              		.loc 1 157 24 view .LVU82
 227 0060 24B2     		sxth	r4, r4
 228              	.LVL11:
 132:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
ARM GAS  /tmp/ccqhiY2i.s 			page 9


 229              		.loc 1 132 13 view .LVU83
 230 0062 4FF0010E 		mov	lr, #1
 231              	.LVL12:
 232              	.L9:
 165:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           hAngleCorr = (int16_t)(wAux / pHandle->hTransitionSteps);
 233              		.loc 1 165 11 is_stmt 1 view .LVU84
 166:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           hAngleCorr *= hSignCorr;
 234              		.loc 1 166 11 view .LVU85
 167:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 235              		.loc 1 167 11 view .LVU86
 165:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           hAngleCorr = (int16_t)(wAux / pHandle->hTransitionSteps);
 236              		.loc 1 165 16 is_stmt 0 view .LVU87
 237 0066 04FB02F2 		mul	r2, r4, r2
 238              	.LVL13:
 166:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           hAngleCorr *= hSignCorr;
 239              		.loc 1 166 48 view .LVU88
 240 006a B3F936C0 		ldrsh	ip, [r3, #54]
 166:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           hAngleCorr *= hSignCorr;
 241              		.loc 1 166 39 view .LVU89
 242 006e 92FBFCF2 		sdiv	r2, r2, ip
 167:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 243              		.loc 1 167 22 view .LVU90
 244 0072 12FB0EF2 		smulbb	r2, r2, lr
 245 0076 92B2     		uxth	r2, r2
 246              	.LVL14:
 169:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           {
 247              		.loc 1 169 11 is_stmt 1 view .LVU91
 169:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           {
 248              		.loc 1 169 14 is_stmt 0 view .LVU92
 249 0078 002C     		cmp	r4, #0
 250 007a 0EDB     		blt	.L10
 171:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             hRetAngle = *(int16_t *)pInputVars_str - hAngleCorr;
 251              		.loc 1 171 13 is_stmt 1 view .LVU93
 171:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             hRetAngle = *(int16_t *)pInputVars_str - hAngleCorr;
 252              		.loc 1 171 40 is_stmt 0 view .LVU94
 253 007c 0120     		movs	r0, #1
 254 007e 83F83200 		strb	r0, [r3, #50]
 172:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           }
 255              		.loc 1 172 13 is_stmt 1 view .LVU95
 172:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           }
 256              		.loc 1 172 52 is_stmt 0 view .LVU96
 257 0082 0888     		ldrh	r0, [r1]
 258 0084 821A     		subs	r2, r0, r2
 259              	.LVL15:
 172:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           }
 260              		.loc 1 172 23 view .LVU97
 261 0086 10B2     		sxth	r0, r2
 262              	.LVL16:
 172:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           }
 263              		.loc 1 172 23 view .LVU98
 264 0088 DEE7     		b	.L6
 265              	.LVL17:
 266              	.L8:
 161:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             hSignCorr = -1;
 267              		.loc 1 161 13 is_stmt 1 view .LVU99
 161:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             hSignCorr = -1;
 268              		.loc 1 161 48 is_stmt 0 view .LVU100
ARM GAS  /tmp/ccqhiY2i.s 			page 10


 269 008a B1F800C0 		ldrh	ip, [r1]
 270 008e A4EB0C04 		sub	r4, r4, ip
 161:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             hSignCorr = -1;
 271              		.loc 1 161 24 view .LVU101
 272 0092 24B2     		sxth	r4, r4
 273              	.LVL18:
 162:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           }
 274              		.loc 1 162 13 is_stmt 1 view .LVU102
 162:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           }
 275              		.loc 1 162 23 is_stmt 0 view .LVU103
 276 0094 4FF0FF3E 		mov	lr, #-1
 277 0098 E5E7     		b	.L9
 278              	.LVL19:
 279              	.L10:
 176:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             {
 280              		.loc 1 176 13 is_stmt 1 view .LVU104
 176:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             {
 281              		.loc 1 176 16 is_stmt 0 view .LVU105
 282 009a 93F83240 		ldrb	r4, [r3, #50]	@ zero_extendqisi2
 283              	.LVL20:
 176:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             {
 284              		.loc 1 176 16 view .LVU106
 285 009e 002C     		cmp	r4, #0
 286 00a0 D2D0     		beq	.L6
 182:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             }
 287              		.loc 1 182 15 is_stmt 1 view .LVU107
 182:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             }
 288              		.loc 1 182 54 is_stmt 0 view .LVU108
 289 00a2 0888     		ldrh	r0, [r1]
 290 00a4 0244     		add	r2, r2, r0
 291              	.LVL21:
 182:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             }
 292              		.loc 1 182 25 view .LVU109
 293 00a6 10B2     		sxth	r0, r2
 294              	.LVL22:
 182:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             }
 295              		.loc 1 182 25 view .LVU110
 296 00a8 CEE7     		b	.L6
 297              		.cfi_endproc
 298              	.LFE1442:
 300              		.section	.text.VSS_CalcAvrgMecSpeedUnit,"ax",%progbits
 301              		.align	1
 302              		.weak	VSS_CalcAvrgMecSpeedUnit
 303              		.syntax unified
 304              		.thumb
 305              		.thumb_func
 306              		.fpu fpv4-sp-d16
 308              	VSS_CalcAvrgMecSpeedUnit:
 309              	.LVL23:
 310              	.LFB1443:
 199:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 200:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** /**
 201:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @brief  Computes and stores rotor instantaneous electrical speed (express
 202:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *         in [dpp](measurement_units.md) considering the measurement frequency) in order to provi
 203:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *         to #SPD_GetElAngle.
 204:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @param  pHandle: handler of the current instance of the VirtualSpeedSensor component.
 205:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @param  hMecSpeedUnit pointer to int16_t, used to return the rotor average
ARM GAS  /tmp/ccqhiY2i.s 			page 11


 206:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *         mechanical speed [SPEED_UNIT](measurement_units.md).
 207:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @retval bool true = sensor information is reliable and false = sensor information is not reliab
 208:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *
 209:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * - Stores and returns through parameter hMecSpeedUnit the rotor average mechanical speed,
 210:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *  expressed in the unit defined by [SPEED_UNIT](measurement_units.md).
 211:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * - Returns the reliability state of the sensor (always true).
 212:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * - Called with the same periodicity on which speed control is executed, precisely during START a
 213:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * of the MC tasks state machine or in its RUM state in @ref OpenLoop "Open Loop Control" configur
 214:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * TSK_MediumFrequencyTask.
 215:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   */
 216:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** __weak bool VSS_CalcAvrgMecSpeedUnit(VirtualSpeedSensor_Handle_t *pHandle, int16_t *hMecSpeedUnit)
 217:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** {
 311              		.loc 1 217 1 is_stmt 1 view -0
 312              		.cfi_startproc
 313              		@ args = 0, pretend = 0, frame = 0
 314              		@ frame_needed = 0, uses_anonymous_args = 0
 315              		.loc 1 217 1 is_stmt 0 view .LVU112
 316 0000 10B5     		push	{r4, lr}
 317              	.LCFI2:
 318              		.cfi_def_cfa_offset 8
 319              		.cfi_offset 4, -8
 320              		.cfi_offset 14, -4
 321 0002 0346     		mov	r3, r0
 218:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   bool SpeedSensorReliability;
 322              		.loc 1 218 3 is_stmt 1 view .LVU113
 219:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_CHECK_VIR_SPD_SEN
 220:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   if ((MC_NULL == pHandle) || (MC_NULL == hMecSpeedUnit))
 221:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   {
 222:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     SpeedSensorReliability = false;
 223:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   }
 224:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   else
 225:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   {
 226:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 227:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     if (pHandle->hRemainingStep > 1u)
 323              		.loc 1 227 5 view .LVU114
 324              		.loc 1 227 16 is_stmt 0 view .LVU115
 325 0004 028D     		ldrh	r2, [r0, #40]
 326              		.loc 1 227 8 view .LVU116
 327 0006 012A     		cmp	r2, #1
 328 0008 1DD9     		bls	.L15
 228:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
 229:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->wElSpeedDpp32 += pHandle->wElAccDppP32;
 329              		.loc 1 229 7 is_stmt 1 view .LVU117
 330              		.loc 1 229 30 is_stmt 0 view .LVU118
 331 000a 426A     		ldr	r2, [r0, #36]
 332 000c 006A     		ldr	r0, [r0, #32]
 333              	.LVL24:
 334              		.loc 1 229 30 view .LVU119
 335 000e 1044     		add	r0, r0, r2
 336 0010 5862     		str	r0, [r3, #36]
 230:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifndef FULL_MISRA_C_COMPLIANCY_VIRT_SPD_SENS
 231:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       //cstat !MISRAC2012-Rule-1.3_n !ATH-shift-neg !MISRAC2012-Rule-10.1_R6
 232:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->_Super.hElSpeedDpp = (int16_t)(pHandle->wElSpeedDpp32 >> 16);
 337              		.loc 1 232 7 is_stmt 1 view .LVU120
 338              		.loc 1 232 37 is_stmt 0 view .LVU121
 339 0012 0014     		asrs	r0, r0, #16
 340              		.loc 1 232 35 view .LVU122
ARM GAS  /tmp/ccqhiY2i.s 			page 12


 341 0014 D881     		strh	r0, [r3, #14]	@ movhi
 233:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #else
 234:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->_Super.hElSpeedDpp = (int16_t)(pHandle->wElSpeedDpp32 / 65536);
 235:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 236:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 237:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       /* Convert dpp into MecUnit */
 238:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       *hMecSpeedUnit = (int16_t)((((int32_t)pHandle->_Super.hElSpeedDpp)
 342              		.loc 1 238 7 is_stmt 1 view .LVU123
 239:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                                * ((int32_t )pHandle->_Super.hMeasurementFrequency) * SPEED_UNIT)
 343              		.loc 1 239 35 is_stmt 0 view .LVU124
 344 0016 5A8B     		ldrh	r2, [r3, #26]
 345              		.loc 1 239 32 view .LVU125
 346 0018 00FB02F2 		mul	r2, r0, r2
 347              		.loc 1 239 84 view .LVU126
 348 001c 02EB8202 		add	r2, r2, r2, lsl #2
 349 0020 5200     		lsls	r2, r2, #1
 240:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                                / (((int32_t)pHandle->_Super.DPPConvFactor) * ((int32_t)pHandle->_Su
 350              		.loc 1 240 79 view .LVU127
 351 0022 5878     		ldrb	r0, [r3, #1]	@ zero_extendqisi2
 352              		.loc 1 240 76 view .LVU128
 353 0024 DC69     		ldr	r4, [r3, #28]
 354 0026 04FB00F0 		mul	r0, r4, r0
 355              		.loc 1 240 32 view .LVU129
 356 002a 92FBF0F2 		sdiv	r2, r2, r0
 238:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                                * ((int32_t )pHandle->_Super.hMeasurementFrequency) * SPEED_UNIT)
 357              		.loc 1 238 24 view .LVU130
 358 002e 12B2     		sxth	r2, r2
 238:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                                * ((int32_t )pHandle->_Super.hMeasurementFrequency) * SPEED_UNIT)
 359              		.loc 1 238 22 view .LVU131
 360 0030 0A80     		strh	r2, [r1]	@ movhi
 241:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->_Super.hAvrMecSpeedUnit = *hMecSpeedUnit;
 361              		.loc 1 241 7 is_stmt 1 view .LVU132
 362              		.loc 1 241 40 is_stmt 0 view .LVU133
 363 0032 9A81     		strh	r2, [r3, #12]	@ movhi
 242:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->hRemainingStep--;
 364              		.loc 1 242 7 is_stmt 1 view .LVU134
 365              		.loc 1 242 30 is_stmt 0 view .LVU135
 366 0034 1A8D     		ldrh	r2, [r3, #40]
 367 0036 013A     		subs	r2, r2, #1
 368 0038 1A85     		strh	r2, [r3, #40]	@ movhi
 369              	.L16:
 243:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 244:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     else if (1U == pHandle->hRemainingStep)
 245:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
 246:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       *hMecSpeedUnit = pHandle->hFinalMecSpeedUnit;
 247:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->_Super.hAvrMecSpeedUnit = *hMecSpeedUnit;
 248:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->_Super.hElSpeedDpp = (int16_t)((((int32_t)*hMecSpeedUnit) * ((int32_t)pHandle->_Supe
 249:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                                           / (((int32_t)SPEED_UNIT) * ((int32_t)pHandle->_Super.hMea
 250:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->_Super.hElSpeedDpp *= ((int16_t)pHandle->_Super.bElToMecRatio);
 251:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->hRemainingStep = 0U;
 252:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 253:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     else
 254:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
 255:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       *hMecSpeedUnit = pHandle->_Super.hAvrMecSpeedUnit;
 256:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 257:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     /* If the transition is not done yet, we already know that speed is not reliable */
 258:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     if (false == pHandle->bTransitionEnded)
ARM GAS  /tmp/ccqhiY2i.s 			page 13


 370              		.loc 1 258 5 is_stmt 1 view .LVU136
 371              		.loc 1 258 25 is_stmt 0 view .LVU137
 372 003a 93F82D00 		ldrb	r0, [r3, #45]	@ zero_extendqisi2
 373              		.loc 1 258 8 view .LVU138
 374 003e E0B9     		cbnz	r0, .L18
 259:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
 260:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->_Super.bSpeedErrorNumber = pHandle->_Super.bMaximumSpeedErrorsNumber;
 375              		.loc 1 260 7 is_stmt 1 view .LVU139
 376              		.loc 1 260 41 is_stmt 0 view .LVU140
 377 0040 DA78     		ldrb	r2, [r3, #3]	@ zero_extendqisi2
 378 0042 1A70     		strb	r2, [r3]
 261:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       SpeedSensorReliability = false;
 379              		.loc 1 261 7 is_stmt 1 view .LVU141
 380              	.LVL25:
 381              	.L19:
 262:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 263:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     else
 264:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
 265:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       SpeedSensorReliability = SPD_IsMecSpeedReliable(&pHandle->_Super, hMecSpeedUnit);
 266:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 267:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_CHECK_VIR_SPD_SEN
 268:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   }
 269:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 270:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   return (SpeedSensorReliability);
 382              		.loc 1 270 3 view .LVU142
 271:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** }
 383              		.loc 1 271 1 is_stmt 0 view .LVU143
 384 0044 10BD     		pop	{r4, pc}
 385              	.LVL26:
 386              	.L15:
 244:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
 387              		.loc 1 244 10 is_stmt 1 view .LVU144
 244:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
 388              		.loc 1 244 13 is_stmt 0 view .LVU145
 389 0046 012A     		cmp	r2, #1
 390 0048 03D0     		beq	.L21
 255:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 391              		.loc 1 255 7 is_stmt 1 view .LVU146
 255:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 392              		.loc 1 255 39 is_stmt 0 view .LVU147
 393 004a B0F90C20 		ldrsh	r2, [r0, #12]
 255:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 394              		.loc 1 255 22 view .LVU148
 395 004e 0A80     		strh	r2, [r1]	@ movhi
 396 0050 F3E7     		b	.L16
 397              	.L21:
 246:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->_Super.hAvrMecSpeedUnit = *hMecSpeedUnit;
 398              		.loc 1 246 7 is_stmt 1 view .LVU149
 246:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->_Super.hAvrMecSpeedUnit = *hMecSpeedUnit;
 399              		.loc 1 246 31 is_stmt 0 view .LVU150
 400 0052 B0F92A20 		ldrsh	r2, [r0, #42]
 246:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->_Super.hAvrMecSpeedUnit = *hMecSpeedUnit;
 401              		.loc 1 246 22 view .LVU151
 402 0056 0A80     		strh	r2, [r1]	@ movhi
 247:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->_Super.hElSpeedDpp = (int16_t)((((int32_t)*hMecSpeedUnit) * ((int32_t)pHandle->_Supe
 403              		.loc 1 247 7 is_stmt 1 view .LVU152
 247:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->_Super.hElSpeedDpp = (int16_t)((((int32_t)*hMecSpeedUnit) * ((int32_t)pHandle->_Supe
ARM GAS  /tmp/ccqhiY2i.s 			page 14


 404              		.loc 1 247 40 is_stmt 0 view .LVU153
 405 0058 8281     		strh	r2, [r0, #12]	@ movhi
 248:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                                           / (((int32_t)SPEED_UNIT) * ((int32_t)pHandle->_Super.hMea
 406              		.loc 1 248 7 is_stmt 1 view .LVU154
 250:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->hRemainingStep = 0U;
 407              		.loc 1 250 7 view .LVU155
 248:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                                           / (((int32_t)SPEED_UNIT) * ((int32_t)pHandle->_Super.hMea
 408              		.loc 1 248 74 is_stmt 0 view .LVU156
 409 005a C069     		ldr	r0, [r0, #28]
 410              	.LVL27:
 248:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                                           / (((int32_t)SPEED_UNIT) * ((int32_t)pHandle->_Super.hMea
 411              		.loc 1 248 74 view .LVU157
 412 005c 00FB02F2 		mul	r2, r0, r2
 249:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->_Super.hElSpeedDpp *= ((int16_t)pHandle->_Super.bElToMecRatio);
 413              		.loc 1 249 71 view .LVU158
 414 0060 588B     		ldrh	r0, [r3, #26]
 249:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->_Super.hElSpeedDpp *= ((int16_t)pHandle->_Super.bElToMecRatio);
 415              		.loc 1 249 68 view .LVU159
 416 0062 00EB8000 		add	r0, r0, r0, lsl #2
 417 0066 4000     		lsls	r0, r0, #1
 249:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->_Super.hElSpeedDpp *= ((int16_t)pHandle->_Super.bElToMecRatio);
 418              		.loc 1 249 43 view .LVU160
 419 0068 92FBF0F2 		sdiv	r2, r2, r0
 250:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->hRemainingStep = 0U;
 420              		.loc 1 250 35 view .LVU161
 421 006c 5878     		ldrb	r0, [r3, #1]	@ zero_extendqisi2
 422 006e 10FB02F2 		smulbb	r2, r0, r2
 423 0072 DA81     		strh	r2, [r3, #14]	@ movhi
 251:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 424              		.loc 1 251 7 is_stmt 1 view .LVU162
 251:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 425              		.loc 1 251 31 is_stmt 0 view .LVU163
 426 0074 0022     		movs	r2, #0
 427 0076 1A85     		strh	r2, [r3, #40]	@ movhi
 428 0078 DFE7     		b	.L16
 429              	.L18:
 265:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 430              		.loc 1 265 7 is_stmt 1 view .LVU164
 265:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 431              		.loc 1 265 32 is_stmt 0 view .LVU165
 432 007a 1846     		mov	r0, r3
 433 007c FFF7FEFF 		bl	SPD_IsMecSpeedReliable
 434              	.LVL28:
 265:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 435              		.loc 1 265 32 view .LVU166
 436 0080 E0E7     		b	.L19
 437              		.cfi_endproc
 438              	.LFE1443:
 440              		.section	.text.VSS_SetMecAcceleration,"ax",%progbits
 441              		.align	1
 442              		.weak	VSS_SetMecAcceleration
 443              		.syntax unified
 444              		.thumb
 445              		.thumb_func
 446              		.fpu fpv4-sp-d16
 448              	VSS_SetMecAcceleration:
 449              	.LVL29:
ARM GAS  /tmp/ccqhiY2i.s 			page 15


 450              	.LFB1444:
 272:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 273:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** /**
 274:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @brief  Sets the mechanical acceleration of virtual speed sensor.
 275:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @param  pHandle: handler of the current instance of the VirtualSpeedSensor component.
 276:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @param  hFinalMecSpeedUnit mechanical speed assumed by
 277:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *         the virtual speed sensor at the end of the duration. Expressed in the unit defined
 278:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *         by [SPEED_UNIT](measurement_units.md).
 279:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @param  hDurationms: Duration expressed in ms. It can be 0 to apply
 280:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *         instantaneous the final speed.
 281:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @retval none
 282:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *
 283:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * - This acceleration is defined starting from current mechanical speed, final mechanical
 284:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * speed expressed in [SPEED_UNIT](measurement_units.md) and duration expressed in milliseconds.
 285:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * - Called during @ref RevUpCtrl "Rev-Up Control" and
 286:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @ref EncAlignCtrl "Encoder Alignment Controller procedure" initialization.
 287:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   */
 288:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** __weak void  VSS_SetMecAcceleration(VirtualSpeedSensor_Handle_t *pHandle, int16_t hFinalMecSpeedUni
 289:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                                     uint16_t hDurationms)
 290:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** {
 451              		.loc 1 290 1 is_stmt 1 view -0
 452              		.cfi_startproc
 453              		@ args = 0, pretend = 0, frame = 0
 454              		@ frame_needed = 0, uses_anonymous_args = 0
 291:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_CHECK_VIR_SPD_SEN
 292:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   if (MC_NULL == pHandle)
 293:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   {
 294:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     /* Nothing to do */
 295:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   }
 296:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   else
 297:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   {
 298:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 299:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     int32_t wMecAccDppP32;
 455              		.loc 1 299 5 view .LVU168
 300:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     uint16_t hNbrStep;
 456              		.loc 1 300 5 view .LVU169
 301:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     int16_t hCurrentMecSpeedDpp;
 457              		.loc 1 301 5 view .LVU170
 302:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     int16_t hFinalMecSpeedDpp;
 458              		.loc 1 302 5 view .LVU171
 303:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 304:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     if (false == pHandle->bTransitionStarted)
 459              		.loc 1 304 5 view .LVU172
 460              		.loc 1 304 8 is_stmt 0 view .LVU173
 461 0000 90F82C30 		ldrb	r3, [r0, #44]	@ zero_extendqisi2
 462 0004 002B     		cmp	r3, #0
 463 0006 41D1     		bne	.L27
 305:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
 306:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       if (0U == hDurationms)
 464              		.loc 1 306 7 is_stmt 1 view .LVU174
 465              		.loc 1 306 10 is_stmt 0 view .LVU175
 466 0008 8AB9     		cbnz	r2, .L24
 307:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       {
 308:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         pHandle->_Super.hAvrMecSpeedUnit = hFinalMecSpeedUnit;
 467              		.loc 1 308 9 is_stmt 1 view .LVU176
 468              		.loc 1 308 42 is_stmt 0 view .LVU177
 469 000a 8181     		strh	r1, [r0, #12]	@ movhi
ARM GAS  /tmp/ccqhiY2i.s 			page 16


 309:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 310:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         pHandle->_Super.hElSpeedDpp = (int16_t)((((int32_t)hFinalMecSpeedUnit)
 470              		.loc 1 310 9 is_stmt 1 view .LVU178
 311:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                                                * ((int32_t)pHandle->_Super.DPPConvFactor))
 312:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                                               / (((int32_t)SPEED_UNIT)
 313:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                                                * ((int32_t)pHandle->_Super.hMeasurementFrequency)))
 314:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 315:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         pHandle->_Super.hElSpeedDpp *= ((int16_t)pHandle->_Super.bElToMecRatio);
 471              		.loc 1 315 9 view .LVU179
 311:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                                                * ((int32_t)pHandle->_Super.DPPConvFactor))
 472              		.loc 1 311 48 is_stmt 0 view .LVU180
 473 000c C369     		ldr	r3, [r0, #28]
 474 000e 03FB01F2 		mul	r2, r3, r1
 475              	.LVL30:
 313:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 476              		.loc 1 313 51 view .LVU181
 477 0012 438B     		ldrh	r3, [r0, #26]
 313:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 478              		.loc 1 313 48 view .LVU182
 479 0014 03EB8303 		add	r3, r3, r3, lsl #2
 480 0018 5B00     		lsls	r3, r3, #1
 312:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                                                * ((int32_t)pHandle->_Super.hMeasurementFrequency)))
 481              		.loc 1 312 47 view .LVU183
 482 001a 92FBF3F3 		sdiv	r3, r2, r3
 483              		.loc 1 315 37 view .LVU184
 484 001e 4278     		ldrb	r2, [r0, #1]	@ zero_extendqisi2
 485 0020 12FB03F3 		smulbb	r3, r2, r3
 486 0024 C381     		strh	r3, [r0, #14]	@ movhi
 316:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 317:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         pHandle->hRemainingStep = 0U;
 487              		.loc 1 317 9 is_stmt 1 view .LVU185
 488              		.loc 1 317 33 is_stmt 0 view .LVU186
 489 0026 0023     		movs	r3, #0
 490 0028 0385     		strh	r3, [r0, #40]	@ movhi
 318:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 319:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         pHandle->hFinalMecSpeedUnit = hFinalMecSpeedUnit;
 491              		.loc 1 319 9 is_stmt 1 view .LVU187
 492              		.loc 1 319 37 is_stmt 0 view .LVU188
 493 002a 4185     		strh	r1, [r0, #42]	@ movhi
 494 002c 7047     		bx	lr
 495              	.LVL31:
 496              	.L24:
 320:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       }
 321:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       else
 322:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       {
 323:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         hNbrStep = (uint16_t)((((uint32_t)hDurationms) * ((uint32_t)pHandle->hSpeedSamplingFreqHz))
 497              		.loc 1 323 9 is_stmt 1 view .LVU189
 498              		.loc 1 323 59 is_stmt 0 view .LVU190
 499 002e 838E     		ldrh	r3, [r0, #52]
 500              		.loc 1 323 56 view .LVU191
 501 0030 03FB02F2 		mul	r2, r3, r2
 502              	.LVL32:
 503              		.loc 1 323 101 view .LVU192
 504 0034 164B     		ldr	r3, .L31
 505 0036 A3FB0223 		umull	r2, r3, r3, r2
 506              		.loc 1 323 18 view .LVU193
 507 003a C3F38F13 		ubfx	r3, r3, #6, #16
ARM GAS  /tmp/ccqhiY2i.s 			page 17


 508              	.LVL33:
 324:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         hNbrStep++;
 509              		.loc 1 324 9 is_stmt 1 view .LVU194
 510              		.loc 1 324 17 is_stmt 0 view .LVU195
 511 003e 0133     		adds	r3, r3, #1
 512              	.LVL34:
 513              		.loc 1 324 17 view .LVU196
 514 0040 9BB2     		uxth	r3, r3
 515              	.LVL35:
 325:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         pHandle->hRemainingStep = hNbrStep;
 516              		.loc 1 325 9 is_stmt 1 view .LVU197
 517              		.loc 1 325 33 is_stmt 0 view .LVU198
 518 0042 0385     		strh	r3, [r0, #40]	@ movhi
 326:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         hCurrentMecSpeedDpp = pHandle->_Super.hElSpeedDpp / ((int16_t)pHandle->_Super.bElToMecRatio
 519              		.loc 1 326 9 is_stmt 1 view .LVU199
 520              		.loc 1 326 46 is_stmt 0 view .LVU200
 521 0044 B0F90EC0 		ldrsh	ip, [r0, #14]
 522              	.LVL36:
 327:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         hFinalMecSpeedDpp = (int16_t)((((int32_t )hFinalMecSpeedUnit) * ((int32_t)pHandle->_Super.D
 523              		.loc 1 327 9 is_stmt 1 view .LVU201
 328:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                                     / (((int32_t )SPEED_UNIT) * ((int32_t)pHandle->_Super.hMeasurem
 329:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 330:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         if (0U == hNbrStep)
 524              		.loc 1 330 9 view .LVU202
 525              		.loc 1 330 12 is_stmt 0 view .LVU203
 526 0048 DBB1     		cbz	r3, .L28
 290:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_CHECK_VIR_SPD_SEN
 527              		.loc 1 290 1 view .LVU204
 528 004a 10B5     		push	{r4, lr}
 529              	.LCFI3:
 530              		.cfi_def_cfa_offset 8
 531              		.cfi_offset 4, -8
 532              		.cfi_offset 14, -4
 326:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         hFinalMecSpeedDpp = (int16_t)((((int32_t )hFinalMecSpeedUnit) * ((int32_t)pHandle->_Super.D
 533              		.loc 1 326 62 view .LVU205
 534 004c 4478     		ldrb	r4, [r0, #1]	@ zero_extendqisi2
 331:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         {
 332:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           /* Nothing to do */
 333:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         }
 334:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         else
 335:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         {
 336:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           wMecAccDppP32 = ((((int32_t)hFinalMecSpeedDpp) - ((int32_t)hCurrentMecSpeedDpp))
 535              		.loc 1 336 11 is_stmt 1 view .LVU206
 536              	.LVL37:
 337:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                          * ((int32_t)65536)) / ((int32_t )hNbrStep);
 338:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 339:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****           pHandle->wElAccDppP32 = wMecAccDppP32 * ((int16_t)pHandle->_Super.bElToMecRatio);
 537              		.loc 1 339 11 view .LVU207
 327:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                                     / (((int32_t )SPEED_UNIT) * ((int32_t)pHandle->_Super.hMeasurem
 538              		.loc 1 327 71 is_stmt 0 view .LVU208
 539 004e C269     		ldr	r2, [r0, #28]
 540 0050 01FB02F2 		mul	r2, r1, r2
 328:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 541              		.loc 1 328 66 view .LVU209
 542 0054 B0F81AE0 		ldrh	lr, [r0, #26]
 543              	.LVL38:
 328:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
ARM GAS  /tmp/ccqhiY2i.s 			page 18


 544              		.loc 1 328 63 view .LVU210
 545 0058 0EEB8E0E 		add	lr, lr, lr, lsl #2
 546              	.LVL39:
 328:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 547              		.loc 1 328 63 view .LVU211
 548 005c 4FEA4E0E 		lsl	lr, lr, #1
 328:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 549              		.loc 1 328 37 view .LVU212
 550 0060 92FBFEF2 		sdiv	r2, r2, lr
 336:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                          * ((int32_t)65536)) / ((int32_t )hNbrStep);
 551              		.loc 1 336 61 view .LVU213
 552 0064 9CFBF4FE 		sdiv	lr, ip, r4
 336:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                          * ((int32_t)65536)) / ((int32_t )hNbrStep);
 553              		.loc 1 336 58 view .LVU214
 554 0068 A2EB0E02 		sub	r2, r2, lr
 337:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 555              		.loc 1 337 26 view .LVU215
 556 006c 1204     		lsls	r2, r2, #16
 336:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****                          * ((int32_t)65536)) / ((int32_t )hNbrStep);
 557              		.loc 1 336 25 view .LVU216
 558 006e 92FBF3F3 		sdiv	r3, r2, r3
 559              	.LVL40:
 560              		.loc 1 339 49 view .LVU217
 561 0072 04FB03F3 		mul	r3, r4, r3
 562              		.loc 1 339 33 view .LVU218
 563 0076 0362     		str	r3, [r0, #32]
 340:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         }
 341:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 342:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         pHandle->hFinalMecSpeedUnit = hFinalMecSpeedUnit;
 564              		.loc 1 342 9 is_stmt 1 view .LVU219
 565              		.loc 1 342 37 is_stmt 0 view .LVU220
 566 0078 4185     		strh	r1, [r0, #42]	@ movhi
 343:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 344:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         pHandle->wElSpeedDpp32 = ((int32_t)pHandle->_Super.hElSpeedDpp) * ((int32_t)65536);
 567              		.loc 1 344 9 is_stmt 1 view .LVU221
 568              		.loc 1 344 73 is_stmt 0 view .LVU222
 569 007a 4FEA0C43 		lsl	r3, ip, #16
 570              		.loc 1 344 32 view .LVU223
 571 007e 4362     		str	r3, [r0, #36]
 345:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       }
 346:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 347:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     else
 348:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
 349:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       /* Nothing to do */
 350:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 572              		.loc 1 350 5 is_stmt 1 view .LVU224
 351:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_CHECK_VIR_SPD_SEN
 352:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   }
 353:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 354:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** }
 573              		.loc 1 354 1 is_stmt 0 view .LVU225
 574 0080 10BD     		pop	{r4, pc}
 575              	.LVL41:
 576              	.L28:
 577              	.LCFI4:
 578              		.cfi_def_cfa_offset 0
 579              		.cfi_restore 4
ARM GAS  /tmp/ccqhiY2i.s 			page 19


 580              		.cfi_restore 14
 342:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 581              		.loc 1 342 9 is_stmt 1 view .LVU226
 342:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 582              		.loc 1 342 37 is_stmt 0 view .LVU227
 583 0082 4185     		strh	r1, [r0, #42]	@ movhi
 344:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       }
 584              		.loc 1 344 9 is_stmt 1 view .LVU228
 344:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       }
 585              		.loc 1 344 73 is_stmt 0 view .LVU229
 586 0084 4FEA0C43 		lsl	r3, ip, #16
 587              	.LVL42:
 344:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       }
 588              		.loc 1 344 32 view .LVU230
 589 0088 4362     		str	r3, [r0, #36]
 350:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_CHECK_VIR_SPD_SEN
 590              		.loc 1 350 5 is_stmt 1 view .LVU231
 591 008a 7047     		bx	lr
 592              	.LVL43:
 593              	.L27:
 350:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_CHECK_VIR_SPD_SEN
 594              		.loc 1 350 5 is_stmt 0 view .LVU232
 595 008c 7047     		bx	lr
 596              	.L32:
 597 008e 00BF     		.align	2
 598              	.L31:
 599 0090 D34D6210 		.word	274877907
 600              		.cfi_endproc
 601              	.LFE1444:
 603              		.section	.text.VSS_RampCompleted,"ax",%progbits
 604              		.align	1
 605              		.weak	VSS_RampCompleted
 606              		.syntax unified
 607              		.thumb
 608              		.thumb_func
 609              		.fpu fpv4-sp-d16
 611              	VSS_RampCompleted:
 612              	.LVL44:
 613              	.LFB1445:
 355:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 356:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** /**
 357:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @brief  Checks if the ramp executed after a #VSS_SetMecAcceleration command
 358:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *         has been completed by checking zero value of the Number of steps remaining to reach the
 359:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *         speed.
 360:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @param  pHandle: handler of the current instance of the VirtualSpeedSensor component.
 361:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @retval bool: true if the ramp is completed, otherwise false.
 362:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *
 363:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * - Not used into current implementation.
 364:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   */
 365:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** __weak bool VSS_RampCompleted(VirtualSpeedSensor_Handle_t *pHandle)
 366:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** {
 614              		.loc 1 366 1 is_stmt 1 view -0
 615              		.cfi_startproc
 616              		@ args = 0, pretend = 0, frame = 0
 617              		@ frame_needed = 0, uses_anonymous_args = 0
 618              		@ link register save eliminated.
 367:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   bool retVal = false;
ARM GAS  /tmp/ccqhiY2i.s 			page 20


 619              		.loc 1 367 3 view .LVU234
 368:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_CHECK_VIR_SPD_SEN
 369:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   if (MC_NULL == pHandle)
 370:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   {
 371:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     /* nothing to do */
 372:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   }
 373:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   else
 374:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   {
 375:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 376:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     if (0U == pHandle->hRemainingStep)
 620              		.loc 1 376 5 view .LVU235
 377:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
 378:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       retVal = true;
 379:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 380:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     else
 381:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
 382:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       /* Nothing to do */
 383:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 621              		.loc 1 383 5 view .LVU236
 384:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_CHECK_VIR_SPD_SEN
 385:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   }
 386:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 387:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   return (retVal);
 622              		.loc 1 387 3 view .LVU237
 376:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
 623              		.loc 1 376 8 is_stmt 0 view .LVU238
 624 0000 008D     		ldrh	r0, [r0, #40]
 625              	.LVL45:
 388:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** }
 626              		.loc 1 388 1 view .LVU239
 627 0002 B0FA80F0 		clz	r0, r0
 628              	.LVL46:
 629              		.loc 1 388 1 view .LVU240
 630 0006 4009     		lsrs	r0, r0, #5
 631 0008 7047     		bx	lr
 632              		.cfi_endproc
 633              	.LFE1445:
 635              		.section	.text.VSS_GetLastRampFinalSpeed,"ax",%progbits
 636              		.align	1
 637              		.weak	VSS_GetLastRampFinalSpeed
 638              		.syntax unified
 639              		.thumb
 640              		.thumb_func
 641              		.fpu fpv4-sp-d16
 643              	VSS_GetLastRampFinalSpeed:
 644              	.LVL47:
 645              	.LFB1446:
 389:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 390:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** /**
 391:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @brief  Gets the final speed of last settled ramp of virtual speed sensor expressed
 392:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****             in [SPEED_UNIT](measurement_units.md).
 393:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @param  pHandle: handler of the current instance of the VirtualSpeedSensor component.
 394:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @retval none
 395:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *
 396:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * - Will be call for future dual motor implementation into START state of MC tasks state machine 
 397:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   */
 398:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** __weak int16_t  VSS_GetLastRampFinalSpeed(VirtualSpeedSensor_Handle_t *pHandle)
ARM GAS  /tmp/ccqhiY2i.s 			page 21


 399:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** {
 646              		.loc 1 399 1 is_stmt 1 view -0
 647              		.cfi_startproc
 648              		@ args = 0, pretend = 0, frame = 0
 649              		@ frame_needed = 0, uses_anonymous_args = 0
 650              		@ link register save eliminated.
 400:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_CHECK_VIR_SPD_SEN
 401:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   return ((MC_NULL == pHandle) ? 0 : pHandle->hFinalMecSpeedUnit);
 402:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #else
 403:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   return (pHandle->hFinalMecSpeedUnit);
 651              		.loc 1 403 3 view .LVU242
 404:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 405:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** }
 652              		.loc 1 405 1 is_stmt 0 view .LVU243
 653 0000 B0F92A00 		ldrsh	r0, [r0, #42]
 654              	.LVL48:
 655              		.loc 1 405 1 view .LVU244
 656 0004 7047     		bx	lr
 657              		.cfi_endproc
 658              	.LFE1446:
 660              		.section	.text.VSS_SetStartTransition,"ax",%progbits
 661              		.align	1
 662              		.weak	VSS_SetStartTransition
 663              		.syntax unified
 664              		.thumb
 665              		.thumb_func
 666              		.fpu fpv4-sp-d16
 668              	VSS_SetStartTransition:
 669              	.LVL49:
 670              	.LFB1447:
 406:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 407:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** /**
 408:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @brief  Sets the command to Start the transition phase from Virtual Speed Sensor
 409:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *         to other Speed Sensor.
 410:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @param  pHandle: handler of the current instance of the VirtualSpeedSensor component.
 411:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @param  bCommand: true to Start the transition phase, false has no effect.
 412:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @retval bool: true if Transition phase is enabled (started or not), false if
 413:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *         transition has been triggered but it's actually disabled
 414:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *         (parameter #hTransitionSteps = 0).
 415:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *
 416:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * - Transition is to be considered ended when Sensor information is
 417:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *  declared 'Reliable' or if function returned value is false.
 418:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * - Called into START state of MC tasks state machine into TSK_MediumFrequencyTask.
 419:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   */
 420:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** __weak bool VSS_SetStartTransition(VirtualSpeedSensor_Handle_t *pHandle, bool bCommand)
 421:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** {
 671              		.loc 1 421 1 is_stmt 1 view -0
 672              		.cfi_startproc
 673              		@ args = 0, pretend = 0, frame = 0
 674              		@ frame_needed = 0, uses_anonymous_args = 0
 675              		@ link register save eliminated.
 422:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   bool bAux = true;
 676              		.loc 1 422 3 view .LVU246
 423:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_CHECK_VIR_SPD_SEN
 424:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   if (MC_NULL == pHandle)
 425:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   {
 426:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     /* nothing to do */
ARM GAS  /tmp/ccqhiY2i.s 			page 22


 427:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   }
 428:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   else
 429:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   {
 430:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 431:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     if (true == bCommand)
 677              		.loc 1 431 5 view .LVU247
 678              		.loc 1 431 8 is_stmt 0 view .LVU248
 679 0000 61B1     		cbz	r1, .L37
 432:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
 433:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       pHandle->bTransitionStarted = true;
 680              		.loc 1 433 7 is_stmt 1 view .LVU249
 681              		.loc 1 433 35 is_stmt 0 view .LVU250
 682 0002 0122     		movs	r2, #1
 683 0004 80F82C20 		strb	r2, [r0, #44]
 434:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 435:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       if (0 == pHandle->hTransitionSteps)
 684              		.loc 1 435 7 is_stmt 1 view .LVU251
 685              		.loc 1 435 10 is_stmt 0 view .LVU252
 686 0008 B0F93620 		ldrsh	r2, [r0, #54]
 687 000c 42B9     		cbnz	r2, .L38
 436:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       {
 437:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         pHandle->bTransitionEnded = true;
 688              		.loc 1 437 9 is_stmt 1 view .LVU253
 689              		.loc 1 437 35 is_stmt 0 view .LVU254
 690 000e 0123     		movs	r3, #1
 691 0010 80F82D30 		strb	r3, [r0, #45]
 438:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         pHandle->_Super.bSpeedErrorNumber = 0U;
 692              		.loc 1 438 9 is_stmt 1 view .LVU255
 693              		.loc 1 438 43 is_stmt 0 view .LVU256
 694 0014 0023     		movs	r3, #0
 695 0016 0370     		strb	r3, [r0]
 439:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         bAux = false;
 696              		.loc 1 439 9 is_stmt 1 view .LVU257
 697              	.LVL50:
 698              		.loc 1 439 14 is_stmt 0 view .LVU258
 699 0018 1846     		mov	r0, r3
 700              	.LVL51:
 701              		.loc 1 439 14 view .LVU259
 702 001a 7047     		bx	lr
 703              	.LVL52:
 704              	.L37:
 422:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_CHECK_VIR_SPD_SEN
 705              		.loc 1 422 8 view .LVU260
 706 001c 0120     		movs	r0, #1
 707              	.LVL53:
 422:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_CHECK_VIR_SPD_SEN
 708              		.loc 1 422 8 view .LVU261
 709 001e 7047     		bx	lr
 710              	.LVL54:
 711              	.L38:
 422:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_CHECK_VIR_SPD_SEN
 712              		.loc 1 422 8 view .LVU262
 713 0020 0846     		mov	r0, r1
 714              	.LVL55:
 440:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       }
 441:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       else
 442:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       {
ARM GAS  /tmp/ccqhiY2i.s 			page 23


 443:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****         /* Nothing to do */
 444:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       }
 445:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 446:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     else
 447:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
 448:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       /* Nothing to do */
 449:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 715              		.loc 1 449 5 is_stmt 1 view .LVU263
 450:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_CHECK_VIR_SPD_SEN
 451:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   }
 452:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 453:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   return (bAux);
 716              		.loc 1 453 3 view .LVU264
 454:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** }
 717              		.loc 1 454 1 is_stmt 0 view .LVU265
 718 0022 7047     		bx	lr
 719              		.cfi_endproc
 720              	.LFE1447:
 722              		.section	.text.VSS_IsTransitionOngoing,"ax",%progbits
 723              		.align	1
 724              		.weak	VSS_IsTransitionOngoing
 725              		.syntax unified
 726              		.thumb
 727              		.thumb_func
 728              		.fpu fpv4-sp-d16
 730              	VSS_IsTransitionOngoing:
 731              	.LVL56:
 732              	.LFB1448:
 455:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 456:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** /**
 457:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @brief  Returns the status of the transition phase by checking the status of the two parameters
 458:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *         @ref VirtualSpeedSensor_Handle_t::bTransitionStarted "bTransitionStarted" and
 459:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *         @ref VirtualSpeedSensor_Handle_t::bTransitionEnded "bTransitionEnded".
 460:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @param  pHandle: handler of the current instance of the VirtualSpeedSensor components
 461:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @retval bool: true if Transition phase is ongoing, false otherwise.
 462:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *
 463:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * - Not used into current implementation.
 464:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   */
 465:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** //cstat !MISRAC2012-Rule-8.13
 466:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** __weak bool VSS_IsTransitionOngoing(VirtualSpeedSensor_Handle_t *pHandle)
 467:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** {
 733              		.loc 1 467 1 is_stmt 1 view -0
 734              		.cfi_startproc
 735              		@ args = 0, pretend = 0, frame = 0
 736              		@ frame_needed = 0, uses_anonymous_args = 0
 737              		@ link register save eliminated.
 468:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   bool retVal = false;
 738              		.loc 1 468 3 view .LVU267
 469:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_CHECK_VIR_SPD_SEN
 470:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   if (MC_NULL == pHandle)
 471:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   {
 472:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     /* nothing to do */
 473:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   }
 474:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   else
 475:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   {
 476:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 477:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     uint16_t hTS = 0U;
ARM GAS  /tmp/ccqhiY2i.s 			page 24


 739              		.loc 1 477 5 view .LVU268
 478:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     uint16_t hTE = 0U;
 740              		.loc 1 478 5 view .LVU269
 479:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     uint16_t hAux;
 741              		.loc 1 479 5 view .LVU270
 480:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 481:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     if (true == pHandle->bTransitionStarted)
 742              		.loc 1 481 5 view .LVU271
 482:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
 483:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       hTS = 1U;
 484:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 485:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     else
 486:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
 487:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       /* Nothing to do */
 488:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 743              		.loc 1 488 5 view .LVU272
 489:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     if (true == pHandle->bTransitionEnded)
 744              		.loc 1 489 5 view .LVU273
 490:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
 491:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       hTE = 1U;
 492:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 493:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     else
 494:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
 495:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       /* Nothing to do */
 496:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 745              		.loc 1 496 5 view .LVU274
 497:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     hAux = hTS ^ hTE;
 746              		.loc 1 497 5 view .LVU275
 498:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     if (hAux != 0U)
 747              		.loc 1 498 5 view .LVU276
 499:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
 500:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       retVal = true;
 501:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 502:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     else
 503:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
 504:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****       /* Nothing to do */
 505:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     }
 748              		.loc 1 505 5 view .LVU277
 506:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_CHECK_VIR_SPD_SEN
 507:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   }
 508:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 509:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   return (retVal);
 749              		.loc 1 509 3 view .LVU278
 498:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     {
 750              		.loc 1 498 8 is_stmt 0 view .LVU279
 751 0000 90F82C20 		ldrb	r2, [r0, #44]	@ zero_extendqisi2
 752 0004 90F82D00 		ldrb	r0, [r0, #45]	@ zero_extendqisi2
 753              	.LVL57:
 510:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** }
 754              		.loc 1 510 1 view .LVU280
 755 0008 101A     		subs	r0, r2, r0
 756              	.LVL58:
 757              		.loc 1 510 1 view .LVU281
 758 000a 18BF     		it	ne
 759 000c 0120     		movne	r0, #1
 760 000e 7047     		bx	lr
 761              		.cfi_endproc
ARM GAS  /tmp/ccqhiY2i.s 			page 25


 762              	.LFE1448:
 764              		.section	.text.VSS_TransitionEnded,"ax",%progbits
 765              		.align	1
 766              		.weak	VSS_TransitionEnded
 767              		.syntax unified
 768              		.thumb
 769              		.thumb_func
 770              		.fpu fpv4-sp-d16
 772              	VSS_TransitionEnded:
 773              	.LVL59:
 774              	.LFB1449:
 511:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 512:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** /**
 513:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @brief  Returns the ending status of the transition phase by checking the parameter
 514:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *         @ref VirtualSpeedSensor_Handle_t::bTransitionEnded "bTransitionEnded".
 515:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @param  pHandle: handler of the current instance of the VirtualSpeedSensor components
 516:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @retval bool: true if Transition phase ended, false otherwise.
 517:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *
 518:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * - Called into SWITCH_OVER state of MC tasks state machine into TSK_MediumFrequencyTask.
 519:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   */
 520:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** __weak bool VSS_TransitionEnded(VirtualSpeedSensor_Handle_t *pHandle)
 521:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** {
 775              		.loc 1 521 1 is_stmt 1 view -0
 776              		.cfi_startproc
 777              		@ args = 0, pretend = 0, frame = 0
 778              		@ frame_needed = 0, uses_anonymous_args = 0
 779              		@ link register save eliminated.
 522:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_CHECK_VIR_SPD_SEN
 523:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   return ((MC_NULL == pHandle) ? false : pHandle->bTransitionEnded);
 524:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #else
 525:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   return (pHandle->bTransitionEnded);
 780              		.loc 1 525 3 view .LVU283
 526:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 527:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** }
 781              		.loc 1 527 1 is_stmt 0 view .LVU284
 782 0000 90F82D00 		ldrb	r0, [r0, #45]	@ zero_extendqisi2
 783              	.LVL60:
 784              		.loc 1 527 1 view .LVU285
 785 0004 7047     		bx	lr
 786              		.cfi_endproc
 787              	.LFE1449:
 789              		.section	.text.VSS_SetElAngle,"ax",%progbits
 790              		.align	1
 791              		.weak	VSS_SetElAngle
 792              		.syntax unified
 793              		.thumb
 794              		.thumb_func
 795              		.fpu fpv4-sp-d16
 797              	VSS_SetElAngle:
 798              	.LVL61:
 799              	.LFB1450:
 528:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** 
 529:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** /**
 530:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @brief  Sets instantaneous information on rotor electrical angle.
 531:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @param  pHandle: handler of the current instance of the VirtualSpeedSensor component.
 532:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @param  hElAngle instantaneous measure of rotor electrical angle in [s16degrees](measurement_un
 533:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * @retval none
ARM GAS  /tmp/ccqhiY2i.s 			page 26


 534:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   *
 535:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   * - Not used into current implementation.
 536:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   */
 537:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** __weak void VSS_SetElAngle(VirtualSpeedSensor_Handle_t *pHandle, int16_t hElAngle)
 538:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** {
 800              		.loc 1 538 1 is_stmt 1 view -0
 801              		.cfi_startproc
 802              		@ args = 0, pretend = 0, frame = 0
 803              		@ frame_needed = 0, uses_anonymous_args = 0
 804              		@ link register save eliminated.
 539:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_CHECK_VIR_SPD_SEN
 540:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   if (MC_NULL == pHandle)
 541:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   {
 542:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     /* Nothing to do */
 543:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   }
 544:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   else
 545:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   {
 546:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 547:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->hElAngleAccu = hElAngle;
 805              		.loc 1 547 5 view .LVU287
 806              		.loc 1 547 27 is_stmt 0 view .LVU288
 807 0000 0186     		strh	r1, [r0, #48]	@ movhi
 548:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****     pHandle->_Super.hElAngle = hElAngle;
 808              		.loc 1 548 5 is_stmt 1 view .LVU289
 809              		.loc 1 548 30 is_stmt 0 view .LVU290
 810 0002 8180     		strh	r1, [r0, #4]	@ movhi
 549:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #ifdef NULL_PTR_CHECK_VIR_SPD_SEN
 550:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c ****   }
 551:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** #endif
 552:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/virtual_speed_sensor.c **** }
 811              		.loc 1 552 1 view .LVU291
 812 0004 7047     		bx	lr
 813              		.cfi_endproc
 814              	.LFE1450:
 816              		.text
 817              	.Letext0:
 818              		.file 2 "/usr/share/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/machine/_default_type
 819              		.file 3 "/usr/share/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/sys/_stdint.h"
 820              		.file 4 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_ll_tim.h"
 821              		.file 5 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_ll_usart.h"
 822              		.file 6 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_ll_dma.h"
 823              		.file 7 "MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_pos_fdbk.h"
 824              		.file 8 "MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/virtual_speed_sensor.h"
ARM GAS  /tmp/ccqhiY2i.s 			page 27


DEFINED SYMBOLS
                            *ABS*:0000000000000000 virtual_speed_sensor.c
     /tmp/ccqhiY2i.s:18     .text.VSS_Clear:0000000000000000 $t
     /tmp/ccqhiY2i.s:26     .text.VSS_Clear:0000000000000000 VSS_Clear
     /tmp/ccqhiY2i.s:89     .text.VSS_Init:0000000000000000 $t
     /tmp/ccqhiY2i.s:96     .text.VSS_Init:0000000000000000 VSS_Init
     /tmp/ccqhiY2i.s:118    .text.VSS_CalcElAngle:0000000000000000 $t
     /tmp/ccqhiY2i.s:125    .text.VSS_CalcElAngle:0000000000000000 VSS_CalcElAngle
     /tmp/ccqhiY2i.s:301    .text.VSS_CalcAvrgMecSpeedUnit:0000000000000000 $t
     /tmp/ccqhiY2i.s:308    .text.VSS_CalcAvrgMecSpeedUnit:0000000000000000 VSS_CalcAvrgMecSpeedUnit
     /tmp/ccqhiY2i.s:441    .text.VSS_SetMecAcceleration:0000000000000000 $t
     /tmp/ccqhiY2i.s:448    .text.VSS_SetMecAcceleration:0000000000000000 VSS_SetMecAcceleration
     /tmp/ccqhiY2i.s:599    .text.VSS_SetMecAcceleration:0000000000000090 $d
     /tmp/ccqhiY2i.s:604    .text.VSS_RampCompleted:0000000000000000 $t
     /tmp/ccqhiY2i.s:611    .text.VSS_RampCompleted:0000000000000000 VSS_RampCompleted
     /tmp/ccqhiY2i.s:636    .text.VSS_GetLastRampFinalSpeed:0000000000000000 $t
     /tmp/ccqhiY2i.s:643    .text.VSS_GetLastRampFinalSpeed:0000000000000000 VSS_GetLastRampFinalSpeed
     /tmp/ccqhiY2i.s:661    .text.VSS_SetStartTransition:0000000000000000 $t
     /tmp/ccqhiY2i.s:668    .text.VSS_SetStartTransition:0000000000000000 VSS_SetStartTransition
     /tmp/ccqhiY2i.s:723    .text.VSS_IsTransitionOngoing:0000000000000000 $t
     /tmp/ccqhiY2i.s:730    .text.VSS_IsTransitionOngoing:0000000000000000 VSS_IsTransitionOngoing
     /tmp/ccqhiY2i.s:765    .text.VSS_TransitionEnded:0000000000000000 $t
     /tmp/ccqhiY2i.s:772    .text.VSS_TransitionEnded:0000000000000000 VSS_TransitionEnded
     /tmp/ccqhiY2i.s:790    .text.VSS_SetElAngle:0000000000000000 $t
     /tmp/ccqhiY2i.s:797    .text.VSS_SetElAngle:0000000000000000 VSS_SetElAngle

UNDEFINED SYMBOLS
SPD_IsMecSpeedReliable
