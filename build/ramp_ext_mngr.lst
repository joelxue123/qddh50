ARM GAS  /tmp/ccJA8YTM.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 2
  13              		.file	"ramp_ext_mngr.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.rodata.OFFSET_TAB_CCMRx,"a"
  18              		.align	2
  21              	OFFSET_TAB_CCMRx:
  22 0000 00000000 		.ascii	"\000\000\000\000\004\004\004\00488"
  22      04040404 
  22      3838
  23              		.section	.rodata.SHIFT_TAB_OCxx,"a"
  24              		.align	2
  27              	SHIFT_TAB_OCxx:
  28 0000 00000800 		.ascii	"\000\000\010\000\000\000\010\000\000\010"
  28      00000800 
  28      0008
  29              		.section	.rodata.SHIFT_TAB_ICxx,"a"
  30              		.align	2
  33              	SHIFT_TAB_ICxx:
  34 0000 00000800 		.ascii	"\000\000\010\000\000\000\010\000\000\000"
  34      00000800 
  34      0000
  35              		.section	.rodata.SHIFT_TAB_CCxP,"a"
  36              		.align	2
  39              	SHIFT_TAB_CCxP:
  40 0000 00020406 		.ascii	"\000\002\004\006\010\012\014\016\020\024"
  40      080A0C0E 
  40      1014
  41              		.section	.rodata.SHIFT_TAB_OISx,"a"
  42              		.align	2
  45              	SHIFT_TAB_OISx:
  46 0000 00010203 		.ascii	"\000\001\002\003\004\005\006\007\010\012"
  46      04050607 
  46      080A
  47              		.section	.rodata.USART_PRESCALER_TAB,"a"
  48              		.align	2
  51              	USART_PRESCALER_TAB:
  52 0000 01000000 		.word	1
  53 0004 02000000 		.word	2
  54 0008 04000000 		.word	4
  55 000c 06000000 		.word	6
  56 0010 08000000 		.word	8
  57 0014 0A000000 		.word	10
  58 0018 0C000000 		.word	12
  59 001c 10000000 		.word	16
ARM GAS  /tmp/ccJA8YTM.s 			page 2


  60 0020 20000000 		.word	32
  61 0024 40000000 		.word	64
  62 0028 80000000 		.word	128
  63 002c 00010000 		.word	256
  64              		.section	.rodata.CHANNEL_OFFSET_TAB,"a"
  65              		.align	2
  68              	CHANNEL_OFFSET_TAB:
  69 0000 081C3044 		.ascii	"\010\0340DXl"
  69      586C
  70              		.section	.text.REMNG_Init,"ax",%progbits
  71              		.align	1
  72              		.global	REMNG_Init
  73              		.arch armv7e-m
  74              		.syntax unified
  75              		.thumb
  76              		.thumb_func
  77              		.fpu fpv4-sp-d16
  79              	REMNG_Init:
  80              	.LFB1435:
  81              		.file 1 "MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c"
   1:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** /**
   2:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   ******************************************************************************
   3:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   * @file    ramp_ext_mngr.c
   4:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   * @author  Motor Control SDK Team, ST Microelectronics
   5:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   * @brief   This file provides firmware functions that implement the features
   6:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   *          of the Ramp Extended Manager component of the Motor Control SDK:
   7:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   *
   8:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   ******************************************************************************
   9:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   * @attention
  10:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   *
  11:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   * <h2><center>&copy; Copyright (c) 2024 STMicroelectronics.
  12:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   * All rights reserved.</center></h2>
  13:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   *
  14:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   * This software component is licensed by ST under Ultimate Liberty license
  15:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   * SLA0044, the "License"; You may not use this file except in compliance with
  16:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   * the License. You may obtain a copy of the License at:
  17:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   *                             www.st.com/SLA0044
  18:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   *
  19:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   ******************************************************************************
  20:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   */
  21:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** 
  22:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** /* Includes ------------------------------------------------------------------*/
  23:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** #include "ramp_ext_mngr.h"
  24:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** 
  25:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** /** @addtogroup MCSDK
  26:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   * @{
  27:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   */
  28:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** 
  29:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** /** @defgroup RampExtMngr Ramp Manager
  30:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   * @brief Ramp Extended Manager component of the Motor Control SDK
  31:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   *
  32:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   * @todo Document the Ramp Extended Manager "module".
  33:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   *
  34:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   * @{
  35:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   */
  36:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** /* Private function prototypes -----------------------------------------------*/
  37:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** uint32_t getScalingFactor(int32_t Target);
ARM GAS  /tmp/ccJA8YTM.s 			page 3


  38:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** 
  39:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** /**
  40:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   * @brief  It reset the state variable to zero.
  41:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   * @param  pHandle related Handle of struct RampMngr_Handle_t
  42:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   * @retval none.
  43:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   */
  44:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** void REMNG_Init(RampExtMngr_Handle_t *pHandle)
  45:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** {
  82              		.loc 1 45 1
  83              		.cfi_startproc
  84              		@ args = 0, pretend = 0, frame = 8
  85              		@ frame_needed = 1, uses_anonymous_args = 0
  86              		@ link register save eliminated.
  87 0000 80B4     		push	{r7}
  88              	.LCFI0:
  89              		.cfi_def_cfa_offset 4
  90              		.cfi_offset 7, -4
  91 0002 83B0     		sub	sp, sp, #12
  92              	.LCFI1:
  93              		.cfi_def_cfa_offset 16
  94 0004 00AF     		add	r7, sp, #0
  95              	.LCFI2:
  96              		.cfi_def_cfa_register 7
  97 0006 7860     		str	r0, [r7, #4]
  46:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** #ifdef NULL_PTR_CHECK_RMP_EXT_MNG
  47:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   if (MC_NULL == pHandle)
  48:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   {
  49:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****     /* Nothing to do */
  50:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   }
  51:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   else
  52:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   {
  53:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** #endif
  54:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****     pHandle->Ext = 0;
  98              		.loc 1 54 18
  99 0008 7B68     		ldr	r3, [r7, #4]
 100 000a 0022     		movs	r2, #0
 101 000c 9A60     		str	r2, [r3, #8]
  55:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****     pHandle->TargetFinal = 0;
 102              		.loc 1 55 26
 103 000e 7B68     		ldr	r3, [r7, #4]
 104 0010 0022     		movs	r2, #0
 105 0012 5A60     		str	r2, [r3, #4]
  56:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****     pHandle->RampRemainingStep = 0U;
 106              		.loc 1 56 32
 107 0014 7B68     		ldr	r3, [r7, #4]
 108 0016 0022     		movs	r2, #0
 109 0018 DA60     		str	r2, [r3, #12]
  57:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****     pHandle->IncDecAmount = 0;
 110              		.loc 1 57 27
 111 001a 7B68     		ldr	r3, [r7, #4]
 112 001c 0022     		movs	r2, #0
 113 001e 1A61     		str	r2, [r3, #16]
  58:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****     pHandle->ScalingFactor = 1U;
 114              		.loc 1 58 28
 115 0020 7B68     		ldr	r3, [r7, #4]
 116 0022 0122     		movs	r2, #1
 117 0024 5A61     		str	r2, [r3, #20]
ARM GAS  /tmp/ccJA8YTM.s 			page 4


  59:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** #ifdef NULL_PTR_CHECK_RMP_EXT_MNG
  60:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   }
  61:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** #endif
  62:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** }
 118              		.loc 1 62 1
 119 0026 00BF     		nop
 120 0028 0C37     		adds	r7, r7, #12
 121              	.LCFI3:
 122              		.cfi_def_cfa_offset 4
 123 002a BD46     		mov	sp, r7
 124              	.LCFI4:
 125              		.cfi_def_cfa_register 13
 126              		@ sp needed
 127 002c 5DF8047B 		ldr	r7, [sp], #4
 128              	.LCFI5:
 129              		.cfi_restore 7
 130              		.cfi_def_cfa_offset 0
 131 0030 7047     		bx	lr
 132              		.cfi_endproc
 133              	.LFE1435:
 135              		.section	.text.REMNG_Calc,"ax",%progbits
 136              		.align	1
 137              		.weak	REMNG_Calc
 138              		.syntax unified
 139              		.thumb
 140              		.thumb_func
 141              		.fpu fpv4-sp-d16
 143              	REMNG_Calc:
 144              	.LFB1436:
  63:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** 
  64:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** #if defined (CCMRAM)
  65:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** #if defined (__ICCARM__)
  66:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** #pragma location = ".ccmram"
  67:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** #elif defined (__CC_ARM) || defined(__GNUC__)
  68:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** __attribute__((section(".ccmram")))
  69:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** #endif
  70:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** #endif
  71:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** /**
  72:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   * @brief  Exec the ramp calculations and returns the current value of the
  73:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****             state variable.
  74:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****             It must be called at fixed interval defined in the hExecFreq.
  75:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   * @param  pHandle related Handle of struct RampMngr_Handle_t
  76:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   * @retval int32_t value of the state variable
  77:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   */
  78:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** __weak int32_t REMNG_Calc(RampExtMngr_Handle_t *pHandle)
  79:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** {
 145              		.loc 1 79 1
 146              		.cfi_startproc
 147              		@ args = 0, pretend = 0, frame = 16
 148              		@ frame_needed = 1, uses_anonymous_args = 0
 149              		@ link register save eliminated.
 150 0000 80B4     		push	{r7}
 151              	.LCFI6:
 152              		.cfi_def_cfa_offset 4
 153              		.cfi_offset 7, -4
 154 0002 85B0     		sub	sp, sp, #20
 155              	.LCFI7:
ARM GAS  /tmp/ccJA8YTM.s 			page 5


 156              		.cfi_def_cfa_offset 24
 157 0004 00AF     		add	r7, sp, #0
 158              	.LCFI8:
 159              		.cfi_def_cfa_register 7
 160 0006 7860     		str	r0, [r7, #4]
  80:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   int32_t ret_val;
  81:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** #ifdef NULL_PTR_CHECK_RMP_EXT_MNG
  82:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   if (MC_NULL == pHandle)
  83:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   {
  84:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****     ret_val = 0;
  85:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   }
  86:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   else
  87:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   {
  88:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** #endif
  89:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****     int32_t current_ref;
  90:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** 
  91:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****     current_ref = pHandle->Ext;
 161              		.loc 1 91 17
 162 0008 7B68     		ldr	r3, [r7, #4]
 163 000a 9B68     		ldr	r3, [r3, #8]
 164 000c FB60     		str	r3, [r7, #12]
  92:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** 
  93:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****     /* Update the variable and terminates the ramp if needed */
  94:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****     if (pHandle->RampRemainingStep > 1U)
 165              		.loc 1 94 16
 166 000e 7B68     		ldr	r3, [r7, #4]
 167 0010 DB68     		ldr	r3, [r3, #12]
 168              		.loc 1 94 8
 169 0012 012B     		cmp	r3, #1
 170 0014 0AD9     		bls	.L3
  95:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****     {
  96:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****       /* Increment/decrement the reference value */
  97:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****       current_ref += pHandle->IncDecAmount;
 171              		.loc 1 97 29
 172 0016 7B68     		ldr	r3, [r7, #4]
 173 0018 1B69     		ldr	r3, [r3, #16]
 174              		.loc 1 97 19
 175 001a FA68     		ldr	r2, [r7, #12]
 176 001c 1344     		add	r3, r3, r2
 177 001e FB60     		str	r3, [r7, #12]
  98:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** 
  99:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****       /* Decrement the number of remaining steps */
 100:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****       pHandle->RampRemainingStep --;
 178              		.loc 1 100 14
 179 0020 7B68     		ldr	r3, [r7, #4]
 180 0022 DB68     		ldr	r3, [r3, #12]
 181              		.loc 1 100 34
 182 0024 5A1E     		subs	r2, r3, #1
 183 0026 7B68     		ldr	r3, [r7, #4]
 184 0028 DA60     		str	r2, [r3, #12]
 185 002a 0DE0     		b	.L4
 186              	.L3:
 101:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****     }
 102:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****     else if (1U == pHandle->RampRemainingStep)
 187              		.loc 1 102 27
 188 002c 7B68     		ldr	r3, [r7, #4]
 189 002e DB68     		ldr	r3, [r3, #12]
ARM GAS  /tmp/ccJA8YTM.s 			page 6


 190              		.loc 1 102 13
 191 0030 012B     		cmp	r3, #1
 192 0032 09D1     		bne	.L4
 103:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****     {
 104:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****       /* Set the backup value of TargetFinal */
 105:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****       current_ref = pHandle->TargetFinal * ((int32_t)pHandle->ScalingFactor);
 193              		.loc 1 105 28
 194 0034 7B68     		ldr	r3, [r7, #4]
 195 0036 5B68     		ldr	r3, [r3, #4]
 196              		.loc 1 105 61
 197 0038 7A68     		ldr	r2, [r7, #4]
 198 003a 5269     		ldr	r2, [r2, #20]
 199              		.loc 1 105 19
 200 003c 02FB03F3 		mul	r3, r2, r3
 201 0040 FB60     		str	r3, [r7, #12]
 106:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****       pHandle->RampRemainingStep = 0U;
 202              		.loc 1 106 34
 203 0042 7B68     		ldr	r3, [r7, #4]
 204 0044 0022     		movs	r2, #0
 205 0046 DA60     		str	r2, [r3, #12]
 206              	.L4:
 107:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****     }
 108:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****     else
 109:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****     {
 110:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****       /* Do nothing */
 111:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****     }
 112:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** 
 113:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****     pHandle->Ext = current_ref;
 207              		.loc 1 113 18
 208 0048 7B68     		ldr	r3, [r7, #4]
 209 004a FA68     		ldr	r2, [r7, #12]
 210 004c 9A60     		str	r2, [r3, #8]
 114:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****     ret_val = pHandle->Ext / ((int32_t)pHandle->ScalingFactor);
 211              		.loc 1 114 22
 212 004e 7B68     		ldr	r3, [r7, #4]
 213 0050 9B68     		ldr	r3, [r3, #8]
 214              		.loc 1 114 47
 215 0052 7A68     		ldr	r2, [r7, #4]
 216 0054 5269     		ldr	r2, [r2, #20]
 217              		.loc 1 114 13
 218 0056 93FBF2F3 		sdiv	r3, r3, r2
 219 005a BB60     		str	r3, [r7, #8]
 115:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** #ifdef NULL_PTR_CHECK_RMP_EXT_MNG
 116:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   }
 117:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** #endif
 118:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   return (ret_val);
 220              		.loc 1 118 10
 221 005c BB68     		ldr	r3, [r7, #8]
 119:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** }
 222              		.loc 1 119 1
 223 005e 1846     		mov	r0, r3
 224 0060 1437     		adds	r7, r7, #20
 225              	.LCFI9:
 226              		.cfi_def_cfa_offset 4
 227 0062 BD46     		mov	sp, r7
 228              	.LCFI10:
 229              		.cfi_def_cfa_register 13
ARM GAS  /tmp/ccJA8YTM.s 			page 7


 230              		@ sp needed
 231 0064 5DF8047B 		ldr	r7, [sp], #4
 232              	.LCFI11:
 233              		.cfi_restore 7
 234              		.cfi_def_cfa_offset 0
 235 0068 7047     		bx	lr
 236              		.cfi_endproc
 237              	.LFE1436:
 239              		.section	.text.REMNG_ExecRamp,"ax",%progbits
 240              		.align	1
 241              		.weak	REMNG_ExecRamp
 242              		.syntax unified
 243              		.thumb
 244              		.thumb_func
 245              		.fpu fpv4-sp-d16
 247              	REMNG_ExecRamp:
 248              	.LFB1437:
 120:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** 
 121:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** /**
 122:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   * @brief  Setup the ramp to be executed
 123:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   * @param  pHandle related Handle of struct RampMngr_Handle_t
 124:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   * @param  hTargetFinal (signed 32bit) final value of state variable at the end
 125:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   *         of the ramp.
 126:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   * @param  hDurationms (unsigned 32bit) the duration of the ramp expressed in
 127:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   *         milliseconds. It is possible to set 0 to perform an instantaneous
 128:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   *         change in the value.
 129:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   * @retval bool It returns true is command is valid, false otherwise
 130:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   */
 131:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** __weak bool REMNG_ExecRamp(RampExtMngr_Handle_t *pHandle, int32_t TargetFinal, uint32_t Durationms)
 132:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** {
 249              		.loc 1 132 1
 250              		.cfi_startproc
 251              		@ args = 0, pretend = 0, frame = 48
 252              		@ frame_needed = 1, uses_anonymous_args = 0
 253 0000 80B5     		push	{r7, lr}
 254              	.LCFI12:
 255              		.cfi_def_cfa_offset 8
 256              		.cfi_offset 7, -8
 257              		.cfi_offset 14, -4
 258 0002 8CB0     		sub	sp, sp, #48
 259              	.LCFI13:
 260              		.cfi_def_cfa_offset 56
 261 0004 00AF     		add	r7, sp, #0
 262              	.LCFI14:
 263              		.cfi_def_cfa_register 7
 264 0006 F860     		str	r0, [r7, #12]
 265 0008 B960     		str	r1, [r7, #8]
 266 000a 7A60     		str	r2, [r7, #4]
 133:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   bool retVal = true;
 267              		.loc 1 133 8
 268 000c 0123     		movs	r3, #1
 269 000e 87F82B30 		strb	r3, [r7, #43]
 134:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** #ifdef NULL_PTR_CHECK_RMP_EXT_MNG
 135:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   if (MC_NULL == pHandle)
 136:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   {
 137:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****     retVal = false;
 138:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   }
ARM GAS  /tmp/ccJA8YTM.s 			page 8


 139:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   else
 140:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   {
 141:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** #endif
 142:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****     uint32_t aux;
 143:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****     int32_t aux1;
 144:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****     int32_t current_ref;
 145:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** 
 146:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** 
 147:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****     /* Get current state */
 148:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****     current_ref = pHandle->Ext / ((int32_t)pHandle->ScalingFactor);
 270              		.loc 1 148 26
 271 0012 FB68     		ldr	r3, [r7, #12]
 272 0014 9B68     		ldr	r3, [r3, #8]
 273              		.loc 1 148 51
 274 0016 FA68     		ldr	r2, [r7, #12]
 275 0018 5269     		ldr	r2, [r2, #20]
 276              		.loc 1 148 17
 277 001a 93FBF2F3 		sdiv	r3, r3, r2
 278 001e 7B62     		str	r3, [r7, #36]
 149:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** 
 150:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****     if (0U == Durationms)
 279              		.loc 1 150 8
 280 0020 7B68     		ldr	r3, [r7, #4]
 281 0022 002B     		cmp	r3, #0
 282 0024 14D1     		bne	.L7
 151:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****     {
 152:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****       pHandle->ScalingFactor = getScalingFactor(TargetFinal);
 283              		.loc 1 152 32
 284 0026 B868     		ldr	r0, [r7, #8]
 285 0028 FFF7FEFF 		bl	getScalingFactor
 286 002c 0246     		mov	r2, r0
 287              		.loc 1 152 30
 288 002e FB68     		ldr	r3, [r7, #12]
 289 0030 5A61     		str	r2, [r3, #20]
 153:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****       pHandle->Ext = TargetFinal * ((int32_t)pHandle->ScalingFactor);
 290              		.loc 1 153 53
 291 0032 FB68     		ldr	r3, [r7, #12]
 292 0034 5B69     		ldr	r3, [r3, #20]
 293              		.loc 1 153 37
 294 0036 1A46     		mov	r2, r3
 295              		.loc 1 153 34
 296 0038 BB68     		ldr	r3, [r7, #8]
 297 003a 03FB02F2 		mul	r2, r3, r2
 298              		.loc 1 153 20
 299 003e FB68     		ldr	r3, [r7, #12]
 300 0040 9A60     		str	r2, [r3, #8]
 154:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****       pHandle->RampRemainingStep = 0U;
 301              		.loc 1 154 34
 302 0042 FB68     		ldr	r3, [r7, #12]
 303 0044 0022     		movs	r2, #0
 304 0046 DA60     		str	r2, [r3, #12]
 155:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****       pHandle->IncDecAmount = 0;
 305              		.loc 1 155 29
 306 0048 FB68     		ldr	r3, [r7, #12]
 307 004a 0022     		movs	r2, #0
 308 004c 1A61     		str	r2, [r3, #16]
 309 004e 59E0     		b	.L8
ARM GAS  /tmp/ccJA8YTM.s 			page 9


 310              	.L7:
 311              	.LBB2:
 156:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****     }
 157:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****     else
 158:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****     {
 159:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****       uint32_t wScalingFactor = getScalingFactor(TargetFinal - current_ref);
 312              		.loc 1 159 33
 313 0050 BA68     		ldr	r2, [r7, #8]
 314 0052 7B6A     		ldr	r3, [r7, #36]
 315 0054 D31A     		subs	r3, r2, r3
 316 0056 1846     		mov	r0, r3
 317 0058 FFF7FEFF 		bl	getScalingFactor
 318 005c 3862     		str	r0, [r7, #32]
 160:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****       uint32_t wScalingFactor2 = getScalingFactor(current_ref);
 319              		.loc 1 160 34
 320 005e 786A     		ldr	r0, [r7, #36]
 321 0060 FFF7FEFF 		bl	getScalingFactor
 322 0064 F861     		str	r0, [r7, #28]
 161:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****       uint32_t wScalingFactor3 = getScalingFactor(TargetFinal);
 323              		.loc 1 161 34
 324 0066 B868     		ldr	r0, [r7, #8]
 325 0068 FFF7FEFF 		bl	getScalingFactor
 326 006c B861     		str	r0, [r7, #24]
 162:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****       uint32_t wScalingFactorMin;
 163:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** 
 164:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****       if (wScalingFactor <  wScalingFactor2)
 327              		.loc 1 164 10
 328 006e 3A6A     		ldr	r2, [r7, #32]
 329 0070 FB69     		ldr	r3, [r7, #28]
 330 0072 9A42     		cmp	r2, r3
 331 0074 09D2     		bcs	.L9
 165:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****       {
 166:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****         if (wScalingFactor < wScalingFactor3)
 332              		.loc 1 166 12
 333 0076 3A6A     		ldr	r2, [r7, #32]
 334 0078 BB69     		ldr	r3, [r7, #24]
 335 007a 9A42     		cmp	r2, r3
 336 007c 02D2     		bcs	.L10
 167:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****         {
 168:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****           wScalingFactorMin = wScalingFactor;
 337              		.loc 1 168 29
 338 007e 3B6A     		ldr	r3, [r7, #32]
 339 0080 FB62     		str	r3, [r7, #44]
 340 0082 0BE0     		b	.L11
 341              	.L10:
 169:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****         }
 170:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****         else
 171:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****         {
 172:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****           wScalingFactorMin = wScalingFactor3;
 342              		.loc 1 172 29
 343 0084 BB69     		ldr	r3, [r7, #24]
 344 0086 FB62     		str	r3, [r7, #44]
 345 0088 08E0     		b	.L11
 346              	.L9:
 173:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****         }
 174:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****       }
 175:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****       else
ARM GAS  /tmp/ccJA8YTM.s 			page 10


 176:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****       {
 177:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****         if (wScalingFactor2 < wScalingFactor3)
 347              		.loc 1 177 12
 348 008a FA69     		ldr	r2, [r7, #28]
 349 008c BB69     		ldr	r3, [r7, #24]
 350 008e 9A42     		cmp	r2, r3
 351 0090 02D2     		bcs	.L12
 178:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****         {
 179:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****           wScalingFactorMin = wScalingFactor2;
 352              		.loc 1 179 29
 353 0092 FB69     		ldr	r3, [r7, #28]
 354 0094 FB62     		str	r3, [r7, #44]
 355 0096 01E0     		b	.L11
 356              	.L12:
 180:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****         }
 181:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****         else
 182:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****         {
 183:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****           wScalingFactorMin = wScalingFactor3;
 357              		.loc 1 183 29
 358 0098 BB69     		ldr	r3, [r7, #24]
 359 009a FB62     		str	r3, [r7, #44]
 360              	.L11:
 184:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****         }
 185:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****       }
 186:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** 
 187:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****       pHandle->ScalingFactor = wScalingFactorMin;
 361              		.loc 1 187 30
 362 009c FB68     		ldr	r3, [r7, #12]
 363 009e FA6A     		ldr	r2, [r7, #44]
 364 00a0 5A61     		str	r2, [r3, #20]
 188:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****       pHandle->Ext = current_ref * ((int32_t)pHandle->ScalingFactor);
 365              		.loc 1 188 53
 366 00a2 FB68     		ldr	r3, [r7, #12]
 367 00a4 5B69     		ldr	r3, [r3, #20]
 368              		.loc 1 188 37
 369 00a6 1A46     		mov	r2, r3
 370              		.loc 1 188 34
 371 00a8 7B6A     		ldr	r3, [r7, #36]
 372 00aa 03FB02F2 		mul	r2, r3, r2
 373              		.loc 1 188 20
 374 00ae FB68     		ldr	r3, [r7, #12]
 375 00b0 9A60     		str	r2, [r3, #8]
 189:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** 
 190:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****       /* Store the TargetFinal to be applied in the last step */
 191:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****       pHandle->TargetFinal = TargetFinal;
 376              		.loc 1 191 28
 377 00b2 FB68     		ldr	r3, [r7, #12]
 378 00b4 BA68     		ldr	r2, [r7, #8]
 379 00b6 5A60     		str	r2, [r3, #4]
 192:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** 
 193:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****       /* Compute the (wRampRemainingStep) number of steps remaining to complete the ramp */
 194:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****       aux = Durationms * ((uint32_t)pHandle->FrequencyHz); /* Check for overflow and use prescaler 
 380              		.loc 1 194 44
 381 00b8 FB68     		ldr	r3, [r7, #12]
 382 00ba 1A68     		ldr	r2, [r3]
 383              		.loc 1 194 11
 384 00bc 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccJA8YTM.s 			page 11


 385 00be 02FB03F3 		mul	r3, r2, r3
 386 00c2 7B61     		str	r3, [r7, #20]
 195:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****       aux /= 1000U;
 387              		.loc 1 195 11
 388 00c4 7B69     		ldr	r3, [r7, #20]
 389 00c6 124A     		ldr	r2, .L14
 390 00c8 A2FB0323 		umull	r2, r3, r2, r3
 391 00cc 9B09     		lsrs	r3, r3, #6
 392 00ce 7B61     		str	r3, [r7, #20]
 196:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****       pHandle->RampRemainingStep = aux;
 393              		.loc 1 196 34
 394 00d0 FB68     		ldr	r3, [r7, #12]
 395 00d2 7A69     		ldr	r2, [r7, #20]
 396 00d4 DA60     		str	r2, [r3, #12]
 197:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****       pHandle->RampRemainingStep++;
 397              		.loc 1 197 14
 398 00d6 FB68     		ldr	r3, [r7, #12]
 399 00d8 DB68     		ldr	r3, [r3, #12]
 400              		.loc 1 197 33
 401 00da 5A1C     		adds	r2, r3, #1
 402 00dc FB68     		ldr	r3, [r7, #12]
 403 00de DA60     		str	r2, [r3, #12]
 198:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** 
 199:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****       /* Compute the increment/decrement amount (wIncDecAmount) to be applied to
 200:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****       the reference value at each CalcTorqueReference */
 201:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****       aux1 = (TargetFinal - current_ref) * ((int32_t)pHandle->ScalingFactor);
 404              		.loc 1 201 27
 405 00e0 BA68     		ldr	r2, [r7, #8]
 406 00e2 7B6A     		ldr	r3, [r7, #36]
 407 00e4 D31A     		subs	r3, r2, r3
 408              		.loc 1 201 61
 409 00e6 FA68     		ldr	r2, [r7, #12]
 410 00e8 5269     		ldr	r2, [r2, #20]
 411              		.loc 1 201 12
 412 00ea 02FB03F3 		mul	r3, r2, r3
 413 00ee 3B61     		str	r3, [r7, #16]
 202:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****       aux1 /= ((int32_t)pHandle->RampRemainingStep);
 414              		.loc 1 202 32
 415 00f0 FB68     		ldr	r3, [r7, #12]
 416 00f2 DB68     		ldr	r3, [r3, #12]
 417              		.loc 1 202 16
 418 00f4 1A46     		mov	r2, r3
 419              		.loc 1 202 12
 420 00f6 3B69     		ldr	r3, [r7, #16]
 421 00f8 93FBF2F3 		sdiv	r3, r3, r2
 422 00fc 3B61     		str	r3, [r7, #16]
 203:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****       pHandle->IncDecAmount = aux1;
 423              		.loc 1 203 29
 424 00fe FB68     		ldr	r3, [r7, #12]
 425 0100 3A69     		ldr	r2, [r7, #16]
 426 0102 1A61     		str	r2, [r3, #16]
 427              	.L8:
 428              	.LBE2:
 204:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****     }
 205:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** #ifdef NULL_PTR_CHECK_RMP_EXT_MNG
 206:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   }
 207:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** #endif
ARM GAS  /tmp/ccJA8YTM.s 			page 12


 208:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   return (retVal);
 429              		.loc 1 208 10
 430 0104 97F82B30 		ldrb	r3, [r7, #43]	@ zero_extendqisi2
 209:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** }
 431              		.loc 1 209 1
 432 0108 1846     		mov	r0, r3
 433 010a 3037     		adds	r7, r7, #48
 434              	.LCFI15:
 435              		.cfi_def_cfa_offset 8
 436 010c BD46     		mov	sp, r7
 437              	.LCFI16:
 438              		.cfi_def_cfa_register 13
 439              		@ sp needed
 440 010e 80BD     		pop	{r7, pc}
 441              	.L15:
 442              		.align	2
 443              	.L14:
 444 0110 D34D6210 		.word	274877907
 445              		.cfi_endproc
 446              	.LFE1437:
 448              		.section	.text.REMNG_GetValue,"ax",%progbits
 449              		.align	1
 450              		.weak	REMNG_GetValue
 451              		.syntax unified
 452              		.thumb
 453              		.thumb_func
 454              		.fpu fpv4-sp-d16
 456              	REMNG_GetValue:
 457              	.LFB1438:
 210:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** 
 211:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** /**
 212:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   * @brief  Returns the current value of the state variable.
 213:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   * @param  pHandle related Handle of struct RampMngr_Handle_t
 214:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   * @retval int32_t value of the state variable
 215:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   */
 216:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** __weak int32_t REMNG_GetValue(const RampExtMngr_Handle_t *pHandle)
 217:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** {
 458              		.loc 1 217 1
 459              		.cfi_startproc
 460              		@ args = 0, pretend = 0, frame = 8
 461              		@ frame_needed = 1, uses_anonymous_args = 0
 462              		@ link register save eliminated.
 463 0000 80B4     		push	{r7}
 464              	.LCFI17:
 465              		.cfi_def_cfa_offset 4
 466              		.cfi_offset 7, -4
 467 0002 83B0     		sub	sp, sp, #12
 468              	.LCFI18:
 469              		.cfi_def_cfa_offset 16
 470 0004 00AF     		add	r7, sp, #0
 471              	.LCFI19:
 472              		.cfi_def_cfa_register 7
 473 0006 7860     		str	r0, [r7, #4]
 218:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** #ifdef NULL_PTR_CHECK_RMP_EXT_MNG
 219:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   return ((MC_NULL == pHandle) ? 0 : (pHandle->Ext / ((int32_t)pHandle->ScalingFactor)));
 220:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** #else
 221:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   return (pHandle->Ext / ((int32_t)pHandle->ScalingFactor));
ARM GAS  /tmp/ccJA8YTM.s 			page 13


 474              		.loc 1 221 18
 475 0008 7B68     		ldr	r3, [r7, #4]
 476 000a 9B68     		ldr	r3, [r3, #8]
 477              		.loc 1 221 43
 478 000c 7A68     		ldr	r2, [r7, #4]
 479 000e 5269     		ldr	r2, [r2, #20]
 480              		.loc 1 221 24
 481 0010 93FBF2F3 		sdiv	r3, r3, r2
 222:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** #endif
 223:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** }
 482              		.loc 1 223 1
 483 0014 1846     		mov	r0, r3
 484 0016 0C37     		adds	r7, r7, #12
 485              	.LCFI20:
 486              		.cfi_def_cfa_offset 4
 487 0018 BD46     		mov	sp, r7
 488              	.LCFI21:
 489              		.cfi_def_cfa_register 13
 490              		@ sp needed
 491 001a 5DF8047B 		ldr	r7, [sp], #4
 492              	.LCFI22:
 493              		.cfi_restore 7
 494              		.cfi_def_cfa_offset 0
 495 001e 7047     		bx	lr
 496              		.cfi_endproc
 497              	.LFE1438:
 499              		.section	.text.REMNG_RampCompleted,"ax",%progbits
 500              		.align	1
 501              		.weak	REMNG_RampCompleted
 502              		.syntax unified
 503              		.thumb
 504              		.thumb_func
 505              		.fpu fpv4-sp-d16
 507              	REMNG_RampCompleted:
 508              	.LFB1439:
 224:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** 
 225:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** #if defined (CCMRAM)
 226:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** #if defined (__ICCARM__)
 227:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** #pragma location = ".ccmram"
 228:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** #elif defined (__CC_ARM) || defined(__GNUC__)
 229:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** __attribute__((section(".ccmram")))
 230:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** #endif
 231:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** #endif
 232:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** /**
 233:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   * @brief  Check if the settled ramp has been completed.
 234:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   * @param  pHandle related Handle of struct RampMngr_Handle_t.
 235:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   * @retval bool It returns true if the ramp is completed, false otherwise.
 236:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   */
 237:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** __weak bool REMNG_RampCompleted(const RampExtMngr_Handle_t *pHandle)
 238:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** {
 509              		.loc 1 238 1
 510              		.cfi_startproc
 511              		@ args = 0, pretend = 0, frame = 16
 512              		@ frame_needed = 1, uses_anonymous_args = 0
 513              		@ link register save eliminated.
 514 0000 80B4     		push	{r7}
 515              	.LCFI23:
ARM GAS  /tmp/ccJA8YTM.s 			page 14


 516              		.cfi_def_cfa_offset 4
 517              		.cfi_offset 7, -4
 518 0002 85B0     		sub	sp, sp, #20
 519              	.LCFI24:
 520              		.cfi_def_cfa_offset 24
 521 0004 00AF     		add	r7, sp, #0
 522              	.LCFI25:
 523              		.cfi_def_cfa_register 7
 524 0006 7860     		str	r0, [r7, #4]
 239:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   bool retVal = false;
 525              		.loc 1 239 8
 526 0008 0023     		movs	r3, #0
 527 000a FB73     		strb	r3, [r7, #15]
 240:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** #ifdef NULL_PTR_CHECK_RMP_EXT_MNG
 241:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   if (MC_NULL == pHandle)
 242:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   {
 243:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****     /* Nothing to do */
 244:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   }
 245:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   else
 246:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   {
 247:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** #endif
 248:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****     if (0U == pHandle->RampRemainingStep)
 528              		.loc 1 248 22
 529 000c 7B68     		ldr	r3, [r7, #4]
 530 000e DB68     		ldr	r3, [r3, #12]
 531              		.loc 1 248 8
 532 0010 002B     		cmp	r3, #0
 533 0012 01D1     		bne	.L19
 249:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****     {
 250:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****       retVal = true;
 534              		.loc 1 250 14
 535 0014 0123     		movs	r3, #1
 536 0016 FB73     		strb	r3, [r7, #15]
 537              	.L19:
 251:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****     }
 252:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****     else
 253:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****     {
 254:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****       /* nothing to do */
 255:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****     }
 256:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** #ifdef NULL_PTR_CHECK_RMP_EXT_MNG
 257:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   }
 258:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** #endif
 259:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   return (retVal);
 538              		.loc 1 259 10
 539 0018 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 260:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** 
 261:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** }
 540              		.loc 1 261 1
 541 001a 1846     		mov	r0, r3
 542 001c 1437     		adds	r7, r7, #20
 543              	.LCFI26:
 544              		.cfi_def_cfa_offset 4
 545 001e BD46     		mov	sp, r7
 546              	.LCFI27:
 547              		.cfi_def_cfa_register 13
 548              		@ sp needed
 549 0020 5DF8047B 		ldr	r7, [sp], #4
ARM GAS  /tmp/ccJA8YTM.s 			page 15


 550              	.LCFI28:
 551              		.cfi_restore 7
 552              		.cfi_def_cfa_offset 0
 553 0024 7047     		bx	lr
 554              		.cfi_endproc
 555              	.LFE1439:
 557              		.section	.text.REMNG_StopRamp,"ax",%progbits
 558              		.align	1
 559              		.weak	REMNG_StopRamp
 560              		.syntax unified
 561              		.thumb
 562              		.thumb_func
 563              		.fpu fpv4-sp-d16
 565              	REMNG_StopRamp:
 566              	.LFB1440:
 262:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** 
 263:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** /**
 264:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   * @brief  Stop the execution of the ramp keeping the last reached value.
 265:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   * @param  pHandle related Handle of struct RampMngr_Handle_t.
 266:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   * @retval none
 267:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   */
 268:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** __weak void REMNG_StopRamp(RampExtMngr_Handle_t *pHandle)
 269:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** {
 567              		.loc 1 269 1
 568              		.cfi_startproc
 569              		@ args = 0, pretend = 0, frame = 8
 570              		@ frame_needed = 1, uses_anonymous_args = 0
 571              		@ link register save eliminated.
 572 0000 80B4     		push	{r7}
 573              	.LCFI29:
 574              		.cfi_def_cfa_offset 4
 575              		.cfi_offset 7, -4
 576 0002 83B0     		sub	sp, sp, #12
 577              	.LCFI30:
 578              		.cfi_def_cfa_offset 16
 579 0004 00AF     		add	r7, sp, #0
 580              	.LCFI31:
 581              		.cfi_def_cfa_register 7
 582 0006 7860     		str	r0, [r7, #4]
 270:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** #ifdef NULL_PTR_CHECK_RMP_EXT_MNG
 271:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   if (MC_NULL == pHandle)
 272:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   {
 273:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****     /* Nothing to do */
 274:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   }
 275:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   else
 276:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   {
 277:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** #endif
 278:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****     pHandle->RampRemainingStep = 0U;
 583              		.loc 1 278 32
 584 0008 7B68     		ldr	r3, [r7, #4]
 585 000a 0022     		movs	r2, #0
 586 000c DA60     		str	r2, [r3, #12]
 279:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****     pHandle->IncDecAmount = 0;
 587              		.loc 1 279 27
 588 000e 7B68     		ldr	r3, [r7, #4]
 589 0010 0022     		movs	r2, #0
 590 0012 1A61     		str	r2, [r3, #16]
ARM GAS  /tmp/ccJA8YTM.s 			page 16


 280:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** #ifdef NULL_PTR_CHECK_RMP_EXT_MNG
 281:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   }
 282:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** #endif
 283:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** }
 591              		.loc 1 283 1
 592 0014 00BF     		nop
 593 0016 0C37     		adds	r7, r7, #12
 594              	.LCFI32:
 595              		.cfi_def_cfa_offset 4
 596 0018 BD46     		mov	sp, r7
 597              	.LCFI33:
 598              		.cfi_def_cfa_register 13
 599              		@ sp needed
 600 001a 5DF8047B 		ldr	r7, [sp], #4
 601              	.LCFI34:
 602              		.cfi_restore 7
 603              		.cfi_def_cfa_offset 0
 604 001e 7047     		bx	lr
 605              		.cfi_endproc
 606              	.LFE1440:
 608              		.section	.text.getScalingFactor,"ax",%progbits
 609              		.align	1
 610              		.weak	getScalingFactor
 611              		.syntax unified
 612              		.thumb
 613              		.thumb_func
 614              		.fpu fpv4-sp-d16
 616              	getScalingFactor:
 617              	.LFB1441:
 284:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** 
 285:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** /**
 286:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   * @brief  Calculating the scaling factor to maximixe the resolution. It
 287:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   *         perform the 2^int(31-log2(Target)) with an iterative approach.
 288:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   *         It allows to keep Target * Scaling factor inside int32_t type.
 289:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   * @param  Target Input data.
 290:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   * @retval uint32_t It returns the optimized scaling factor.
 291:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   */
 292:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** __weak uint32_t getScalingFactor(int32_t Target)
 293:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** {
 618              		.loc 1 293 1
 619              		.cfi_startproc
 620              		@ args = 0, pretend = 0, frame = 24
 621              		@ frame_needed = 1, uses_anonymous_args = 0
 622              		@ link register save eliminated.
 623 0000 80B4     		push	{r7}
 624              	.LCFI35:
 625              		.cfi_def_cfa_offset 4
 626              		.cfi_offset 7, -4
 627 0002 87B0     		sub	sp, sp, #28
 628              	.LCFI36:
 629              		.cfi_def_cfa_offset 32
 630 0004 00AF     		add	r7, sp, #0
 631              	.LCFI37:
 632              		.cfi_def_cfa_register 7
 633 0006 7860     		str	r0, [r7, #4]
 294:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   uint32_t TargetAbs;
 295:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   int32_t aux;
ARM GAS  /tmp/ccJA8YTM.s 			page 17


 296:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   uint8_t i;
 297:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** 
 298:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   if (Target < 0)
 634              		.loc 1 298 6
 635 0008 7B68     		ldr	r3, [r7, #4]
 636 000a 002B     		cmp	r3, #0
 637 000c 05DA     		bge	.L23
 299:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   {
 300:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****     aux = -Target;
 638              		.loc 1 300 9
 639 000e 7B68     		ldr	r3, [r7, #4]
 640 0010 5B42     		rsbs	r3, r3, #0
 641 0012 FB60     		str	r3, [r7, #12]
 301:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****     TargetAbs = (uint32_t)aux;
 642              		.loc 1 301 15
 643 0014 FB68     		ldr	r3, [r7, #12]
 644 0016 7B61     		str	r3, [r7, #20]
 645 0018 01E0     		b	.L24
 646              	.L23:
 302:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   }
 303:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   else
 304:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   {
 305:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****     TargetAbs = (uint32_t)Target;
 647              		.loc 1 305 15
 648 001a 7B68     		ldr	r3, [r7, #4]
 649 001c 7B61     		str	r3, [r7, #20]
 650              	.L24:
 306:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   }
 307:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   for (i = 1U; i < 32U; i++)
 651              		.loc 1 307 10
 652 001e 0123     		movs	r3, #1
 653 0020 FB74     		strb	r3, [r7, #19]
 654              		.loc 1 307 3
 655 0022 0CE0     		b	.L25
 656              	.L28:
 657              	.LBB3:
 308:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   {
 309:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****     uint32_t limit = (((uint32_t)1) << (31U - i));
 658              		.loc 1 309 37
 659 0024 FB7C     		ldrb	r3, [r7, #19]	@ zero_extendqisi2
 660              		.loc 1 309 14
 661 0026 4FF00042 		mov	r2, #-2147483648
 662 002a 22FA03F3 		lsr	r3, r2, r3
 663 002e BB60     		str	r3, [r7, #8]
 310:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****     if (TargetAbs >= limit)
 664              		.loc 1 310 8
 665 0030 7A69     		ldr	r2, [r7, #20]
 666 0032 BB68     		ldr	r3, [r7, #8]
 667 0034 9A42     		cmp	r2, r3
 668 0036 06D2     		bcs	.L30
 669              	.LBE3:
 307:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   {
 670              		.loc 1 307 26 discriminator 2
 671 0038 FB7C     		ldrb	r3, [r7, #19]	@ zero_extendqisi2
 672 003a 0133     		adds	r3, r3, #1
 673 003c FB74     		strb	r3, [r7, #19]
 674              	.L25:
ARM GAS  /tmp/ccJA8YTM.s 			page 18


 307:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   {
 675              		.loc 1 307 3 discriminator 1
 676 003e FB7C     		ldrb	r3, [r7, #19]	@ zero_extendqisi2
 677 0040 1F2B     		cmp	r3, #31
 678 0042 EFD9     		bls	.L28
 679 0044 00E0     		b	.L27
 680              	.L30:
 681              	.LBB4:
 311:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****     {
 312:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****       break;
 682              		.loc 1 312 7
 683 0046 00BF     		nop
 684              	.L27:
 685              	.LBE4:
 313:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****     }
 314:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****     else
 315:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****     {
 316:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****       /* Nothing to do */
 317:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****     }
 318:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   }
 319:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c ****   return (((uint32_t)1) << (i - 1U));
 686              		.loc 1 319 31
 687 0048 FB7C     		ldrb	r3, [r7, #19]	@ zero_extendqisi2
 688 004a 013B     		subs	r3, r3, #1
 689              		.loc 1 319 25
 690 004c 0122     		movs	r2, #1
 691 004e 02FA03F3 		lsl	r3, r2, r3
 320:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/ramp_ext_mngr.c **** }
 692              		.loc 1 320 1
 693 0052 1846     		mov	r0, r3
 694 0054 1C37     		adds	r7, r7, #28
 695              	.LCFI38:
 696              		.cfi_def_cfa_offset 4
 697 0056 BD46     		mov	sp, r7
 698              	.LCFI39:
 699              		.cfi_def_cfa_register 13
 700              		@ sp needed
 701 0058 5DF8047B 		ldr	r7, [sp], #4
 702              	.LCFI40:
 703              		.cfi_restore 7
 704              		.cfi_def_cfa_offset 0
 705 005c 7047     		bx	lr
 706              		.cfi_endproc
 707              	.LFE1441:
 709              		.text
 710              	.Letext0:
 711              		.file 2 "/usr/share/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/machine/_default_type
 712              		.file 3 "/usr/share/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/sys/_stdint.h"
 713              		.file 4 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_ll_tim.h"
 714              		.file 5 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_ll_usart.h"
 715              		.file 6 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_ll_dma.h"
 716              		.file 7 "MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/ramp_ext_mngr.h"
ARM GAS  /tmp/ccJA8YTM.s 			page 19


DEFINED SYMBOLS
                            *ABS*:0000000000000000 ramp_ext_mngr.c
     /tmp/ccJA8YTM.s:18     .rodata.OFFSET_TAB_CCMRx:0000000000000000 $d
     /tmp/ccJA8YTM.s:21     .rodata.OFFSET_TAB_CCMRx:0000000000000000 OFFSET_TAB_CCMRx
     /tmp/ccJA8YTM.s:24     .rodata.SHIFT_TAB_OCxx:0000000000000000 $d
     /tmp/ccJA8YTM.s:27     .rodata.SHIFT_TAB_OCxx:0000000000000000 SHIFT_TAB_OCxx
     /tmp/ccJA8YTM.s:30     .rodata.SHIFT_TAB_ICxx:0000000000000000 $d
     /tmp/ccJA8YTM.s:33     .rodata.SHIFT_TAB_ICxx:0000000000000000 SHIFT_TAB_ICxx
     /tmp/ccJA8YTM.s:36     .rodata.SHIFT_TAB_CCxP:0000000000000000 $d
     /tmp/ccJA8YTM.s:39     .rodata.SHIFT_TAB_CCxP:0000000000000000 SHIFT_TAB_CCxP
     /tmp/ccJA8YTM.s:42     .rodata.SHIFT_TAB_OISx:0000000000000000 $d
     /tmp/ccJA8YTM.s:45     .rodata.SHIFT_TAB_OISx:0000000000000000 SHIFT_TAB_OISx
     /tmp/ccJA8YTM.s:48     .rodata.USART_PRESCALER_TAB:0000000000000000 $d
     /tmp/ccJA8YTM.s:51     .rodata.USART_PRESCALER_TAB:0000000000000000 USART_PRESCALER_TAB
     /tmp/ccJA8YTM.s:65     .rodata.CHANNEL_OFFSET_TAB:0000000000000000 $d
     /tmp/ccJA8YTM.s:68     .rodata.CHANNEL_OFFSET_TAB:0000000000000000 CHANNEL_OFFSET_TAB
     /tmp/ccJA8YTM.s:71     .text.REMNG_Init:0000000000000000 $t
     /tmp/ccJA8YTM.s:79     .text.REMNG_Init:0000000000000000 REMNG_Init
     /tmp/ccJA8YTM.s:136    .text.REMNG_Calc:0000000000000000 $t
     /tmp/ccJA8YTM.s:143    .text.REMNG_Calc:0000000000000000 REMNG_Calc
     /tmp/ccJA8YTM.s:240    .text.REMNG_ExecRamp:0000000000000000 $t
     /tmp/ccJA8YTM.s:247    .text.REMNG_ExecRamp:0000000000000000 REMNG_ExecRamp
     /tmp/ccJA8YTM.s:616    .text.getScalingFactor:0000000000000000 getScalingFactor
     /tmp/ccJA8YTM.s:444    .text.REMNG_ExecRamp:0000000000000110 $d
     /tmp/ccJA8YTM.s:449    .text.REMNG_GetValue:0000000000000000 $t
     /tmp/ccJA8YTM.s:456    .text.REMNG_GetValue:0000000000000000 REMNG_GetValue
     /tmp/ccJA8YTM.s:500    .text.REMNG_RampCompleted:0000000000000000 $t
     /tmp/ccJA8YTM.s:507    .text.REMNG_RampCompleted:0000000000000000 REMNG_RampCompleted
     /tmp/ccJA8YTM.s:558    .text.REMNG_StopRamp:0000000000000000 $t
     /tmp/ccJA8YTM.s:565    .text.REMNG_StopRamp:0000000000000000 REMNG_StopRamp
     /tmp/ccJA8YTM.s:609    .text.getScalingFactor:0000000000000000 $t

NO UNDEFINED SYMBOLS
