ARM GAS  /tmp/ccjRNDYd.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 2
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 2
  13              		.file	"config_system.cpp"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text._Z11Flash_WritemPKvm.part.0,"ax",%progbits
  18              		.align	1
  19              		.p2align 2,,3
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	_Z11Flash_WritemPKvm.part.0:
  27              	.LVL0:
  28              	.LFB144:
  29              		.file 1 "Src/config_system.cpp"
   1:Src/config_system.cpp **** 
   2:Src/config_system.cpp **** 
   3:Src/config_system.cpp **** #include <string.h>
   4:Src/config_system.cpp **** 
   5:Src/config_system.cpp **** #include "stm32g4xx_hal.h"
   6:Src/config_system.cpp **** #include "config_system.hpp"
   7:Src/config_system.cpp **** 
   8:Src/config_system.cpp **** static void Config_LoadAreaDefaults(ConfigArea_t area);
   9:Src/config_system.cpp **** 
  10:Src/config_system.cpp **** // Update the flash error codes to match HAL definitions
  11:Src/config_system.cpp **** typedef enum {
  12:Src/config_system.cpp ****     FLASH_OK = 0,
  13:Src/config_system.cpp ****     FLASH_ERROR_ALIGN ,  // Alignment error
  14:Src/config_system.cpp ****     FLASH_ERROR_OPT      // Option error
  15:Src/config_system.cpp **** } FlashStatus_t;
  16:Src/config_system.cpp **** 
  17:Src/config_system.cpp **** // Update the Flash_Write function
  18:Src/config_system.cpp **** FlashStatus_t Flash_Write(uint32_t address, const void* data, uint32_t size) 
  30              		.loc 1 18 15 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 8
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  19:Src/config_system.cpp **** {
  20:Src/config_system.cpp ****     // Check alignment (STM32G4 requires 8-byte alignment)
  21:Src/config_system.cpp ****     if ((address % 8) != 0) {
  22:Src/config_system.cpp ****         return FLASH_ERROR_ALIGN;
  23:Src/config_system.cpp ****     }
  24:Src/config_system.cpp ****     
  25:Src/config_system.cpp ****     HAL_FLASH_Unlock();
ARM GAS  /tmp/ccjRNDYd.s 			page 2


  34              		.loc 1 25 5 view .LVU1
  18:Src/config_system.cpp **** {
  35              		.loc 1 18 15 is_stmt 0 view .LVU2
  36 0000 F0B5     		push	{r4, r5, r6, r7, lr}
  37              	.LCFI0:
  38              		.cfi_def_cfa_offset 20
  39              		.cfi_offset 4, -20
  40              		.cfi_offset 5, -16
  41              		.cfi_offset 6, -12
  42              		.cfi_offset 7, -8
  43              		.cfi_offset 14, -4
  44 0002 1446     		mov	r4, r2
  45 0004 83B0     		sub	sp, sp, #12
  46              	.LCFI1:
  47              		.cfi_def_cfa_offset 32
  18:Src/config_system.cpp **** {
  48              		.loc 1 18 15 view .LVU3
  49 0006 0546     		mov	r5, r0
  50 0008 0F46     		mov	r7, r1
  51              		.loc 1 25 21 view .LVU4
  52 000a FFF7FEFF 		bl	HAL_FLASH_Unlock
  53              	.LVL1:
  26:Src/config_system.cpp **** 
  27:Src/config_system.cpp ****     const uint64_t* src = (const uint64_t*)data;
  54              		.loc 1 27 5 is_stmt 1 view .LVU5
  28:Src/config_system.cpp ****     uint32_t remaining = size;
  55              		.loc 1 28 5 view .LVU6
  29:Src/config_system.cpp ****     uint32_t dest = address;
  56              		.loc 1 29 5 view .LVU7
  30:Src/config_system.cpp **** 
  31:Src/config_system.cpp ****     // Write full double words (8 bytes)
  32:Src/config_system.cpp ****     while (remaining >= 8) {
  57              		.loc 1 32 5 view .LVU8
  58              		.loc 1 32 22 view .LVU9
  59 000e 072C     		cmp	r4, #7
  60 0010 13D9     		bls	.L2
  61 0012 3E46     		mov	r6, r7
  62 0014 01E0     		b	.L5
  63              	.LVL2:
  64              	.L3:
  65              		.loc 1 32 22 is_stmt 0 view .LVU10
  66 0016 072C     		cmp	r4, #7
  67 0018 0FD9     		bls	.L2
  68              	.L5:
  33:Src/config_system.cpp ****         if (HAL_FLASH_Program(FLASH_TYPEPROGRAM_DOUBLEWORD, dest, *src) != HAL_OK) {
  69              		.loc 1 33 9 is_stmt 1 view .LVU11
  70              		.loc 1 33 30 is_stmt 0 view .LVU12
  71 001a F6E80223 		ldrd	r2, [r6], #8
  72              	.LVL3:
  73              		.loc 1 33 30 view .LVU13
  74 001e 2946     		mov	r1, r5
  75 0020 0020     		movs	r0, #0
  76 0022 FFF7FEFF 		bl	HAL_FLASH_Program
  77              	.LVL4:
  34:Src/config_system.cpp ****             HAL_FLASH_Lock();
  35:Src/config_system.cpp ****             return FLASH_ERROR_OPT;
  36:Src/config_system.cpp ****         }
ARM GAS  /tmp/ccjRNDYd.s 			page 3


  37:Src/config_system.cpp ****         src++;
  78              		.loc 1 37 9 is_stmt 1 view .LVU14
  38:Src/config_system.cpp ****         dest += 8;
  39:Src/config_system.cpp ****         remaining -= 8;
  79              		.loc 1 39 19 is_stmt 0 view .LVU15
  80 0026 083C     		subs	r4, r4, #8
  81              	.LVL5:
  37:Src/config_system.cpp ****         dest += 8;
  82              		.loc 1 37 12 view .LVU16
  83 0028 3746     		mov	r7, r6
  84              	.LVL6:
  38:Src/config_system.cpp ****         dest += 8;
  85              		.loc 1 38 9 is_stmt 1 view .LVU17
  38:Src/config_system.cpp ****         dest += 8;
  86              		.loc 1 38 14 is_stmt 0 view .LVU18
  87 002a 0835     		adds	r5, r5, #8
  88              	.LVL7:
  89              		.loc 1 39 9 is_stmt 1 view .LVU19
  32:Src/config_system.cpp ****         if (HAL_FLASH_Program(FLASH_TYPEPROGRAM_DOUBLEWORD, dest, *src) != HAL_OK) {
  90              		.loc 1 32 5 view .LVU20
  32:Src/config_system.cpp ****         if (HAL_FLASH_Program(FLASH_TYPEPROGRAM_DOUBLEWORD, dest, *src) != HAL_OK) {
  91              		.loc 1 32 22 view .LVU21
  33:Src/config_system.cpp ****             HAL_FLASH_Lock();
  92              		.loc 1 33 9 is_stmt 0 view .LVU22
  93 002c 0028     		cmp	r0, #0
  94 002e F2D0     		beq	.L3
  95              	.LVL8:
  96              	.L16:
  97              	.LBB57:
  98              	.LBB58:
  40:Src/config_system.cpp ****     }
  41:Src/config_system.cpp ****     // Handle remaining bytes if any
  42:Src/config_system.cpp ****     if (remaining > 0) {
  43:Src/config_system.cpp ****         uint64_t last_word = 0;
  44:Src/config_system.cpp ****         memcpy(&last_word, src, remaining);
  45:Src/config_system.cpp ****         if (HAL_FLASH_Program(FLASH_TYPEPROGRAM_DOUBLEWORD, dest, last_word) != HAL_OK) {
  46:Src/config_system.cpp ****             HAL_FLASH_Lock();
  99              		.loc 1 46 13 is_stmt 1 view .LVU23
 100              		.loc 1 46 27 is_stmt 0 view .LVU24
 101 0030 FFF7FEFF 		bl	HAL_FLASH_Lock
 102              	.LVL9:
  47:Src/config_system.cpp ****             return FLASH_ERROR_OPT;
 103              		.loc 1 47 13 is_stmt 1 view .LVU25
 104              		.loc 1 47 20 is_stmt 0 view .LVU26
 105 0034 0220     		movs	r0, #2
 106              	.LBE58:
 107              	.LBE57:
  48:Src/config_system.cpp ****         }
  49:Src/config_system.cpp ****     }
  50:Src/config_system.cpp **** 
  51:Src/config_system.cpp ****     HAL_FLASH_Lock();
  52:Src/config_system.cpp ****     return FLASH_OK;
  53:Src/config_system.cpp **** }
 108              		.loc 1 53 1 view .LVU27
 109 0036 03B0     		add	sp, sp, #12
 110              	.LCFI2:
 111              		.cfi_remember_state
ARM GAS  /tmp/ccjRNDYd.s 			page 4


 112              		.cfi_def_cfa_offset 20
 113              		@ sp needed
 114 0038 F0BD     		pop	{r4, r5, r6, r7, pc}
 115              	.LVL10:
 116              	.L2:
 117              	.LCFI3:
 118              		.cfi_restore_state
  42:Src/config_system.cpp ****         uint64_t last_word = 0;
 119              		.loc 1 42 5 is_stmt 1 view .LVU28
 120              	.LBB60:
 121 003a 84B1     		cbz	r4, .L6
 122              	.LBB59:
  43:Src/config_system.cpp ****         memcpy(&last_word, src, remaining);
 123              		.loc 1 43 9 view .LVU29
  44:Src/config_system.cpp ****         if (HAL_FLASH_Program(FLASH_TYPEPROGRAM_DOUBLEWORD, dest, last_word) != HAL_OK) {
 124              		.loc 1 44 15 is_stmt 0 view .LVU30
 125 003c 3946     		mov	r1, r7
 126 003e 2246     		mov	r2, r4
  43:Src/config_system.cpp ****         memcpy(&last_word, src, remaining);
 127              		.loc 1 43 18 view .LVU31
 128 0040 0026     		movs	r6, #0
 129 0042 0027     		movs	r7, #0
 130              	.LVL11:
  44:Src/config_system.cpp ****         if (HAL_FLASH_Program(FLASH_TYPEPROGRAM_DOUBLEWORD, dest, last_word) != HAL_OK) {
 131              		.loc 1 44 15 view .LVU32
 132 0044 6846     		mov	r0, sp
  43:Src/config_system.cpp ****         memcpy(&last_word, src, remaining);
 133              		.loc 1 43 18 view .LVU33
 134 0046 CDE90067 		strd	r6, [sp]
  44:Src/config_system.cpp ****         if (HAL_FLASH_Program(FLASH_TYPEPROGRAM_DOUBLEWORD, dest, last_word) != HAL_OK) {
 135              		.loc 1 44 9 is_stmt 1 view .LVU34
  44:Src/config_system.cpp ****         if (HAL_FLASH_Program(FLASH_TYPEPROGRAM_DOUBLEWORD, dest, last_word) != HAL_OK) {
 136              		.loc 1 44 15 is_stmt 0 view .LVU35
 137 004a FFF7FEFF 		bl	memcpy
 138              	.LVL12:
  45:Src/config_system.cpp ****             HAL_FLASH_Lock();
 139              		.loc 1 45 9 is_stmt 1 view .LVU36
  45:Src/config_system.cpp ****             HAL_FLASH_Lock();
 140              		.loc 1 45 30 is_stmt 0 view .LVU37
 141 004e DDE90023 		ldrd	r2, [sp]
 142 0052 2946     		mov	r1, r5
 143 0054 0020     		movs	r0, #0
 144 0056 FFF7FEFF 		bl	HAL_FLASH_Program
 145              	.LVL13:
  45:Src/config_system.cpp ****             HAL_FLASH_Lock();
 146              		.loc 1 45 9 view .LVU38
 147 005a 0028     		cmp	r0, #0
 148 005c E8D1     		bne	.L16
 149              	.L6:
  45:Src/config_system.cpp ****             HAL_FLASH_Lock();
 150              		.loc 1 45 9 view .LVU39
 151              	.LBE59:
 152              	.LBE60:
  51:Src/config_system.cpp ****     return FLASH_OK;
 153              		.loc 1 51 5 is_stmt 1 view .LVU40
  51:Src/config_system.cpp ****     return FLASH_OK;
 154              		.loc 1 51 19 is_stmt 0 view .LVU41
ARM GAS  /tmp/ccjRNDYd.s 			page 5


 155 005e FFF7FEFF 		bl	HAL_FLASH_Lock
 156              	.LVL14:
  52:Src/config_system.cpp **** }
 157              		.loc 1 52 5 is_stmt 1 view .LVU42
  52:Src/config_system.cpp **** }
 158              		.loc 1 52 12 is_stmt 0 view .LVU43
 159 0062 0020     		movs	r0, #0
 160              		.loc 1 53 1 view .LVU44
 161 0064 03B0     		add	sp, sp, #12
 162              	.LCFI4:
 163              		.cfi_def_cfa_offset 20
 164              		@ sp needed
 165 0066 F0BD     		pop	{r4, r5, r6, r7, pc}
 166              		.loc 1 53 1 view .LVU45
 167              		.cfi_endproc
 168              	.LFE144:
 170              		.section	.text._Z11Flash_WritemPKvm,"ax",%progbits
 171              		.align	1
 172              		.p2align 2,,3
 173              		.global	_Z11Flash_WritemPKvm
 174              		.syntax unified
 175              		.thumb
 176              		.thumb_func
 177              		.fpu fpv4-sp-d16
 179              	_Z11Flash_WritemPKvm:
 180              	.LVL15:
 181              	.LFB132:
  19:Src/config_system.cpp ****     // Check alignment (STM32G4 requires 8-byte alignment)
 182              		.loc 1 19 1 is_stmt 1 view -0
 183              		.cfi_startproc
 184              		@ args = 0, pretend = 0, frame = 0
 185              		@ frame_needed = 0, uses_anonymous_args = 0
 186              		@ link register save eliminated.
  21:Src/config_system.cpp ****         return FLASH_ERROR_ALIGN;
 187              		.loc 1 21 5 view .LVU47
 188 0000 4307     		lsls	r3, r0, #29
 189 0002 01D0     		beq	.L20
 190              		.loc 1 53 1 is_stmt 0 view .LVU48
 191 0004 0120     		movs	r0, #1
 192              	.LVL16:
 193              		.loc 1 53 1 view .LVU49
 194 0006 7047     		bx	lr
 195              	.LVL17:
 196              	.L20:
 197              		.loc 1 53 1 view .LVU50
 198 0008 FFF7FEBF 		b	_Z11Flash_WritemPKvm.part.0
 199              	.LVL18:
 200              		.loc 1 53 1 view .LVU51
 201              		.cfi_endproc
 202              	.LFE132:
 204              		.section	.text._Z11Flash_Erasemm,"ax",%progbits
 205              		.align	1
 206              		.p2align 2,,3
 207              		.global	_Z11Flash_Erasemm
 208              		.syntax unified
 209              		.thumb
 210              		.thumb_func
ARM GAS  /tmp/ccjRNDYd.s 			page 6


 211              		.fpu fpv4-sp-d16
 213              	_Z11Flash_Erasemm:
 214              	.LVL19:
 215              	.LFB133:
  54:Src/config_system.cpp **** 
  55:Src/config_system.cpp **** // Update Flash_Erase function
  56:Src/config_system.cpp **** FlashStatus_t Flash_Erase(uint32_t address, uint32_t size)
  57:Src/config_system.cpp **** {
 216              		.loc 1 57 1 is_stmt 1 view -0
 217              		.cfi_startproc
 218              		@ args = 0, pretend = 0, frame = 24
 219              		@ frame_needed = 0, uses_anonymous_args = 0
  58:Src/config_system.cpp ****     uint32_t page = (address - FLASH_BASE) / FLASH_PAGE_SIZE;
 220              		.loc 1 58 5 view .LVU53
  57:Src/config_system.cpp ****     uint32_t page = (address - FLASH_BASE) / FLASH_PAGE_SIZE;
 221              		.loc 1 57 1 is_stmt 0 view .LVU54
 222 0000 30B5     		push	{r4, r5, lr}
 223              	.LCFI5:
 224              		.cfi_def_cfa_offset 12
 225              		.cfi_offset 4, -12
 226              		.cfi_offset 5, -8
 227              		.cfi_offset 14, -4
 228 0002 0C46     		mov	r4, r1
 229 0004 0546     		mov	r5, r0
 230              	.LVL20:
  59:Src/config_system.cpp ****     uint32_t num_pages = (size + FLASH_PAGE_SIZE - 1) / FLASH_PAGE_SIZE;
 231              		.loc 1 59 5 is_stmt 1 view .LVU55
  60:Src/config_system.cpp ****     
  61:Src/config_system.cpp ****     HAL_FLASH_Unlock();
 232              		.loc 1 61 5 view .LVU56
  57:Src/config_system.cpp ****     uint32_t page = (address - FLASH_BASE) / FLASH_PAGE_SIZE;
 233              		.loc 1 57 1 is_stmt 0 view .LVU57
 234 0006 87B0     		sub	sp, sp, #28
 235              	.LCFI6:
 236              		.cfi_def_cfa_offset 40
  58:Src/config_system.cpp ****     uint32_t num_pages = (size + FLASH_PAGE_SIZE - 1) / FLASH_PAGE_SIZE;
 237              		.loc 1 58 30 view .LVU58
 238 0008 05F17845 		add	r5, r5, #-134217728
  59:Src/config_system.cpp ****     
 239              		.loc 1 59 50 view .LVU59
 240 000c 04F2FF74 		addw	r4, r4, #2047
 241              		.loc 1 61 21 view .LVU60
 242 0010 FFF7FEFF 		bl	HAL_FLASH_Unlock
 243              	.LVL21:
  62:Src/config_system.cpp **** 
  63:Src/config_system.cpp ****     FLASH_EraseInitTypeDef erase_init = {
 244              		.loc 1 63 5 is_stmt 1 view .LVU61
  58:Src/config_system.cpp ****     uint32_t num_pages = (size + FLASH_PAGE_SIZE - 1) / FLASH_PAGE_SIZE;
 245              		.loc 1 58 14 is_stmt 0 view .LVU62
 246 0014 ED0A     		lsrs	r5, r5, #11
 247              	.LVL22:
 248              		.loc 1 63 28 view .LVU63
 249 0016 0022     		movs	r2, #0
 250 0018 0123     		movs	r3, #1
  64:Src/config_system.cpp ****         .TypeErase = FLASH_TYPEERASE_PAGES,
  65:Src/config_system.cpp ****         .Banks = FLASH_BANK_1,
  66:Src/config_system.cpp ****         .Page = page,
ARM GAS  /tmp/ccjRNDYd.s 			page 7


  67:Src/config_system.cpp ****         .NbPages = num_pages
  68:Src/config_system.cpp ****     };
  69:Src/config_system.cpp **** 
  70:Src/config_system.cpp ****     uint32_t page_error;
  71:Src/config_system.cpp ****     HAL_StatusTypeDef status = HAL_FLASHEx_Erase(&erase_init, &page_error);
 251              		.loc 1 71 49 view .LVU64
 252 001a 01A9     		add	r1, sp, #4
  59:Src/config_system.cpp ****     
 253              		.loc 1 59 14 view .LVU65
 254 001c E40A     		lsrs	r4, r4, #11
 255              	.LVL23:
 256              		.loc 1 71 49 view .LVU66
 257 001e 02A8     		add	r0, sp, #8
  63:Src/config_system.cpp ****         .TypeErase = FLASH_TYPEERASE_PAGES,
 258              		.loc 1 63 28 view .LVU67
 259 0020 CDE90223 		strd	r2, r3, [sp, #8]
  68:Src/config_system.cpp **** 
 260              		.loc 1 68 5 view .LVU68
 261 0024 CDE90454 		strd	r5, r4, [sp, #16]
  70:Src/config_system.cpp ****     HAL_StatusTypeDef status = HAL_FLASHEx_Erase(&erase_init, &page_error);
 262              		.loc 1 70 5 is_stmt 1 view .LVU69
 263              		.loc 1 71 5 view .LVU70
 264              		.loc 1 71 49 is_stmt 0 view .LVU71
 265 0028 FFF7FEFF 		bl	HAL_FLASHEx_Erase
 266              	.LVL24:
 267 002c 0446     		mov	r4, r0
 268              	.LVL25:
  72:Src/config_system.cpp ****     
  73:Src/config_system.cpp ****     HAL_FLASH_Lock();
 269              		.loc 1 73 5 is_stmt 1 view .LVU72
 270              		.loc 1 73 19 is_stmt 0 view .LVU73
 271 002e FFF7FEFF 		bl	HAL_FLASH_Lock
 272              	.LVL26:
  74:Src/config_system.cpp ****     
  75:Src/config_system.cpp ****     return (status == HAL_OK) ? FLASH_OK : FLASH_ERROR_OPT;
 273              		.loc 1 75 5 is_stmt 1 view .LVU74
 274              		.loc 1 75 31 is_stmt 0 view .LVU75
 275 0032 002C     		cmp	r4, #0
  76:Src/config_system.cpp **** }
 276              		.loc 1 76 1 view .LVU76
 277 0034 0CBF     		ite	eq
 278 0036 2046     		moveq	r0, r4
 279 0038 0220     		movne	r0, #2
 280 003a 07B0     		add	sp, sp, #28
 281              	.LCFI7:
 282              		.cfi_def_cfa_offset 12
 283              		@ sp needed
 284 003c 30BD     		pop	{r4, r5, pc}
 285              		.loc 1 76 1 view .LVU77
 286              		.cfi_endproc
 287              	.LFE133:
 289 003e 00BF     		.section	.text.Config_GetAreaPtr,"ax",%progbits
 290              		.align	1
 291              		.p2align 2,,3
 292              		.global	Config_GetAreaPtr
 293              		.syntax unified
 294              		.thumb
ARM GAS  /tmp/ccjRNDYd.s 			page 8


 295              		.thumb_func
 296              		.fpu fpv4-sp-d16
 298              	Config_GetAreaPtr:
 299              	.LVL27:
 300              	.LFB135:
  77:Src/config_system.cpp **** 
  78:Src/config_system.cpp **** 
  79:Src/config_system.cpp **** 
  80:Src/config_system.cpp **** /* 全局配置存储 */
  81:Src/config_system.cpp **** static ConfigStorage_t g_config;
  82:Src/config_system.cpp **** static bool g_config_initialized = false;
  83:Src/config_system.cpp **** 
  84:Src/config_system.cpp **** /* CRC计算函数 */
  85:Src/config_system.cpp **** static uint32_t Calculate_CRC(const void* data, uint32_t size)
  86:Src/config_system.cpp **** {
  87:Src/config_system.cpp ****     uint32_t crc = 0;
  88:Src/config_system.cpp ****     const uint8_t* bytes = (const uint8_t*)data;
  89:Src/config_system.cpp ****     
  90:Src/config_system.cpp ****     for(uint32_t i = 0; i < size; i++) {
  91:Src/config_system.cpp ****         crc = crc ^ bytes[i];
  92:Src/config_system.cpp ****         for(int j = 0; j < 8; j++) {
  93:Src/config_system.cpp ****             if(crc & 1) crc = (crc >> 1) ^ 0xA001;
  94:Src/config_system.cpp ****             else crc = crc >> 1;
  95:Src/config_system.cpp ****         }
  96:Src/config_system.cpp ****     }
  97:Src/config_system.cpp ****     return crc;
  98:Src/config_system.cpp **** }
  99:Src/config_system.cpp **** 
 100:Src/config_system.cpp **** /* 获取配置区域指针和大小 */
 101:Src/config_system.cpp **** const void* Config_GetAreaPtr(ConfigArea_t area)
 102:Src/config_system.cpp **** {
 301              		.loc 1 102 1 is_stmt 1 view -0
 302              		.cfi_startproc
 303              		@ args = 0, pretend = 0, frame = 0
 304              		@ frame_needed = 0, uses_anonymous_args = 0
 305              		@ link register save eliminated.
 103:Src/config_system.cpp ****     switch(area) {
 306              		.loc 1 103 5 view .LVU79
 307 0000 0528     		cmp	r0, #5
 308 0002 9ABF     		itte	ls
 309 0004 024B     		ldrls	r3, .L29
 310 0006 53F82000 		ldrls	r0, [r3, r0, lsl #2]
 311              	.LVL28:
 102:Src/config_system.cpp ****     switch(area) {
 312              		.loc 1 102 1 is_stmt 0 view .LVU80
 313 000a 0020     		movhi	r0, #0
 104:Src/config_system.cpp ****         case CONFIG_AREA_SYSTEM:
 105:Src/config_system.cpp ****             return &g_config.system_config;
 106:Src/config_system.cpp ****         case CONFIG_AREA_MOTOR:
 107:Src/config_system.cpp ****             return &g_config.motor_config;
 108:Src/config_system.cpp ****         case CONFIG_AREA_CAN:
 109:Src/config_system.cpp ****             return &g_config.can_config;
 110:Src/config_system.cpp ****         case CONFIG_AREA_ENCODER:
 111:Src/config_system.cpp ****             return &g_config.encoder_config;
 112:Src/config_system.cpp ****         case CONFIG_AREA_CONTROLLER:
 113:Src/config_system.cpp ****             return &g_config.controller_config;
 114:Src/config_system.cpp ****         case CONFIG_AREA_LIMITS:
ARM GAS  /tmp/ccjRNDYd.s 			page 9


 115:Src/config_system.cpp ****             return &g_config.limits_config;
 116:Src/config_system.cpp ****         default:
 117:Src/config_system.cpp ****             return NULL;
 118:Src/config_system.cpp ****     }
 119:Src/config_system.cpp **** }
 314              		.loc 1 119 1 view .LVU81
 315 000c 7047     		bx	lr
 316              	.L30:
 317 000e 00BF     		.align	2
 318              	.L29:
 319 0010 00000000 		.word	.LANCHOR0
 320              		.cfi_endproc
 321              	.LFE135:
 323              		.section	.text.Config_GetAreaSize,"ax",%progbits
 324              		.align	1
 325              		.p2align 2,,3
 326              		.global	Config_GetAreaSize
 327              		.syntax unified
 328              		.thumb
 329              		.thumb_func
 330              		.fpu fpv4-sp-d16
 332              	Config_GetAreaSize:
 333              	.LVL29:
 334              	.LFB136:
 120:Src/config_system.cpp **** 
 121:Src/config_system.cpp **** uint32_t Config_GetAreaSize(ConfigArea_t area)
 122:Src/config_system.cpp **** {
 335              		.loc 1 122 1 is_stmt 1 view -0
 336              		.cfi_startproc
 337              		@ args = 0, pretend = 0, frame = 0
 338              		@ frame_needed = 0, uses_anonymous_args = 0
 339              		@ link register save eliminated.
 123:Src/config_system.cpp ****     switch(area) {
 340              		.loc 1 123 5 view .LVU83
 341 0000 0528     		cmp	r0, #5
 342 0002 9ABF     		itte	ls
 343 0004 024B     		ldrls	r3, .L34
 344 0006 53F82000 		ldrls	r0, [r3, r0, lsl #2]
 345              	.LVL30:
 122:Src/config_system.cpp ****     switch(area) {
 346              		.loc 1 122 1 is_stmt 0 view .LVU84
 347 000a 0020     		movhi	r0, #0
 124:Src/config_system.cpp ****         case CONFIG_AREA_SYSTEM:
 125:Src/config_system.cpp ****             return sizeof(g_config.system_config);
 126:Src/config_system.cpp ****         case CONFIG_AREA_MOTOR:
 127:Src/config_system.cpp ****             return sizeof(g_config.motor_config);
 128:Src/config_system.cpp ****         case CONFIG_AREA_CAN:
 129:Src/config_system.cpp ****             return sizeof(g_config.can_config);
 130:Src/config_system.cpp ****         case CONFIG_AREA_ENCODER:
 131:Src/config_system.cpp ****             return sizeof(g_config.encoder_config);
 132:Src/config_system.cpp ****         case CONFIG_AREA_CONTROLLER:
 133:Src/config_system.cpp ****             return sizeof(g_config.controller_config);
 134:Src/config_system.cpp ****         case CONFIG_AREA_LIMITS:
 135:Src/config_system.cpp ****             return sizeof(g_config.limits_config);
 136:Src/config_system.cpp ****         default:
 137:Src/config_system.cpp ****             return 0;
 138:Src/config_system.cpp ****     }
ARM GAS  /tmp/ccjRNDYd.s 			page 10


 139:Src/config_system.cpp **** }
 348              		.loc 1 139 1 view .LVU85
 349 000c 7047     		bx	lr
 350              	.L35:
 351 000e 00BF     		.align	2
 352              	.L34:
 353 0010 00000000 		.word	.LANCHOR1
 354              		.cfi_endproc
 355              	.LFE136:
 357              		.section	.text.Config_SaveArea,"ax",%progbits
 358              		.align	1
 359              		.p2align 2,,3
 360              		.global	Config_SaveArea
 361              		.syntax unified
 362              		.thumb
 363              		.thumb_func
 364              		.fpu fpv4-sp-d16
 366              	Config_SaveArea:
 367              	.LVL31:
 368              	.LFB137:
 140:Src/config_system.cpp **** 
 141:Src/config_system.cpp **** /* 保存指定配置区域 */
 142:Src/config_system.cpp **** bool Config_SaveArea(ConfigArea_t area)
 143:Src/config_system.cpp **** {
 369              		.loc 1 143 1 is_stmt 1 view -0
 370              		.cfi_startproc
 371              		@ args = 0, pretend = 0, frame = 0
 372              		@ frame_needed = 0, uses_anonymous_args = 0
 144:Src/config_system.cpp ****     if(static_cast<int>(area) >= static_cast<int>(CONFIG_AREA_MAX)) return false;
 373              		.loc 1 144 5 view .LVU87
 374 0000 0528     		cmp	r0, #5
 375 0002 00D8     		bhi	.L39
 145:Src/config_system.cpp ****     
 146:Src/config_system.cpp ****     const void* data = Config_GetAreaPtr(area);
 376              		.loc 1 146 5 view .LVU88
 377              	.LVL32:
 378              	.LBB61:
 379              	.LBI61:
 101:Src/config_system.cpp **** {
 380              		.loc 1 101 13 view .LVU89
 381              	.LBE61:
 103:Src/config_system.cpp ****         case CONFIG_AREA_SYSTEM:
 382              		.loc 1 103 5 view .LVU90
 147:Src/config_system.cpp ****     uint32_t size = Config_GetAreaSize(area);
 383              		.loc 1 147 5 view .LVU91
 384              	.LBB62:
 385              	.LBI62:
 121:Src/config_system.cpp **** {
 386              		.loc 1 121 10 view .LVU92
 387              	.LBE62:
 123:Src/config_system.cpp ****         case CONFIG_AREA_SYSTEM:
 388              		.loc 1 123 5 view .LVU93
 148:Src/config_system.cpp ****     uint32_t offset = 0;
 389              		.loc 1 148 5 view .LVU94
 149:Src/config_system.cpp ****     
 150:Src/config_system.cpp ****     // 计算区域在Flash中的偏移
 151:Src/config_system.cpp ****     for(int i = 0; i < static_cast<int>(area); i++) {
ARM GAS  /tmp/ccjRNDYd.s 			page 11


 390              		.loc 1 151 5 view .LVU95
 391              	.LBB63:
 392              		.loc 1 151 22 view .LVU96
 393 0004 08B1     		cbz	r0, .L44
 394              	.LVL33:
 395              	.L39:
 396              		.loc 1 151 22 is_stmt 0 view .LVU97
 397              	.LBE63:
 144:Src/config_system.cpp ****     
 398              		.loc 1 144 76 view .LVU98
 399 0006 0020     		movs	r0, #0
 400              	.LVL34:
 152:Src/config_system.cpp ****         offset += Config_GetAreaSize(static_cast<ConfigArea_t>(i));
 153:Src/config_system.cpp ****     }
 154:Src/config_system.cpp ****     
 155:Src/config_system.cpp ****     // 写入Flash
 156:Src/config_system.cpp ****     if(Flash_Write(CONFIG_FLASH_ADDR + offset, data, size) != FLASH_OK) {
 157:Src/config_system.cpp ****         return false;
 158:Src/config_system.cpp ****     }
 159:Src/config_system.cpp ****     
 160:Src/config_system.cpp ****     return true;
 161:Src/config_system.cpp **** }
 401              		.loc 1 161 1 view .LVU99
 402 0008 7047     		bx	lr
 403              	.LVL35:
 404              	.L44:
 143:Src/config_system.cpp ****     if(static_cast<int>(area) >= static_cast<int>(CONFIG_AREA_MAX)) return false;
 405              		.loc 1 143 1 view .LVU100
 406 000a 08B5     		push	{r3, lr}
 407              	.LCFI8:
 408              		.cfi_def_cfa_offset 8
 409              		.cfi_offset 3, -8
 410              		.cfi_offset 14, -4
 411              	.LBB64:
 412              	.LBB65:
 413 000c 054A     		ldr	r2, .L45
 414 000e 064B     		ldr	r3, .L45+4
 415 0010 1268     		ldr	r2, [r2]
 416 0012 1968     		ldr	r1, [r3]
 417 0014 0548     		ldr	r0, .L45+8
 418              	.LVL36:
 143:Src/config_system.cpp ****     if(static_cast<int>(area) >= static_cast<int>(CONFIG_AREA_MAX)) return false;
 419              		.loc 1 143 1 view .LVU101
 420 0016 FFF7FEFF 		bl	_Z11Flash_WritemPKvm.part.0
 421              	.LVL37:
 143:Src/config_system.cpp ****     if(static_cast<int>(area) >= static_cast<int>(CONFIG_AREA_MAX)) return false;
 422              		.loc 1 143 1 view .LVU102
 423              	.LBE65:
 424              	.LBE64:
 156:Src/config_system.cpp ****         return false;
 425              		.loc 1 156 5 view .LVU103
 426 001a B0FA80F0 		clz	r0, r0
 427 001e 4009     		lsrs	r0, r0, #5
 428              	.LVL38:
 429              		.loc 1 161 1 view .LVU104
 430 0020 08BD     		pop	{r3, pc}
 431              	.L46:
ARM GAS  /tmp/ccjRNDYd.s 			page 12


 432 0022 00BF     		.align	2
 433              	.L45:
 434 0024 00000000 		.word	.LANCHOR1
 435 0028 00000000 		.word	.LANCHOR0
 436 002c 00E00108 		.word	134340608
 437              		.cfi_endproc
 438              	.LFE137:
 440              		.section	.text.Config_LoadArea,"ax",%progbits
 441              		.align	1
 442              		.p2align 2,,3
 443              		.global	Config_LoadArea
 444              		.syntax unified
 445              		.thumb
 446              		.thumb_func
 447              		.fpu fpv4-sp-d16
 449              	Config_LoadArea:
 450              	.LVL39:
 451              	.LFB138:
 162:Src/config_system.cpp **** 
 163:Src/config_system.cpp **** /* 加载指定配置区域 */
 164:Src/config_system.cpp **** bool Config_LoadArea(ConfigArea_t area)
 165:Src/config_system.cpp **** {
 452              		.loc 1 165 1 is_stmt 1 view -0
 453              		.cfi_startproc
 454              		@ args = 0, pretend = 0, frame = 0
 455              		@ frame_needed = 0, uses_anonymous_args = 0
 166:Src/config_system.cpp ****     if(static_cast<int>(area) >= static_cast<int>(CONFIG_AREA_MAX)) return false;
 456              		.loc 1 166 5 view .LVU106
 457 0000 0528     		cmp	r0, #5
 458 0002 1AD8     		bhi	.L51
 167:Src/config_system.cpp ****     
 168:Src/config_system.cpp ****     void* data = (void*)Config_GetAreaPtr(area);
 459              		.loc 1 168 5 view .LVU107
 460              	.LVL40:
 461              	.LBB66:
 462              	.LBI66:
 101:Src/config_system.cpp **** {
 463              		.loc 1 101 13 view .LVU108
 464              	.LBE66:
 103:Src/config_system.cpp ****         case CONFIG_AREA_SYSTEM:
 465              		.loc 1 103 5 view .LVU109
 165:Src/config_system.cpp ****     if(static_cast<int>(area) >= static_cast<int>(CONFIG_AREA_MAX)) return false;
 466              		.loc 1 165 1 is_stmt 0 view .LVU110
 467 0004 08B5     		push	{r3, lr}
 468              	.LCFI9:
 469              		.cfi_def_cfa_offset 8
 470              		.cfi_offset 3, -8
 471              		.cfi_offset 14, -4
 472 0006 1349     		ldr	r1, .L61
 473 0008 134A     		ldr	r2, .L61+4
 474 000a 0346     		mov	r3, r0
 475 000c 51F82000 		ldr	r0, [r1, r0, lsl #2]
 476              	.LVL41:
 169:Src/config_system.cpp ****     uint32_t size = Config_GetAreaSize(area);
 477              		.loc 1 169 5 is_stmt 1 view .LVU111
 478              	.LBB67:
 479              	.LBI67:
ARM GAS  /tmp/ccjRNDYd.s 			page 13


 121:Src/config_system.cpp **** {
 480              		.loc 1 121 10 view .LVU112
 481              	.LBE67:
 123:Src/config_system.cpp ****         case CONFIG_AREA_SYSTEM:
 482              		.loc 1 123 5 view .LVU113
 483 0010 52F82320 		ldr	r2, [r2, r3, lsl #2]
 484              	.LVL42:
 170:Src/config_system.cpp ****     uint32_t offset = 0;
 485              		.loc 1 170 5 view .LVU114
 171:Src/config_system.cpp ****     
 172:Src/config_system.cpp ****     // 计算区域在Flash中的偏移
 173:Src/config_system.cpp ****     for(int i = 0; i < static_cast<int>(area); i++) {
 486              		.loc 1 173 5 view .LVU115
 487              	.LBB68:
 488              		.loc 1 173 22 view .LVU116
 489 0014 ABB1     		cbz	r3, .L52
 174:Src/config_system.cpp ****         offset += Config_GetAreaSize(static_cast<ConfigArea_t>(i));
 490              		.loc 1 174 9 view .LVU117
 491              	.LVL43:
 492              		.loc 1 174 9 is_stmt 0 view .LVU118
 493              	.LBE68:
 123:Src/config_system.cpp ****         case CONFIG_AREA_SYSTEM:
 494              		.loc 1 123 5 is_stmt 1 view .LVU119
 495              	.LBB69:
 173:Src/config_system.cpp ****         offset += Config_GetAreaSize(static_cast<ConfigArea_t>(i));
 496              		.loc 1 173 5 view .LVU120
 173:Src/config_system.cpp ****         offset += Config_GetAreaSize(static_cast<ConfigArea_t>(i));
 497              		.loc 1 173 22 view .LVU121
 498 0016 012B     		cmp	r3, #1
 499 0018 11D0     		beq	.L53
 500              		.loc 1 174 9 view .LVU122
 501              	.LVL44:
 502              		.loc 1 174 9 is_stmt 0 view .LVU123
 503              	.LBE69:
 123:Src/config_system.cpp ****         case CONFIG_AREA_SYSTEM:
 504              		.loc 1 123 5 is_stmt 1 view .LVU124
 505              	.LBB70:
 173:Src/config_system.cpp ****         offset += Config_GetAreaSize(static_cast<ConfigArea_t>(i));
 506              		.loc 1 173 5 view .LVU125
 173:Src/config_system.cpp ****         offset += Config_GetAreaSize(static_cast<ConfigArea_t>(i));
 507              		.loc 1 173 22 view .LVU126
 508 001a 022B     		cmp	r3, #2
 509 001c 16D0     		beq	.L54
 510              		.loc 1 174 9 view .LVU127
 511              	.LVL45:
 512              		.loc 1 174 9 is_stmt 0 view .LVU128
 513              	.LBE70:
 123:Src/config_system.cpp ****         case CONFIG_AREA_SYSTEM:
 514              		.loc 1 123 5 is_stmt 1 view .LVU129
 515              	.LBB71:
 173:Src/config_system.cpp ****         offset += Config_GetAreaSize(static_cast<ConfigArea_t>(i));
 516              		.loc 1 173 5 view .LVU130
 173:Src/config_system.cpp ****         offset += Config_GetAreaSize(static_cast<ConfigArea_t>(i));
 517              		.loc 1 173 22 view .LVU131
 518 001e 032B     		cmp	r3, #3
 519 0020 16D0     		beq	.L55
 520              		.loc 1 174 9 view .LVU132
ARM GAS  /tmp/ccjRNDYd.s 			page 14


 521              	.LVL46:
 522              		.loc 1 174 9 is_stmt 0 view .LVU133
 523              	.LBE71:
 123:Src/config_system.cpp ****         case CONFIG_AREA_SYSTEM:
 524              		.loc 1 123 5 is_stmt 1 view .LVU134
 525              	.LBB72:
 173:Src/config_system.cpp ****         offset += Config_GetAreaSize(static_cast<ConfigArea_t>(i));
 526              		.loc 1 173 5 view .LVU135
 173:Src/config_system.cpp ****         offset += Config_GetAreaSize(static_cast<ConfigArea_t>(i));
 527              		.loc 1 173 22 view .LVU136
 528              		.loc 1 174 16 is_stmt 0 view .LVU137
 529 0022 042B     		cmp	r3, #4
 530 0024 14BF     		ite	ne
 531 0026 4421     		movne	r1, #68
 532 0028 2C21     		moveq	r1, #44
 533              	.LVL47:
 534              	.L50:
 535              		.loc 1 174 16 view .LVU138
 536              	.LBE72:
 175:Src/config_system.cpp ****     }
 176:Src/config_system.cpp ****     
 177:Src/config_system.cpp ****     // 从Flash读取
 178:Src/config_system.cpp ****     memcpy(data, (void*)(CONFIG_FLASH_ADDR + offset), size);
 537              		.loc 1 178 44 view .LVU139
 538 002a 01F10061 		add	r1, r1, #134217728
 539 002e 01F5F031 		add	r1, r1, #122880
 540              		.loc 1 178 5 is_stmt 1 view .LVU140
 541              		.loc 1 178 11 is_stmt 0 view .LVU141
 542 0032 FFF7FEFF 		bl	memcpy
 543              	.LVL48:
 179:Src/config_system.cpp ****     
 180:Src/config_system.cpp ****     return true;
 544              		.loc 1 180 5 is_stmt 1 view .LVU142
 545              		.loc 1 180 12 is_stmt 0 view .LVU143
 546 0036 0120     		movs	r0, #1
 181:Src/config_system.cpp **** }
 547              		.loc 1 181 1 view .LVU144
 548 0038 08BD     		pop	{r3, pc}
 549              	.LVL49:
 550              	.L51:
 551              	.LCFI10:
 552              		.cfi_def_cfa_offset 0
 553              		.cfi_restore 3
 554              		.cfi_restore 14
 166:Src/config_system.cpp ****     
 555              		.loc 1 166 76 view .LVU145
 556 003a 0020     		movs	r0, #0
 557              	.LVL50:
 558              		.loc 1 181 1 view .LVU146
 559 003c 7047     		bx	lr
 560              	.LVL51:
 561              	.L53:
 562              	.LCFI11:
 563              		.cfi_def_cfa_offset 8
 564              		.cfi_offset 3, -8
 565              		.cfi_offset 14, -4
 566              	.LBB73:
ARM GAS  /tmp/ccjRNDYd.s 			page 15


 174:Src/config_system.cpp ****     }
 567              		.loc 1 174 16 view .LVU147
 568 003e 0C21     		movs	r1, #12
 569 0040 F3E7     		b	.L50
 570              	.LVL52:
 571              	.L52:
 173:Src/config_system.cpp ****         offset += Config_GetAreaSize(static_cast<ConfigArea_t>(i));
 572              		.loc 1 173 22 view .LVU148
 573 0042 0649     		ldr	r1, .L61+8
 574              	.LBE73:
 178:Src/config_system.cpp ****     
 575              		.loc 1 178 5 is_stmt 1 view .LVU149
 178:Src/config_system.cpp ****     
 576              		.loc 1 178 11 is_stmt 0 view .LVU150
 577 0044 FFF7FEFF 		bl	memcpy
 578              	.LVL53:
 180:Src/config_system.cpp **** }
 579              		.loc 1 180 5 is_stmt 1 view .LVU151
 180:Src/config_system.cpp **** }
 580              		.loc 1 180 12 is_stmt 0 view .LVU152
 581 0048 0120     		movs	r0, #1
 582              		.loc 1 181 1 view .LVU153
 583 004a 08BD     		pop	{r3, pc}
 584              	.LVL54:
 585              	.L54:
 586              	.LBB74:
 174:Src/config_system.cpp ****     }
 587              		.loc 1 174 16 view .LVU154
 588 004c 1C21     		movs	r1, #28
 589 004e ECE7     		b	.L50
 590              	.LVL55:
 591              	.L55:
 174:Src/config_system.cpp ****     }
 592              		.loc 1 174 16 view .LVU155
 593 0050 2421     		movs	r1, #36
 594 0052 EAE7     		b	.L50
 595              	.L62:
 596              		.align	2
 597              	.L61:
 598 0054 00000000 		.word	.LANCHOR0
 599 0058 00000000 		.word	.LANCHOR1
 600 005c 00E00108 		.word	134340608
 601              	.LBE74:
 602              		.cfi_endproc
 603              	.LFE138:
 605              		.section	.text.Config_Init,"ax",%progbits
 606              		.align	1
 607              		.p2align 2,,3
 608              		.global	Config_Init
 609              		.syntax unified
 610              		.thumb
 611              		.thumb_func
 612              		.fpu fpv4-sp-d16
 614              	Config_Init:
 615              	.LFB139:
 182:Src/config_system.cpp **** 
 183:Src/config_system.cpp **** /* 初始化配置系统 */
ARM GAS  /tmp/ccjRNDYd.s 			page 16


 184:Src/config_system.cpp **** bool Config_Init(void)
 185:Src/config_system.cpp **** {
 616              		.loc 1 185 1 is_stmt 1 view -0
 617              		.cfi_startproc
 618              		@ args = 0, pretend = 0, frame = 0
 619              		@ frame_needed = 0, uses_anonymous_args = 0
 186:Src/config_system.cpp ****     if(g_config_initialized) return true;
 620              		.loc 1 186 5 view .LVU157
 185:Src/config_system.cpp ****     if(g_config_initialized) return true;
 621              		.loc 1 185 1 is_stmt 0 view .LVU158
 622 0000 10B5     		push	{r4, lr}
 623              	.LCFI12:
 624              		.cfi_def_cfa_offset 8
 625              		.cfi_offset 4, -8
 626              		.cfi_offset 14, -4
 627              		.loc 1 186 5 view .LVU159
 628 0002 304C     		ldr	r4, .L86
 629 0004 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 630 0006 EBB9     		cbnz	r3, .L64
 187:Src/config_system.cpp ****     
 188:Src/config_system.cpp ****     // 尝试从Flash加载配置
 189:Src/config_system.cpp ****     ConfigStorage_t* flash_config = (ConfigStorage_t*)CONFIG_FLASH_ADDR;
 631              		.loc 1 189 5 is_stmt 1 view .LVU160
 632              	.LVL56:
 190:Src/config_system.cpp ****     
 191:Src/config_system.cpp ****     if(flash_config->header.magic == CONFIG_MAGIC &&
 633              		.loc 1 191 5 view .LVU161
 634              	.LBB93:
 635              		.loc 1 191 29 is_stmt 0 view .LVU162
 636 0008 2F4A     		ldr	r2, .L86+4
 637              		.loc 1 191 5 view .LVU163
 638 000a 3049     		ldr	r1, .L86+8
 639 000c 1068     		ldr	r0, [r2]
 640 000e 8842     		cmp	r0, r1
 641 0010 02D1     		bne	.L65
 642              		.loc 1 191 51 discriminator 1 view .LVU164
 643 0012 5268     		ldr	r2, [r2, #4]
 644 0014 012A     		cmp	r2, #1
 645 0016 17D0     		beq	.L85
 646              	.L65:
 647              	.LBE93:
 192:Src/config_system.cpp ****        flash_config->header.version == CONFIG_VERSION) {
 193:Src/config_system.cpp ****         // 验证CRC
 194:Src/config_system.cpp ****         uint32_t crc = Calculate_CRC(&flash_config->system_config,
 195:Src/config_system.cpp ****                                    sizeof(ConfigStorage_t) - sizeof(flash_config->header));
 196:Src/config_system.cpp ****         
 197:Src/config_system.cpp ****         if(crc == flash_config->header.crc) {
 198:Src/config_system.cpp ****             // 配置有效,加载
 199:Src/config_system.cpp ****             memcpy(&g_config, flash_config, sizeof(ConfigStorage_t));
 200:Src/config_system.cpp ****             g_config_initialized = true;
 201:Src/config_system.cpp ****             return true;
 202:Src/config_system.cpp ****         }
 203:Src/config_system.cpp ****     }
 204:Src/config_system.cpp ****     
 205:Src/config_system.cpp ****     // 配置无效,加载默认值
 206:Src/config_system.cpp ****     return Config_LoadDefault();
 648              		.loc 1 206 5 is_stmt 1 view .LVU165
ARM GAS  /tmp/ccjRNDYd.s 			page 17


 649              	.LBB103:
 650              	.LBI103:
 207:Src/config_system.cpp **** }
 208:Src/config_system.cpp **** 
 209:Src/config_system.cpp **** /* 保存所有配置 */
 210:Src/config_system.cpp **** bool Config_SaveAll(void)
 211:Src/config_system.cpp **** {
 212:Src/config_system.cpp ****     // 更新头部信息
 213:Src/config_system.cpp ****     g_config.header.magic = CONFIG_MAGIC;
 214:Src/config_system.cpp ****     g_config.header.version = CONFIG_VERSION;
 215:Src/config_system.cpp ****     g_config.header.crc = Calculate_CRC(&g_config.system_config,
 216:Src/config_system.cpp ****                                       sizeof(ConfigStorage_t) - sizeof(g_config.header));
 217:Src/config_system.cpp ****     
 218:Src/config_system.cpp ****     // 擦除配置扇区
 219:Src/config_system.cpp ****     if(Flash_Erase(CONFIG_FLASH_ADDR, CONFIG_FLASH_SIZE) != FLASH_OK) {
 220:Src/config_system.cpp ****         return false;
 221:Src/config_system.cpp ****     }
 222:Src/config_system.cpp ****     
 223:Src/config_system.cpp ****     // 写入整个配置
 224:Src/config_system.cpp ****     if(Flash_Write(CONFIG_FLASH_ADDR, &g_config, sizeof(ConfigStorage_t)) != FLASH_OK) {
 225:Src/config_system.cpp ****         return false;
 226:Src/config_system.cpp ****     }
 227:Src/config_system.cpp ****     
 228:Src/config_system.cpp ****     return true;
 229:Src/config_system.cpp **** }
 230:Src/config_system.cpp **** 
 231:Src/config_system.cpp **** /* 加载默认配置 */
 232:Src/config_system.cpp **** bool Config_LoadDefault(void)
 651              		.loc 1 232 6 view .LVU166
 652              	.LBB104:
 233:Src/config_system.cpp **** {
 234:Src/config_system.cpp ****     memset(&g_config, 0, sizeof(ConfigStorage_t));
 653              		.loc 1 234 5 view .LVU167
 654              		.loc 1 234 11 is_stmt 0 view .LVU168
 655 0018 2D4B     		ldr	r3, .L86+12
 656 001a 6022     		movs	r2, #96
 657 001c 0021     		movs	r1, #0
 658 001e 1846     		mov	r0, r3
 659 0020 FFF7FEFF 		bl	memset
 660              	.LVL57:
 661 0024 0346     		mov	r3, r0
 235:Src/config_system.cpp ****     
 236:Src/config_system.cpp ****     // 设置默认值
 237:Src/config_system.cpp ****     g_config.system_config.can_id = 1;
 662              		.loc 1 237 5 is_stmt 1 view .LVU169
 238:Src/config_system.cpp ****     g_config.system_config.heartbeat_rate_ms = 1000;
 239:Src/config_system.cpp ****     g_config.system_config.debug_level = 1;
 240:Src/config_system.cpp ****     
 241:Src/config_system.cpp ****     g_config.motor_config.current_limit = 60.0f;
 663              		.loc 1 241 41 is_stmt 0 view .LVU170
 664 0026 2B49     		ldr	r1, .L86+16
 665 0028 9961     		str	r1, [r3, #24]	@ float
 237:Src/config_system.cpp ****     g_config.system_config.heartbeat_rate_ms = 1000;
 666              		.loc 1 237 35 view .LVU171
 667 002a 0122     		movs	r2, #1
 242:Src/config_system.cpp ****     g_config.motor_config.voltage_limit = 24.0f;
 668              		.loc 1 242 41 view .LVU172
ARM GAS  /tmp/ccjRNDYd.s 			page 18


 669 002c 2A49     		ldr	r1, .L86+20
 243:Src/config_system.cpp ****     g_config.motor_config.temp_limit = 85.0f;
 670              		.loc 1 243 38 view .LVU173
 671 002e 2B48     		ldr	r0, .L86+24
 237:Src/config_system.cpp ****     g_config.system_config.heartbeat_rate_ms = 1000;
 672              		.loc 1 237 35 view .LVU174
 673 0030 DA60     		str	r2, [r3, #12]
 238:Src/config_system.cpp ****     g_config.system_config.debug_level = 1;
 674              		.loc 1 238 5 is_stmt 1 view .LVU175
 239:Src/config_system.cpp ****     
 675              		.loc 1 239 40 is_stmt 0 view .LVU176
 676 0032 1A75     		strb	r2, [r3, #20]
 242:Src/config_system.cpp ****     g_config.motor_config.temp_limit = 85.0f;
 677              		.loc 1 242 41 view .LVU177
 678 0034 D961     		str	r1, [r3, #28]	@ float
 244:Src/config_system.cpp ****     g_config.motor_config.pole_pairs = 7;
 245:Src/config_system.cpp ****     
 246:Src/config_system.cpp ****     // ... 设置其他默认值 ...
 247:Src/config_system.cpp ****     
 248:Src/config_system.cpp ****     g_config_initialized = true;
 679              		.loc 1 248 26 view .LVU178
 680 0036 2270     		strb	r2, [r4]
 244:Src/config_system.cpp ****     g_config.motor_config.pole_pairs = 7;
 681              		.loc 1 244 38 view .LVU179
 682 0038 0721     		movs	r1, #7
 238:Src/config_system.cpp ****     g_config.system_config.debug_level = 1;
 683              		.loc 1 238 46 view .LVU180
 684 003a 4FF47A72 		mov	r2, #1000
 243:Src/config_system.cpp ****     g_config.motor_config.pole_pairs = 7;
 685              		.loc 1 243 38 view .LVU181
 686 003e 1862     		str	r0, [r3, #32]	@ float
 244:Src/config_system.cpp ****     g_config.motor_config.pole_pairs = 7;
 687              		.loc 1 244 38 view .LVU182
 688 0040 9984     		strh	r1, [r3, #36]	@ movhi
 238:Src/config_system.cpp ****     g_config.system_config.debug_level = 1;
 689              		.loc 1 238 46 view .LVU183
 690 0042 1A61     		str	r2, [r3, #16]
 239:Src/config_system.cpp ****     
 691              		.loc 1 239 5 is_stmt 1 view .LVU184
 241:Src/config_system.cpp ****     g_config.motor_config.voltage_limit = 24.0f;
 692              		.loc 1 241 5 view .LVU185
 242:Src/config_system.cpp ****     g_config.motor_config.temp_limit = 85.0f;
 693              		.loc 1 242 5 view .LVU186
 243:Src/config_system.cpp ****     g_config.motor_config.pole_pairs = 7;
 694              		.loc 1 243 5 view .LVU187
 244:Src/config_system.cpp ****     
 695              		.loc 1 244 5 view .LVU188
 696              		.loc 1 248 5 view .LVU189
 249:Src/config_system.cpp ****     return true;
 697              		.loc 1 249 5 view .LVU190
 698              	.LVL58:
 699              	.L64:
 700              		.loc 1 249 5 is_stmt 0 view .LVU191
 701              	.LBE104:
 702              	.LBE103:
 207:Src/config_system.cpp **** 
 703              		.loc 1 207 1 view .LVU192
ARM GAS  /tmp/ccjRNDYd.s 			page 19


 704 0044 0120     		movs	r0, #1
 705 0046 10BD     		pop	{r4, pc}
 706              	.LVL59:
 707              	.L85:
 708              	.LBB105:
 207:Src/config_system.cpp **** 
 709              		.loc 1 207 1 view .LVU193
 710 0048 2549     		ldr	r1, .L86+28
 711              	.LBB94:
 712              	.LBB95:
 713              	.LBB96:
 714              	.LBB97:
  90:Src/config_system.cpp ****         crc = crc ^ bytes[i];
 715              		.loc 1 90 27 view .LVU194
 716 004a 2648     		ldr	r0, .L86+32
 717              	.LBB98:
 718              	.LBB99:
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 719              		.loc 1 93 29 view .LVU195
 720 004c 4AF2010C 		movw	ip, #40961
 721              	.L82:
 722              	.LVL60:
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 723              		.loc 1 93 29 view .LVU196
 724              	.LBE99:
  91:Src/config_system.cpp ****         for(int j = 0; j < 8; j++) {
 725              		.loc 1 91 9 is_stmt 1 view .LVU197
  91:Src/config_system.cpp ****         for(int j = 0; j < 8; j++) {
 726              		.loc 1 91 28 is_stmt 0 view .LVU198
 727 0050 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
  91:Src/config_system.cpp ****         for(int j = 0; j < 8; j++) {
 728              		.loc 1 91 13 view .LVU199
 729 0052 5340     		eors	r3, r3, r2
 730              	.LVL61:
  92:Src/config_system.cpp ****             if(crc & 1) crc = (crc >> 1) ^ 0xA001;
 731              		.loc 1 92 9 is_stmt 1 view .LVU200
 732              	.LBB100:
  92:Src/config_system.cpp ****             if(crc & 1) crc = (crc >> 1) ^ 0xA001;
 733              		.loc 1 92 26 view .LVU201
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 734              		.loc 1 93 13 view .LVU202
 735 0054 DA07     		lsls	r2, r3, #31
  94:Src/config_system.cpp ****         }
 736              		.loc 1 94 18 view .LVU203
  94:Src/config_system.cpp ****         }
 737              		.loc 1 94 22 is_stmt 0 view .LVU204
 738 0056 54BF     		ite	pl
 739 0058 5B08     		lsrpl	r3, r3, #1
 740              	.LVL62:
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 741              		.loc 1 93 25 is_stmt 1 view .LVU205
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 742              		.loc 1 93 29 is_stmt 0 view .LVU206
 743 005a 8CEA5303 		eormi	r3, ip, r3, lsr #1
 744              	.LVL63:
  92:Src/config_system.cpp ****             if(crc & 1) crc = (crc >> 1) ^ 0xA001;
 745              		.loc 1 92 9 is_stmt 1 view .LVU207
ARM GAS  /tmp/ccjRNDYd.s 			page 20


  92:Src/config_system.cpp ****             if(crc & 1) crc = (crc >> 1) ^ 0xA001;
 746              		.loc 1 92 26 view .LVU208
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 747              		.loc 1 93 13 view .LVU209
 748 005e DA07     		lsls	r2, r3, #31
  94:Src/config_system.cpp ****         }
 749              		.loc 1 94 18 view .LVU210
  94:Src/config_system.cpp ****         }
 750              		.loc 1 94 22 is_stmt 0 view .LVU211
 751 0060 54BF     		ite	pl
 752 0062 5B08     		lsrpl	r3, r3, #1
 753              	.LVL64:
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 754              		.loc 1 93 25 is_stmt 1 view .LVU212
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 755              		.loc 1 93 29 is_stmt 0 view .LVU213
 756 0064 8CEA5303 		eormi	r3, ip, r3, lsr #1
 757              	.LVL65:
  92:Src/config_system.cpp ****             if(crc & 1) crc = (crc >> 1) ^ 0xA001;
 758              		.loc 1 92 9 is_stmt 1 view .LVU214
  92:Src/config_system.cpp ****             if(crc & 1) crc = (crc >> 1) ^ 0xA001;
 759              		.loc 1 92 26 view .LVU215
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 760              		.loc 1 93 13 view .LVU216
 761 0068 DA07     		lsls	r2, r3, #31
  94:Src/config_system.cpp ****         }
 762              		.loc 1 94 18 view .LVU217
  94:Src/config_system.cpp ****         }
 763              		.loc 1 94 22 is_stmt 0 view .LVU218
 764 006a 54BF     		ite	pl
 765 006c 5B08     		lsrpl	r3, r3, #1
 766              	.LVL66:
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 767              		.loc 1 93 25 is_stmt 1 view .LVU219
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 768              		.loc 1 93 29 is_stmt 0 view .LVU220
 769 006e 8CEA5303 		eormi	r3, ip, r3, lsr #1
 770              	.LVL67:
  92:Src/config_system.cpp ****             if(crc & 1) crc = (crc >> 1) ^ 0xA001;
 771              		.loc 1 92 9 is_stmt 1 view .LVU221
  92:Src/config_system.cpp ****             if(crc & 1) crc = (crc >> 1) ^ 0xA001;
 772              		.loc 1 92 26 view .LVU222
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 773              		.loc 1 93 13 view .LVU223
 774 0072 DA07     		lsls	r2, r3, #31
  94:Src/config_system.cpp ****         }
 775              		.loc 1 94 18 view .LVU224
  94:Src/config_system.cpp ****         }
 776              		.loc 1 94 22 is_stmt 0 view .LVU225
 777 0074 54BF     		ite	pl
 778 0076 5B08     		lsrpl	r3, r3, #1
 779              	.LVL68:
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 780              		.loc 1 93 25 is_stmt 1 view .LVU226
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 781              		.loc 1 93 29 is_stmt 0 view .LVU227
 782 0078 8CEA5303 		eormi	r3, ip, r3, lsr #1
ARM GAS  /tmp/ccjRNDYd.s 			page 21


 783              	.LVL69:
  92:Src/config_system.cpp ****             if(crc & 1) crc = (crc >> 1) ^ 0xA001;
 784              		.loc 1 92 9 is_stmt 1 view .LVU228
  92:Src/config_system.cpp ****             if(crc & 1) crc = (crc >> 1) ^ 0xA001;
 785              		.loc 1 92 26 view .LVU229
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 786              		.loc 1 93 13 view .LVU230
 787 007c DA07     		lsls	r2, r3, #31
  94:Src/config_system.cpp ****         }
 788              		.loc 1 94 18 view .LVU231
  94:Src/config_system.cpp ****         }
 789              		.loc 1 94 22 is_stmt 0 view .LVU232
 790 007e 54BF     		ite	pl
 791 0080 5B08     		lsrpl	r3, r3, #1
 792              	.LVL70:
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 793              		.loc 1 93 25 is_stmt 1 view .LVU233
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 794              		.loc 1 93 29 is_stmt 0 view .LVU234
 795 0082 8CEA5303 		eormi	r3, ip, r3, lsr #1
 796              	.LVL71:
  92:Src/config_system.cpp ****             if(crc & 1) crc = (crc >> 1) ^ 0xA001;
 797              		.loc 1 92 9 is_stmt 1 view .LVU235
  92:Src/config_system.cpp ****             if(crc & 1) crc = (crc >> 1) ^ 0xA001;
 798              		.loc 1 92 26 view .LVU236
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 799              		.loc 1 93 13 view .LVU237
 800 0086 DA07     		lsls	r2, r3, #31
  94:Src/config_system.cpp ****         }
 801              		.loc 1 94 18 view .LVU238
  94:Src/config_system.cpp ****         }
 802              		.loc 1 94 22 is_stmt 0 view .LVU239
 803 0088 54BF     		ite	pl
 804 008a 5B08     		lsrpl	r3, r3, #1
 805              	.LVL72:
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 806              		.loc 1 93 25 is_stmt 1 view .LVU240
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 807              		.loc 1 93 29 is_stmt 0 view .LVU241
 808 008c 8CEA5303 		eormi	r3, ip, r3, lsr #1
 809              	.LVL73:
  92:Src/config_system.cpp ****             if(crc & 1) crc = (crc >> 1) ^ 0xA001;
 810              		.loc 1 92 9 is_stmt 1 view .LVU242
  92:Src/config_system.cpp ****             if(crc & 1) crc = (crc >> 1) ^ 0xA001;
 811              		.loc 1 92 26 view .LVU243
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 812              		.loc 1 93 13 view .LVU244
 813 0090 DA07     		lsls	r2, r3, #31
  94:Src/config_system.cpp ****         }
 814              		.loc 1 94 18 view .LVU245
  94:Src/config_system.cpp ****         }
 815              		.loc 1 94 22 is_stmt 0 view .LVU246
 816 0092 54BF     		ite	pl
 817 0094 5B08     		lsrpl	r3, r3, #1
 818              	.LVL74:
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 819              		.loc 1 93 25 is_stmt 1 view .LVU247
ARM GAS  /tmp/ccjRNDYd.s 			page 22


  93:Src/config_system.cpp ****             else crc = crc >> 1;
 820              		.loc 1 93 29 is_stmt 0 view .LVU248
 821 0096 8CEA5303 		eormi	r3, ip, r3, lsr #1
 822              	.LVL75:
  92:Src/config_system.cpp ****             if(crc & 1) crc = (crc >> 1) ^ 0xA001;
 823              		.loc 1 92 9 is_stmt 1 view .LVU249
  92:Src/config_system.cpp ****             if(crc & 1) crc = (crc >> 1) ^ 0xA001;
 824              		.loc 1 92 26 view .LVU250
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 825              		.loc 1 93 13 view .LVU251
 826 009a DA07     		lsls	r2, r3, #31
  94:Src/config_system.cpp ****         }
 827              		.loc 1 94 18 view .LVU252
 828              	.LBE100:
 829              	.LBE98:
  90:Src/config_system.cpp ****         crc = crc ^ bytes[i];
 830              		.loc 1 90 27 is_stmt 0 view .LVU253
 831 009c 01F10101 		add	r1, r1, #1
 832              	.LVL76:
 833              	.LBB102:
 834              	.LBB101:
  94:Src/config_system.cpp ****         }
 835              		.loc 1 94 22 view .LVU254
 836 00a0 54BF     		ite	pl
 837 00a2 5B08     		lsrpl	r3, r3, #1
 838              	.LVL77:
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 839              		.loc 1 93 25 is_stmt 1 view .LVU255
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 840              		.loc 1 93 29 is_stmt 0 view .LVU256
 841 00a4 8CEA5303 		eormi	r3, ip, r3, lsr #1
 842              	.LVL78:
  92:Src/config_system.cpp ****             if(crc & 1) crc = (crc >> 1) ^ 0xA001;
 843              		.loc 1 92 9 is_stmt 1 view .LVU257
  92:Src/config_system.cpp ****             if(crc & 1) crc = (crc >> 1) ^ 0xA001;
 844              		.loc 1 92 26 view .LVU258
 845              	.LBE101:
 846              	.LBE102:
  90:Src/config_system.cpp ****         crc = crc ^ bytes[i];
 847              		.loc 1 90 5 view .LVU259
  90:Src/config_system.cpp ****         crc = crc ^ bytes[i];
 848              		.loc 1 90 27 view .LVU260
 849 00a8 8142     		cmp	r1, r0
 850 00aa D1D1     		bne	.L82
 851              	.LBE97:
  97:Src/config_system.cpp **** }
 852              		.loc 1 97 5 view .LVU261
 853              	.LVL79:
  97:Src/config_system.cpp **** }
 854              		.loc 1 97 5 is_stmt 0 view .LVU262
 855              	.LBE96:
 856              	.LBE95:
 197:Src/config_system.cpp ****             // 配置有效,加载
 857              		.loc 1 197 9 is_stmt 1 view .LVU263
 197:Src/config_system.cpp ****             // 配置有效,加载
 858              		.loc 1 197 40 is_stmt 0 view .LVU264
 859 00ac 0649     		ldr	r1, .L86+4
ARM GAS  /tmp/ccjRNDYd.s 			page 23


 197:Src/config_system.cpp ****             // 配置有效,加载
 860              		.loc 1 197 9 view .LVU265
 861 00ae 8A68     		ldr	r2, [r1, #8]
 862 00b0 9A42     		cmp	r2, r3
 863 00b2 B1D1     		bne	.L65
 864              	.LBE94:
 865              	.LBE105:
 866              	.LBB106:
 867              	.LBI106:
 184:Src/config_system.cpp **** {
 868              		.loc 1 184 6 is_stmt 1 view .LVU266
 869              	.LBB107:
 870              	.LBB108:
 199:Src/config_system.cpp ****             g_config_initialized = true;
 871              		.loc 1 199 13 view .LVU267
 199:Src/config_system.cpp ****             g_config_initialized = true;
 872              		.loc 1 199 19 is_stmt 0 view .LVU268
 873 00b4 0648     		ldr	r0, .L86+12
 874 00b6 6022     		movs	r2, #96
 875 00b8 FFF7FEFF 		bl	memcpy
 876              	.LVL80:
 200:Src/config_system.cpp ****             return true;
 877              		.loc 1 200 13 is_stmt 1 view .LVU269
 200:Src/config_system.cpp ****             return true;
 878              		.loc 1 200 34 is_stmt 0 view .LVU270
 879 00bc 0123     		movs	r3, #1
 880 00be 2370     		strb	r3, [r4]
 201:Src/config_system.cpp ****         }
 881              		.loc 1 201 13 is_stmt 1 view .LVU271
 882 00c0 C0E7     		b	.L64
 883              	.L87:
 884 00c2 00BF     		.align	2
 885              	.L86:
 886 00c4 00000000 		.word	.LANCHOR2
 887 00c8 00E00108 		.word	134340608
 888 00cc 3412CDAB 		.word	-1412623820
 889 00d0 00000000 		.word	.LANCHOR3
 890 00d4 00007042 		.word	1114636288
 891 00d8 0000C041 		.word	1103101952
 892 00dc 0000AA42 		.word	1118437376
 893 00e0 0CE00108 		.word	134340620
 894 00e4 60E00108 		.word	134340704
 895              	.LBE108:
 896              	.LBE107:
 897              	.LBE106:
 898              		.cfi_endproc
 899              	.LFE139:
 901              		.section	.text.Config_SaveAll,"ax",%progbits
 902              		.align	1
 903              		.p2align 2,,3
 904              		.global	Config_SaveAll
 905              		.syntax unified
 906              		.thumb
 907              		.thumb_func
 908              		.fpu fpv4-sp-d16
 910              	Config_SaveAll:
 911              	.LFB140:
ARM GAS  /tmp/ccjRNDYd.s 			page 24


 211:Src/config_system.cpp ****     // 更新头部信息
 912              		.loc 1 211 1 view -0
 913              		.cfi_startproc
 914              		@ args = 0, pretend = 0, frame = 24
 915              		@ frame_needed = 0, uses_anonymous_args = 0
 213:Src/config_system.cpp ****     g_config.header.version = CONFIG_VERSION;
 916              		.loc 1 213 5 view .LVU273
 211:Src/config_system.cpp ****     // 更新头部信息
 917              		.loc 1 211 1 is_stmt 0 view .LVU274
 918 0000 70B5     		push	{r4, r5, r6, lr}
 919              	.LCFI13:
 920              		.cfi_def_cfa_offset 16
 921              		.cfi_offset 4, -16
 922              		.cfi_offset 5, -12
 923              		.cfi_offset 6, -8
 924              		.cfi_offset 14, -4
 214:Src/config_system.cpp ****     g_config.header.crc = Calculate_CRC(&g_config.system_config,
 925              		.loc 1 214 29 view .LVU275
 926 0002 334A     		ldr	r2, .L115
 213:Src/config_system.cpp ****     g_config.header.version = CONFIG_VERSION;
 927              		.loc 1 213 27 view .LVU276
 928 0004 334D     		ldr	r5, .L115+4
 214:Src/config_system.cpp ****     g_config.header.crc = Calculate_CRC(&g_config.system_config,
 929              		.loc 1 214 29 view .LVU277
 930 0006 0123     		movs	r3, #1
 931 0008 C5E90023 		strd	r2, r3, [r5]
 215:Src/config_system.cpp ****                                       sizeof(ConfigStorage_t) - sizeof(g_config.header));
 932              		.loc 1 215 5 is_stmt 1 view .LVU278
 933              	.LVL81:
 934              	.LBB122:
 935              	.LBI122:
  85:Src/config_system.cpp **** {
 936              		.loc 1 85 17 view .LVU279
 937              	.LBB123:
  87:Src/config_system.cpp ****     const uint8_t* bytes = (const uint8_t*)data;
 938              		.loc 1 87 5 view .LVU280
  88:Src/config_system.cpp ****     
 939              		.loc 1 88 5 view .LVU281
  90:Src/config_system.cpp ****         crc = crc ^ bytes[i];
 940              		.loc 1 90 5 view .LVU282
 941              	.LBB124:
  90:Src/config_system.cpp ****         crc = crc ^ bytes[i];
 942              		.loc 1 90 27 view .LVU283
 943              	.LBE124:
 944              	.LBE123:
 945              	.LBE122:
 211:Src/config_system.cpp ****     // 更新头部信息
 946              		.loc 1 211 1 is_stmt 0 view .LVU284
 947 000c 86B0     		sub	sp, sp, #24
 948              	.LCFI14:
 949              		.cfi_def_cfa_offset 40
 950 000e 05F10B00 		add	r0, r5, #11
 951 0012 05F15F04 		add	r4, r5, #95
 952              	.LBB130:
 953              	.LBB129:
  87:Src/config_system.cpp ****     const uint8_t* bytes = (const uint8_t*)data;
 954              		.loc 1 87 14 view .LVU285
ARM GAS  /tmp/ccjRNDYd.s 			page 25


 955 0016 0023     		movs	r3, #0
 956              	.LBB128:
 957              	.LBB125:
 958              	.LBB126:
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 959              		.loc 1 93 29 view .LVU286
 960 0018 4AF20101 		movw	r1, #40961
 961              	.LVL82:
 962              	.L105:
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 963              		.loc 1 93 29 view .LVU287
 964              	.LBE126:
  91:Src/config_system.cpp ****         for(int j = 0; j < 8; j++) {
 965              		.loc 1 91 9 is_stmt 1 view .LVU288
  91:Src/config_system.cpp ****         for(int j = 0; j < 8; j++) {
 966              		.loc 1 91 28 is_stmt 0 view .LVU289
 967 001c 10F8012F 		ldrb	r2, [r0, #1]!	@ zero_extendqisi2
 968              	.LVL83:
  91:Src/config_system.cpp ****         for(int j = 0; j < 8; j++) {
 969              		.loc 1 91 13 view .LVU290
 970 0020 5340     		eors	r3, r3, r2
 971              	.LVL84:
  92:Src/config_system.cpp ****             if(crc & 1) crc = (crc >> 1) ^ 0xA001;
 972              		.loc 1 92 9 is_stmt 1 view .LVU291
 973              	.LBB127:
  92:Src/config_system.cpp ****             if(crc & 1) crc = (crc >> 1) ^ 0xA001;
 974              		.loc 1 92 26 view .LVU292
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 975              		.loc 1 93 13 view .LVU293
 976 0022 DE07     		lsls	r6, r3, #31
  94:Src/config_system.cpp ****         }
 977              		.loc 1 94 18 view .LVU294
  94:Src/config_system.cpp ****         }
 978              		.loc 1 94 22 is_stmt 0 view .LVU295
 979 0024 54BF     		ite	pl
 980 0026 5B08     		lsrpl	r3, r3, #1
 981              	.LVL85:
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 982              		.loc 1 93 25 is_stmt 1 view .LVU296
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 983              		.loc 1 93 29 is_stmt 0 view .LVU297
 984 0028 81EA5303 		eormi	r3, r1, r3, lsr #1
 985              	.LVL86:
  92:Src/config_system.cpp ****             if(crc & 1) crc = (crc >> 1) ^ 0xA001;
 986              		.loc 1 92 9 is_stmt 1 view .LVU298
  92:Src/config_system.cpp ****             if(crc & 1) crc = (crc >> 1) ^ 0xA001;
 987              		.loc 1 92 26 view .LVU299
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 988              		.loc 1 93 13 view .LVU300
 989 002c DA07     		lsls	r2, r3, #31
  94:Src/config_system.cpp ****         }
 990              		.loc 1 94 18 view .LVU301
  94:Src/config_system.cpp ****         }
 991              		.loc 1 94 22 is_stmt 0 view .LVU302
 992 002e 54BF     		ite	pl
 993 0030 5B08     		lsrpl	r3, r3, #1
 994              	.LVL87:
ARM GAS  /tmp/ccjRNDYd.s 			page 26


  93:Src/config_system.cpp ****             else crc = crc >> 1;
 995              		.loc 1 93 25 is_stmt 1 view .LVU303
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 996              		.loc 1 93 29 is_stmt 0 view .LVU304
 997 0032 81EA5303 		eormi	r3, r1, r3, lsr #1
 998              	.LVL88:
  92:Src/config_system.cpp ****             if(crc & 1) crc = (crc >> 1) ^ 0xA001;
 999              		.loc 1 92 9 is_stmt 1 view .LVU305
  92:Src/config_system.cpp ****             if(crc & 1) crc = (crc >> 1) ^ 0xA001;
 1000              		.loc 1 92 26 view .LVU306
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 1001              		.loc 1 93 13 view .LVU307
 1002 0036 DE07     		lsls	r6, r3, #31
  94:Src/config_system.cpp ****         }
 1003              		.loc 1 94 18 view .LVU308
  94:Src/config_system.cpp ****         }
 1004              		.loc 1 94 22 is_stmt 0 view .LVU309
 1005 0038 54BF     		ite	pl
 1006 003a 5B08     		lsrpl	r3, r3, #1
 1007              	.LVL89:
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 1008              		.loc 1 93 25 is_stmt 1 view .LVU310
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 1009              		.loc 1 93 29 is_stmt 0 view .LVU311
 1010 003c 81EA5303 		eormi	r3, r1, r3, lsr #1
 1011              	.LVL90:
  92:Src/config_system.cpp ****             if(crc & 1) crc = (crc >> 1) ^ 0xA001;
 1012              		.loc 1 92 9 is_stmt 1 view .LVU312
  92:Src/config_system.cpp ****             if(crc & 1) crc = (crc >> 1) ^ 0xA001;
 1013              		.loc 1 92 26 view .LVU313
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 1014              		.loc 1 93 13 view .LVU314
 1015 0040 DA07     		lsls	r2, r3, #31
  94:Src/config_system.cpp ****         }
 1016              		.loc 1 94 18 view .LVU315
  94:Src/config_system.cpp ****         }
 1017              		.loc 1 94 22 is_stmt 0 view .LVU316
 1018 0042 54BF     		ite	pl
 1019 0044 5B08     		lsrpl	r3, r3, #1
 1020              	.LVL91:
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 1021              		.loc 1 93 25 is_stmt 1 view .LVU317
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 1022              		.loc 1 93 29 is_stmt 0 view .LVU318
 1023 0046 81EA5303 		eormi	r3, r1, r3, lsr #1
 1024              	.LVL92:
  92:Src/config_system.cpp ****             if(crc & 1) crc = (crc >> 1) ^ 0xA001;
 1025              		.loc 1 92 9 is_stmt 1 view .LVU319
  92:Src/config_system.cpp ****             if(crc & 1) crc = (crc >> 1) ^ 0xA001;
 1026              		.loc 1 92 26 view .LVU320
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 1027              		.loc 1 93 13 view .LVU321
 1028 004a DE07     		lsls	r6, r3, #31
  94:Src/config_system.cpp ****         }
 1029              		.loc 1 94 18 view .LVU322
  94:Src/config_system.cpp ****         }
 1030              		.loc 1 94 22 is_stmt 0 view .LVU323
ARM GAS  /tmp/ccjRNDYd.s 			page 27


 1031 004c 54BF     		ite	pl
 1032 004e 5B08     		lsrpl	r3, r3, #1
 1033              	.LVL93:
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 1034              		.loc 1 93 25 is_stmt 1 view .LVU324
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 1035              		.loc 1 93 29 is_stmt 0 view .LVU325
 1036 0050 81EA5303 		eormi	r3, r1, r3, lsr #1
 1037              	.LVL94:
  92:Src/config_system.cpp ****             if(crc & 1) crc = (crc >> 1) ^ 0xA001;
 1038              		.loc 1 92 9 is_stmt 1 view .LVU326
  92:Src/config_system.cpp ****             if(crc & 1) crc = (crc >> 1) ^ 0xA001;
 1039              		.loc 1 92 26 view .LVU327
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 1040              		.loc 1 93 13 view .LVU328
 1041 0054 DA07     		lsls	r2, r3, #31
  94:Src/config_system.cpp ****         }
 1042              		.loc 1 94 18 view .LVU329
  94:Src/config_system.cpp ****         }
 1043              		.loc 1 94 22 is_stmt 0 view .LVU330
 1044 0056 54BF     		ite	pl
 1045 0058 5B08     		lsrpl	r3, r3, #1
 1046              	.LVL95:
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 1047              		.loc 1 93 25 is_stmt 1 view .LVU331
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 1048              		.loc 1 93 29 is_stmt 0 view .LVU332
 1049 005a 81EA5303 		eormi	r3, r1, r3, lsr #1
 1050              	.LVL96:
  92:Src/config_system.cpp ****             if(crc & 1) crc = (crc >> 1) ^ 0xA001;
 1051              		.loc 1 92 9 is_stmt 1 view .LVU333
  92:Src/config_system.cpp ****             if(crc & 1) crc = (crc >> 1) ^ 0xA001;
 1052              		.loc 1 92 26 view .LVU334
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 1053              		.loc 1 93 13 view .LVU335
 1054 005e DE07     		lsls	r6, r3, #31
  94:Src/config_system.cpp ****         }
 1055              		.loc 1 94 18 view .LVU336
  94:Src/config_system.cpp ****         }
 1056              		.loc 1 94 22 is_stmt 0 view .LVU337
 1057 0060 54BF     		ite	pl
 1058 0062 5B08     		lsrpl	r3, r3, #1
 1059              	.LVL97:
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 1060              		.loc 1 93 25 is_stmt 1 view .LVU338
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 1061              		.loc 1 93 29 is_stmt 0 view .LVU339
 1062 0064 81EA5303 		eormi	r3, r1, r3, lsr #1
 1063              	.LVL98:
  92:Src/config_system.cpp ****             if(crc & 1) crc = (crc >> 1) ^ 0xA001;
 1064              		.loc 1 92 9 is_stmt 1 view .LVU340
  92:Src/config_system.cpp ****             if(crc & 1) crc = (crc >> 1) ^ 0xA001;
 1065              		.loc 1 92 26 view .LVU341
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 1066              		.loc 1 93 13 view .LVU342
 1067 0068 DA07     		lsls	r2, r3, #31
  94:Src/config_system.cpp ****         }
ARM GAS  /tmp/ccjRNDYd.s 			page 28


 1068              		.loc 1 94 18 view .LVU343
  94:Src/config_system.cpp ****         }
 1069              		.loc 1 94 22 is_stmt 0 view .LVU344
 1070 006a 54BF     		ite	pl
 1071 006c 5B08     		lsrpl	r3, r3, #1
 1072              	.LVL99:
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 1073              		.loc 1 93 25 is_stmt 1 view .LVU345
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 1074              		.loc 1 93 29 is_stmt 0 view .LVU346
 1075 006e 81EA5303 		eormi	r3, r1, r3, lsr #1
 1076              	.LVL100:
  92:Src/config_system.cpp ****             if(crc & 1) crc = (crc >> 1) ^ 0xA001;
 1077              		.loc 1 92 9 is_stmt 1 view .LVU347
  92:Src/config_system.cpp ****             if(crc & 1) crc = (crc >> 1) ^ 0xA001;
 1078              		.loc 1 92 26 view .LVU348
 1079              	.LBE127:
 1080              	.LBE125:
  90:Src/config_system.cpp ****         crc = crc ^ bytes[i];
 1081              		.loc 1 90 5 view .LVU349
  90:Src/config_system.cpp ****         crc = crc ^ bytes[i];
 1082              		.loc 1 90 27 view .LVU350
 1083 0072 8442     		cmp	r4, r0
 1084 0074 D2D1     		bne	.L105
 1085              	.LBE128:
  97:Src/config_system.cpp **** }
 1086              		.loc 1 97 5 view .LVU351
 1087              	.LVL101:
  97:Src/config_system.cpp **** }
 1088              		.loc 1 97 5 is_stmt 0 view .LVU352
 1089              	.LBE129:
 1090              	.LBE130:
 215:Src/config_system.cpp ****                                       sizeof(ConfigStorage_t) - sizeof(g_config.header));
 1091              		.loc 1 215 25 view .LVU353
 1092 0076 AB60     		str	r3, [r5, #8]
 219:Src/config_system.cpp ****         return false;
 1093              		.loc 1 219 5 is_stmt 1 view .LVU354
 1094              	.LVL102:
 1095              	.LBB131:
 1096              	.LBI131:
  56:Src/config_system.cpp **** {
 1097              		.loc 1 56 15 view .LVU355
 1098              	.LBB132:
  58:Src/config_system.cpp ****     uint32_t num_pages = (size + FLASH_PAGE_SIZE - 1) / FLASH_PAGE_SIZE;
 1099              		.loc 1 58 5 view .LVU356
  59:Src/config_system.cpp ****     
 1100              		.loc 1 59 5 view .LVU357
  61:Src/config_system.cpp **** 
 1101              		.loc 1 61 5 view .LVU358
  63:Src/config_system.cpp ****         .TypeErase = FLASH_TYPEERASE_PAGES,
 1102              		.loc 1 63 28 is_stmt 0 view .LVU359
 1103 0078 0024     		movs	r4, #0
  61:Src/config_system.cpp **** 
 1104              		.loc 1 61 21 view .LVU360
 1105 007a FFF7FEFF 		bl	HAL_FLASH_Unlock
 1106              	.LVL103:
  63:Src/config_system.cpp ****         .TypeErase = FLASH_TYPEERASE_PAGES,
ARM GAS  /tmp/ccjRNDYd.s 			page 29


 1107              		.loc 1 63 5 is_stmt 1 view .LVU361
  63:Src/config_system.cpp ****         .TypeErase = FLASH_TYPEERASE_PAGES,
 1108              		.loc 1 63 28 is_stmt 0 view .LVU362
 1109 007e 0120     		movs	r0, #1
 1110 0080 CDE90240 		strd	r4, r0, [sp, #8]
  68:Src/config_system.cpp **** 
 1111              		.loc 1 68 5 view .LVU363
 1112 0084 3C22     		movs	r2, #60
 1113 0086 0223     		movs	r3, #2
  71:Src/config_system.cpp ****     
 1114              		.loc 1 71 49 view .LVU364
 1115 0088 01A9     		add	r1, sp, #4
 1116 008a 02A8     		add	r0, sp, #8
  68:Src/config_system.cpp **** 
 1117              		.loc 1 68 5 view .LVU365
 1118 008c 0492     		str	r2, [sp, #16]
 1119 008e 0593     		str	r3, [sp, #20]
  70:Src/config_system.cpp ****     HAL_StatusTypeDef status = HAL_FLASHEx_Erase(&erase_init, &page_error);
 1120              		.loc 1 70 5 is_stmt 1 view .LVU366
  71:Src/config_system.cpp ****     
 1121              		.loc 1 71 5 view .LVU367
  71:Src/config_system.cpp ****     
 1122              		.loc 1 71 49 is_stmt 0 view .LVU368
 1123 0090 FFF7FEFF 		bl	HAL_FLASHEx_Erase
 1124              	.LVL104:
 1125 0094 0546     		mov	r5, r0
 1126              	.LVL105:
  73:Src/config_system.cpp ****     
 1127              		.loc 1 73 5 is_stmt 1 view .LVU369
  73:Src/config_system.cpp ****     
 1128              		.loc 1 73 19 is_stmt 0 view .LVU370
 1129 0096 FFF7FEFF 		bl	HAL_FLASH_Lock
 1130              	.LVL106:
  75:Src/config_system.cpp **** }
 1131              		.loc 1 75 5 is_stmt 1 view .LVU371
  75:Src/config_system.cpp **** }
 1132              		.loc 1 75 31 is_stmt 0 view .LVU372
 1133 009a B5B9     		cbnz	r5, .L113
 1134              	.LVL107:
  75:Src/config_system.cpp **** }
 1135              		.loc 1 75 31 view .LVU373
 1136              	.LBE132:
 1137              	.LBE131:
 224:Src/config_system.cpp ****         return false;
 1138              		.loc 1 224 5 is_stmt 1 view .LVU374
 1139              	.LBB133:
 1140              	.LBI133:
  18:Src/config_system.cpp **** {
 1141              		.loc 1 18 15 view .LVU375
 1142              	.LBB134:
  21:Src/config_system.cpp ****         return FLASH_ERROR_ALIGN;
 1143              		.loc 1 21 5 view .LVU376
 1144              	.LBB135:
 1145              	.LBI135:
  18:Src/config_system.cpp **** {
 1146              		.loc 1 18 15 view .LVU377
 1147              	.LBB136:
ARM GAS  /tmp/ccjRNDYd.s 			page 30


  25:Src/config_system.cpp **** 
 1148              		.loc 1 25 5 view .LVU378
  25:Src/config_system.cpp **** 
 1149              		.loc 1 25 21 is_stmt 0 view .LVU379
 1150 009c FFF7FEFF 		bl	HAL_FLASH_Unlock
 1151              	.LVL108:
  27:Src/config_system.cpp ****     uint32_t remaining = size;
 1152              		.loc 1 27 5 is_stmt 1 view .LVU380
  28:Src/config_system.cpp ****     uint32_t dest = address;
 1153              		.loc 1 28 5 view .LVU381
  29:Src/config_system.cpp **** 
 1154              		.loc 1 29 5 view .LVU382
  32:Src/config_system.cpp ****         if (HAL_FLASH_Program(FLASH_TYPEPROGRAM_DOUBLEWORD, dest, *src) != HAL_OK) {
 1155              		.loc 1 32 5 view .LVU383
  32:Src/config_system.cpp ****         if (HAL_FLASH_Program(FLASH_TYPEPROGRAM_DOUBLEWORD, dest, *src) != HAL_OK) {
 1156              		.loc 1 32 22 view .LVU384
  29:Src/config_system.cpp **** 
 1157              		.loc 1 29 14 is_stmt 0 view .LVU385
 1158 00a0 0D4C     		ldr	r4, .L115+8
  27:Src/config_system.cpp ****     uint32_t remaining = size;
 1159              		.loc 1 27 21 view .LVU386
 1160 00a2 0C4D     		ldr	r5, .L115+4
  32:Src/config_system.cpp ****         if (HAL_FLASH_Program(FLASH_TYPEPROGRAM_DOUBLEWORD, dest, *src) != HAL_OK) {
 1161              		.loc 1 32 22 view .LVU387
 1162 00a4 0D4E     		ldr	r6, .L115+12
 1163              	.LVL109:
 1164              	.L107:
  33:Src/config_system.cpp ****             HAL_FLASH_Lock();
 1165              		.loc 1 33 9 is_stmt 1 view .LVU388
  33:Src/config_system.cpp ****             HAL_FLASH_Lock();
 1166              		.loc 1 33 30 is_stmt 0 view .LVU389
 1167 00a6 D5E90023 		ldrd	r2, [r5]
 1168 00aa 2146     		mov	r1, r4
 1169 00ac 0020     		movs	r0, #0
 1170 00ae FFF7FEFF 		bl	HAL_FLASH_Program
 1171              	.LVL110:
  37:Src/config_system.cpp ****         dest += 8;
 1172              		.loc 1 37 9 is_stmt 1 view .LVU390
  38:Src/config_system.cpp ****         remaining -= 8;
 1173              		.loc 1 38 14 is_stmt 0 view .LVU391
 1174 00b2 0834     		adds	r4, r4, #8
 1175              	.LVL111:
  37:Src/config_system.cpp ****         dest += 8;
 1176              		.loc 1 37 12 view .LVU392
 1177 00b4 0835     		adds	r5, r5, #8
 1178              	.LVL112:
  38:Src/config_system.cpp ****         remaining -= 8;
 1179              		.loc 1 38 9 is_stmt 1 view .LVU393
  39:Src/config_system.cpp ****     }
 1180              		.loc 1 39 9 view .LVU394
  32:Src/config_system.cpp ****         if (HAL_FLASH_Program(FLASH_TYPEPROGRAM_DOUBLEWORD, dest, *src) != HAL_OK) {
 1181              		.loc 1 32 5 view .LVU395
  32:Src/config_system.cpp ****         if (HAL_FLASH_Program(FLASH_TYPEPROGRAM_DOUBLEWORD, dest, *src) != HAL_OK) {
 1182              		.loc 1 32 22 view .LVU396
  33:Src/config_system.cpp ****             HAL_FLASH_Lock();
 1183              		.loc 1 33 9 is_stmt 0 view .LVU397
 1184 00b6 30B9     		cbnz	r0, .L114
ARM GAS  /tmp/ccjRNDYd.s 			page 31


  32:Src/config_system.cpp ****         if (HAL_FLASH_Program(FLASH_TYPEPROGRAM_DOUBLEWORD, dest, *src) != HAL_OK) {
 1185              		.loc 1 32 22 view .LVU398
 1186 00b8 B442     		cmp	r4, r6
 1187 00ba F4D1     		bne	.L107
  42:Src/config_system.cpp ****         uint64_t last_word = 0;
 1188              		.loc 1 42 5 is_stmt 1 view .LVU399
  51:Src/config_system.cpp ****     return FLASH_OK;
 1189              		.loc 1 51 5 view .LVU400
  51:Src/config_system.cpp ****     return FLASH_OK;
 1190              		.loc 1 51 19 is_stmt 0 view .LVU401
 1191 00bc FFF7FEFF 		bl	HAL_FLASH_Lock
 1192              	.LVL113:
  52:Src/config_system.cpp **** }
 1193              		.loc 1 52 5 is_stmt 1 view .LVU402
  52:Src/config_system.cpp **** }
 1194              		.loc 1 52 5 is_stmt 0 view .LVU403
 1195              	.LBE136:
 1196              	.LBE135:
 1197              	.LBE134:
 1198              	.LBE133:
 228:Src/config_system.cpp **** }
 1199              		.loc 1 228 12 view .LVU404
 1200 00c0 0120     		movs	r0, #1
 229:Src/config_system.cpp **** 
 1201              		.loc 1 229 1 view .LVU405
 1202 00c2 06B0     		add	sp, sp, #24
 1203              	.LCFI15:
 1204              		.cfi_remember_state
 1205              		.cfi_def_cfa_offset 16
 1206              		@ sp needed
 1207 00c4 70BD     		pop	{r4, r5, r6, pc}
 1208              	.LVL114:
 1209              	.L114:
 1210              	.LCFI16:
 1211              		.cfi_restore_state
 1212              	.LBB140:
 1213              	.LBB139:
 1214              	.LBB138:
 1215              	.LBB137:
  34:Src/config_system.cpp ****             return FLASH_ERROR_OPT;
 1216              		.loc 1 34 13 is_stmt 1 view .LVU406
  34:Src/config_system.cpp ****             return FLASH_ERROR_OPT;
 1217              		.loc 1 34 27 is_stmt 0 view .LVU407
 1218 00c6 FFF7FEFF 		bl	HAL_FLASH_Lock
 1219              	.LVL115:
 1220              	.L113:
  35:Src/config_system.cpp ****         }
 1221              		.loc 1 35 13 is_stmt 1 view .LVU408
 1222              	.LBE137:
 1223              	.LBE138:
 1224              	.LBE139:
 1225              	.LBE140:
 225:Src/config_system.cpp ****     }
 1226              		.loc 1 225 16 is_stmt 0 view .LVU409
 1227 00ca 0020     		movs	r0, #0
 229:Src/config_system.cpp **** 
 1228              		.loc 1 229 1 view .LVU410
ARM GAS  /tmp/ccjRNDYd.s 			page 32


 1229 00cc 06B0     		add	sp, sp, #24
 1230              	.LCFI17:
 1231              		.cfi_def_cfa_offset 16
 1232              		@ sp needed
 1233 00ce 70BD     		pop	{r4, r5, r6, pc}
 1234              	.L116:
 1235              		.align	2
 1236              	.L115:
 1237 00d0 3412CDAB 		.word	-1412623820
 1238 00d4 00000000 		.word	.LANCHOR3
 1239 00d8 00E00108 		.word	134340608
 1240 00dc 60E00108 		.word	134340704
 1241              		.cfi_endproc
 1242              	.LFE140:
 1244              		.section	.text.Config_LoadDefault,"ax",%progbits
 1245              		.align	1
 1246              		.p2align 2,,3
 1247              		.global	Config_LoadDefault
 1248              		.syntax unified
 1249              		.thumb
 1250              		.thumb_func
 1251              		.fpu fpv4-sp-d16
 1253              	Config_LoadDefault:
 1254              	.LFB141:
 233:Src/config_system.cpp ****     memset(&g_config, 0, sizeof(ConfigStorage_t));
 1255              		.loc 1 233 1 is_stmt 1 view -0
 1256              		.cfi_startproc
 1257              		@ args = 0, pretend = 0, frame = 0
 1258              		@ frame_needed = 0, uses_anonymous_args = 0
 234:Src/config_system.cpp ****     
 1259              		.loc 1 234 5 view .LVU412
 233:Src/config_system.cpp ****     memset(&g_config, 0, sizeof(ConfigStorage_t));
 1260              		.loc 1 233 1 is_stmt 0 view .LVU413
 1261 0000 08B5     		push	{r3, lr}
 1262              	.LCFI18:
 1263              		.cfi_def_cfa_offset 8
 1264              		.cfi_offset 3, -8
 1265              		.cfi_offset 14, -4
 234:Src/config_system.cpp ****     
 1266              		.loc 1 234 11 view .LVU414
 1267 0002 0D4B     		ldr	r3, .L119
 1268 0004 6022     		movs	r2, #96
 1269 0006 0021     		movs	r1, #0
 1270 0008 1846     		mov	r0, r3
 1271 000a FFF7FEFF 		bl	memset
 1272              	.LVL116:
 1273 000e 0346     		mov	r3, r0
 237:Src/config_system.cpp ****     g_config.system_config.heartbeat_rate_ms = 1000;
 1274              		.loc 1 237 5 is_stmt 1 view .LVU415
 241:Src/config_system.cpp ****     g_config.motor_config.voltage_limit = 24.0f;
 1275              		.loc 1 241 41 is_stmt 0 view .LVU416
 1276 0010 0A49     		ldr	r1, .L119+4
 248:Src/config_system.cpp ****     return true;
 1277              		.loc 1 248 26 view .LVU417
 1278 0012 0B4A     		ldr	r2, .L119+8
 241:Src/config_system.cpp ****     g_config.motor_config.voltage_limit = 24.0f;
 1279              		.loc 1 241 41 view .LVU418
ARM GAS  /tmp/ccjRNDYd.s 			page 33


 1280 0014 9961     		str	r1, [r3, #24]	@ float
 237:Src/config_system.cpp ****     g_config.system_config.heartbeat_rate_ms = 1000;
 1281              		.loc 1 237 35 view .LVU419
 1282 0016 0120     		movs	r0, #1
 242:Src/config_system.cpp ****     g_config.motor_config.temp_limit = 85.0f;
 1283              		.loc 1 242 41 view .LVU420
 1284 0018 0A49     		ldr	r1, .L119+12
 243:Src/config_system.cpp ****     g_config.motor_config.pole_pairs = 7;
 1285              		.loc 1 243 38 view .LVU421
 1286 001a DFF82CC0 		ldr	ip, .L119+16
 242:Src/config_system.cpp ****     g_config.motor_config.temp_limit = 85.0f;
 1287              		.loc 1 242 41 view .LVU422
 1288 001e D961     		str	r1, [r3, #28]	@ float
 248:Src/config_system.cpp ****     return true;
 1289              		.loc 1 248 26 view .LVU423
 1290 0020 1070     		strb	r0, [r2]
 244:Src/config_system.cpp ****     
 1291              		.loc 1 244 38 view .LVU424
 1292 0022 0721     		movs	r1, #7
 238:Src/config_system.cpp ****     g_config.system_config.debug_level = 1;
 1293              		.loc 1 238 46 view .LVU425
 1294 0024 4FF47A72 		mov	r2, #1000
 239:Src/config_system.cpp ****     
 1295              		.loc 1 239 40 view .LVU426
 1296 0028 1875     		strb	r0, [r3, #20]
 237:Src/config_system.cpp ****     g_config.system_config.heartbeat_rate_ms = 1000;
 1297              		.loc 1 237 35 view .LVU427
 1298 002a D860     		str	r0, [r3, #12]
 238:Src/config_system.cpp ****     g_config.system_config.debug_level = 1;
 1299              		.loc 1 238 5 is_stmt 1 view .LVU428
 243:Src/config_system.cpp ****     g_config.motor_config.pole_pairs = 7;
 1300              		.loc 1 243 38 is_stmt 0 view .LVU429
 1301 002c C3F820C0 		str	ip, [r3, #32]	@ float
 244:Src/config_system.cpp ****     
 1302              		.loc 1 244 38 view .LVU430
 1303 0030 9984     		strh	r1, [r3, #36]	@ movhi
 238:Src/config_system.cpp ****     g_config.system_config.debug_level = 1;
 1304              		.loc 1 238 46 view .LVU431
 1305 0032 1A61     		str	r2, [r3, #16]
 239:Src/config_system.cpp ****     
 1306              		.loc 1 239 5 is_stmt 1 view .LVU432
 241:Src/config_system.cpp ****     g_config.motor_config.voltage_limit = 24.0f;
 1307              		.loc 1 241 5 view .LVU433
 242:Src/config_system.cpp ****     g_config.motor_config.temp_limit = 85.0f;
 1308              		.loc 1 242 5 view .LVU434
 243:Src/config_system.cpp ****     g_config.motor_config.pole_pairs = 7;
 1309              		.loc 1 243 5 view .LVU435
 244:Src/config_system.cpp ****     
 1310              		.loc 1 244 5 view .LVU436
 248:Src/config_system.cpp ****     return true;
 1311              		.loc 1 248 5 view .LVU437
 1312              		.loc 1 249 5 view .LVU438
 250:Src/config_system.cpp **** }
 1313              		.loc 1 250 1 is_stmt 0 view .LVU439
 1314 0034 08BD     		pop	{r3, pc}
 1315              	.L120:
 1316 0036 00BF     		.align	2
ARM GAS  /tmp/ccjRNDYd.s 			page 34


 1317              	.L119:
 1318 0038 00000000 		.word	.LANCHOR3
 1319 003c 00007042 		.word	1114636288
 1320 0040 00000000 		.word	.LANCHOR2
 1321 0044 0000C041 		.word	1103101952
 1322 0048 0000AA42 		.word	1118437376
 1323              		.cfi_endproc
 1324              	.LFE141:
 1326              		.section	.text.Config_LoadAllAreas,"ax",%progbits
 1327              		.align	1
 1328              		.p2align 2,,3
 1329              		.global	Config_LoadAllAreas
 1330              		.syntax unified
 1331              		.thumb
 1332              		.thumb_func
 1333              		.fpu fpv4-sp-d16
 1335              	Config_LoadAllAreas:
 1336              	.LFB142:
 251:Src/config_system.cpp **** 
 252:Src/config_system.cpp **** /* 加载所有配置区域 */
 253:Src/config_system.cpp **** bool Config_LoadAllAreas(void)
 254:Src/config_system.cpp **** {
 1337              		.loc 1 254 1 is_stmt 1 view -0
 1338              		.cfi_startproc
 1339              		@ args = 0, pretend = 0, frame = 0
 1340              		@ frame_needed = 0, uses_anonymous_args = 0
 255:Src/config_system.cpp ****     bool all_success = true;
 1341              		.loc 1 255 5 view .LVU441
 1342              	.LVL117:
 256:Src/config_system.cpp ****     
 257:Src/config_system.cpp ****     // 检查是否已初始化
 258:Src/config_system.cpp ****     if (!g_config_initialized) {
 1343              		.loc 1 258 5 view .LVU442
 254:Src/config_system.cpp ****     bool all_success = true;
 1344              		.loc 1 254 1 is_stmt 0 view .LVU443
 1345 0000 2DE9F84F 		push	{r3, r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1346              	.LCFI19:
 1347              		.cfi_def_cfa_offset 40
 1348              		.cfi_offset 3, -40
 1349              		.cfi_offset 4, -36
 1350              		.cfi_offset 5, -32
 1351              		.cfi_offset 6, -28
 1352              		.cfi_offset 7, -24
 1353              		.cfi_offset 8, -20
 1354              		.cfi_offset 9, -16
 1355              		.cfi_offset 10, -12
 1356              		.cfi_offset 11, -8
 1357              		.cfi_offset 14, -4
 1358              		.loc 1 258 9 view .LVU444
 1359 0004 794B     		ldr	r3, .L168
 1360              		.loc 1 258 5 view .LVU445
 1361 0006 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 254:Src/config_system.cpp ****     bool all_success = true;
 1362              		.loc 1 254 1 view .LVU446
 1363 0008 2DED068B 		vpush.64	{d8, d9, d10}
 1364              	.LCFI20:
 1365              		.cfi_def_cfa_offset 64
ARM GAS  /tmp/ccjRNDYd.s 			page 35


 1366              		.cfi_offset 80, -64
 1367              		.cfi_offset 81, -60
 1368              		.cfi_offset 82, -56
 1369              		.cfi_offset 83, -52
 1370              		.cfi_offset 84, -48
 1371              		.cfi_offset 85, -44
 1372              		.loc 1 258 5 view .LVU447
 1373 000c 002B     		cmp	r3, #0
 1374 000e 00F09A80 		beq	.L122
 1375              	.L124:
 1376 0012 774F     		ldr	r7, .L168+4
 1377 0014 774E     		ldr	r6, .L168+8
 1378              	.LBB154:
 1379              	.LBB155:
 1380              	.LBB156:
 1381              	.LBB157:
 259:Src/config_system.cpp ****         if (!Config_Init()) {
 260:Src/config_system.cpp ****             return false;
 261:Src/config_system.cpp ****         }
 262:Src/config_system.cpp ****     }
 263:Src/config_system.cpp ****     
 264:Src/config_system.cpp ****     // 遍历所有配置区域
 265:Src/config_system.cpp ****     for (int i = static_cast<int>(CONFIG_AREA_SYSTEM); i < static_cast<int>(CONFIG_AREA_MAX); i++) 
 266:Src/config_system.cpp ****         ConfigArea_t area = static_cast<ConfigArea_t>(i);
 267:Src/config_system.cpp ****         // 获取区域信息
 268:Src/config_system.cpp ****         void* data = (void*)Config_GetAreaPtr(area);
 269:Src/config_system.cpp ****         uint32_t size = Config_GetAreaSize(area);
 270:Src/config_system.cpp ****         uint32_t offset = 0;
 271:Src/config_system.cpp ****         
 272:Src/config_system.cpp ****         if (!data || size == 0) {
 273:Src/config_system.cpp ****             all_success = false;
 274:Src/config_system.cpp ****             continue;
 275:Src/config_system.cpp ****         }
 276:Src/config_system.cpp ****         
 277:Src/config_system.cpp ****         // 计算Flash中的偏移量
 278:Src/config_system.cpp ****         for (int j = 0; j < i; j++) {
 279:Src/config_system.cpp ****             offset += Config_GetAreaSize(static_cast<ConfigArea_t>(j));
 280:Src/config_system.cpp ****         }
 281:Src/config_system.cpp ****         
 282:Src/config_system.cpp ****         // 从Flash读取数据
 283:Src/config_system.cpp ****         const uint8_t* src = (const uint8_t*)(CONFIG_FLASH_ADDR + offset);
 284:Src/config_system.cpp ****         
 285:Src/config_system.cpp ****         // 验证区域CRC
 286:Src/config_system.cpp ****         uint32_t stored_crc = *(uint32_t*)(src + size - sizeof(uint32_t));
 287:Src/config_system.cpp ****         uint32_t calc_crc = Calculate_CRC(src, size - sizeof(uint32_t));
 288:Src/config_system.cpp ****         
 289:Src/config_system.cpp ****         if (calc_crc != stored_crc) {
 290:Src/config_system.cpp ****             // CRC校验失败，加载默认值
 291:Src/config_system.cpp ****             Config_LoadAreaDefaults(area);
 292:Src/config_system.cpp ****             all_success = false;
 293:Src/config_system.cpp ****             continue;
 294:Src/config_system.cpp ****         }
 295:Src/config_system.cpp ****         
 296:Src/config_system.cpp ****         // 复制数据到RAM
 297:Src/config_system.cpp ****         memcpy(data, src, size - sizeof(uint32_t));
 298:Src/config_system.cpp ****     }
 299:Src/config_system.cpp ****     
ARM GAS  /tmp/ccjRNDYd.s 			page 36


 300:Src/config_system.cpp ****     return all_success;
 301:Src/config_system.cpp **** }
 302:Src/config_system.cpp **** 
 303:Src/config_system.cpp **** /* 加载区域默认值 */
 304:Src/config_system.cpp **** static void Config_LoadAreaDefaults(ConfigArea_t area)
 305:Src/config_system.cpp **** {
 306:Src/config_system.cpp ****     switch(area) {
 307:Src/config_system.cpp ****         case CONFIG_AREA_SYSTEM:
 308:Src/config_system.cpp ****             g_config.system_config.can_id = 1;
 309:Src/config_system.cpp ****             g_config.system_config.heartbeat_rate_ms = 1000;
 310:Src/config_system.cpp ****             g_config.system_config.debug_level = 1;
 311:Src/config_system.cpp ****             break;
 312:Src/config_system.cpp ****             
 313:Src/config_system.cpp ****         case CONFIG_AREA_MOTOR:
 314:Src/config_system.cpp ****             g_config.motor_config.current_limit = 60.0f;
 315:Src/config_system.cpp ****             g_config.motor_config.voltage_limit = 24.0f;
 316:Src/config_system.cpp ****             g_config.motor_config.temp_limit = 85.0f;
 317:Src/config_system.cpp ****             g_config.motor_config.pole_pairs = 7;
 318:Src/config_system.cpp ****             break;
 319:Src/config_system.cpp ****             
 320:Src/config_system.cpp ****         case CONFIG_AREA_CAN:
 321:Src/config_system.cpp ****             g_config.can_config.baudrate = 1000000;
 322:Src/config_system.cpp ****             g_config.can_config.enabled = true;
 323:Src/config_system.cpp ****             break;
 324:Src/config_system.cpp ****             
 325:Src/config_system.cpp ****         case CONFIG_AREA_ENCODER:
 326:Src/config_system.cpp ****             g_config.encoder_config.cpr = 4096;
 327:Src/config_system.cpp ****             g_config.encoder_config.mode = 0;
 328:Src/config_system.cpp ****             g_config.encoder_config.use_index = false;
 329:Src/config_system.cpp ****             g_config.encoder_config.index_offset = 0.0f;
 330:Src/config_system.cpp ****             break;
 331:Src/config_system.cpp ****             
 332:Src/config_system.cpp ****         case CONFIG_AREA_CONTROLLER:
 333:Src/config_system.cpp ****             g_config.controller_config.speed_pid_p = 0.1f;
 334:Src/config_system.cpp ****             g_config.controller_config.speed_pid_i = 0.01f;
 335:Src/config_system.cpp ****             g_config.controller_config.speed_pid_d = 0.0f;
 336:Src/config_system.cpp ****             g_config.controller_config.pos_pid_p = 1.0f;
 337:Src/config_system.cpp ****             g_config.controller_config.pos_pid_i = 0.0f;
 338:Src/config_system.cpp ****             g_config.controller_config.pos_pid_d = 0.0f;
 339:Src/config_system.cpp ****             break;
 340:Src/config_system.cpp ****             
 341:Src/config_system.cpp ****         case CONFIG_AREA_LIMITS:
 342:Src/config_system.cpp ****             g_config.limits_config.max_rpm = 3000;
 343:Src/config_system.cpp ****             g_config.limits_config.max_current = 60.0f;
 1382              		.loc 1 343 48 view .LVU448
 1383 0016 9FED789A 		vldr.32	s18, .L168+12
 344:Src/config_system.cpp ****             g_config.limits_config.max_duty = 0.95f;
 1384              		.loc 1 344 45 view .LVU449
 1385 001a DFED78AA 		vldr.32	s21, .L168+16
 345:Src/config_system.cpp ****             g_config.limits_config.max_temp = 85.0f;
 1386              		.loc 1 345 45 view .LVU450
 1387 001e DFED788A 		vldr.32	s17, .L168+20
 333:Src/config_system.cpp ****             g_config.controller_config.speed_pid_i = 0.01f;
 1388              		.loc 1 333 52 view .LVU451
 1389 0022 9FED78AA 		vldr.32	s20, .L168+24
 334:Src/config_system.cpp ****             g_config.controller_config.speed_pid_d = 0.0f;
 1390              		.loc 1 334 52 view .LVU452
ARM GAS  /tmp/ccjRNDYd.s 			page 37


 1391 0026 DFED789A 		vldr.32	s19, .L168+28
 335:Src/config_system.cpp ****             g_config.controller_config.pos_pid_p = 1.0f;
 1392              		.loc 1 335 52 view .LVU453
 1393 002a 9FED788A 		vldr.32	s16, .L168+32
 1394              	.LBE157:
 1395              	.LBE156:
 1396              	.LBE155:
 1397              	.LBE154:
 254:Src/config_system.cpp ****     bool all_success = true;
 1398              		.loc 1 254 1 view .LVU454
 1399 002e 0025     		movs	r5, #0
 1400 0030 4FF00108 		mov	r8, #1
 1401 0034 03E0     		b	.L123
 1402              	.LVL118:
 1403              	.L156:
 1404              	.LBB203:
 1405              	.LBB192:
 273:Src/config_system.cpp ****             continue;
 1406              		.loc 1 273 25 view .LVU455
 1407 0036 9846     		mov	r8, r3
 1408              	.LVL119:
 1409              	.L126:
 273:Src/config_system.cpp ****             continue;
 1410              		.loc 1 273 25 view .LVU456
 1411              	.LBE192:
 265:Src/config_system.cpp ****         ConfigArea_t area = static_cast<ConfigArea_t>(i);
 1412              		.loc 1 265 5 is_stmt 1 discriminator 2 view .LVU457
 1413 0038 0135     		adds	r5, r5, #1
 1414              	.LVL120:
 265:Src/config_system.cpp ****         ConfigArea_t area = static_cast<ConfigArea_t>(i);
 1415              		.loc 1 265 58 discriminator 2 view .LVU458
 1416 003a 062D     		cmp	r5, #6
 1417 003c 7BD0     		beq	.L125
 1418              	.LVL121:
 1419              	.L123:
 1420              	.LBB193:
 266:Src/config_system.cpp ****         // 获取区域信息
 1421              		.loc 1 266 9 view .LVU459
 1422 003e 57F8040B 		ldr	r0, [r7], #4
 1423 0042 56F8043B 		ldr	r3, [r6], #4
 1424 0046 5FFA85F9 		uxtb	r9, r5
 1425              	.LVL122:
 268:Src/config_system.cpp ****         uint32_t size = Config_GetAreaSize(area);
 1426              		.loc 1 268 9 view .LVU460
 268:Src/config_system.cpp ****         uint32_t size = Config_GetAreaSize(area);
 1427              		.loc 1 268 9 is_stmt 0 view .LVU461
 1428              	.LBE193:
 1429              	.LBE203:
 103:Src/config_system.cpp ****         case CONFIG_AREA_SYSTEM:
 1430              		.loc 1 103 5 is_stmt 1 view .LVU462
 1431              	.LBB204:
 1432              	.LBB194:
 269:Src/config_system.cpp ****         uint32_t offset = 0;
 1433              		.loc 1 269 9 view .LVU463
 269:Src/config_system.cpp ****         uint32_t offset = 0;
 1434              		.loc 1 269 9 is_stmt 0 view .LVU464
 1435              	.LBE194:
ARM GAS  /tmp/ccjRNDYd.s 			page 38


 1436              	.LBE204:
 123:Src/config_system.cpp ****         case CONFIG_AREA_SYSTEM:
 1437              		.loc 1 123 5 is_stmt 1 view .LVU465
 1438              	.LBB205:
 1439              	.LBB195:
 270:Src/config_system.cpp ****         
 1440              		.loc 1 270 9 view .LVU466
 272:Src/config_system.cpp ****             all_success = false;
 1441              		.loc 1 272 9 view .LVU467
 1442 004a 0028     		cmp	r0, #0
 1443 004c 6ED0     		beq	.L166
 272:Src/config_system.cpp ****             all_success = false;
 1444              		.loc 1 272 19 is_stmt 0 discriminator 2 view .LVU468
 1445 004e 002B     		cmp	r3, #0
 1446 0050 F1D0     		beq	.L156
 1447              	.LVL123:
 1448              	.LBB166:
 278:Src/config_system.cpp ****             offset += Config_GetAreaSize(static_cast<ConfigArea_t>(j));
 1449              		.loc 1 278 27 is_stmt 1 view .LVU469
 1450 0052 002D     		cmp	r5, #0
 1451 0054 00F08280 		beq	.L157
 279:Src/config_system.cpp ****         }
 1452              		.loc 1 279 13 view .LVU470
 1453              	.LVL124:
 279:Src/config_system.cpp ****         }
 1454              		.loc 1 279 13 is_stmt 0 view .LVU471
 1455              	.LBE166:
 1456              	.LBE195:
 1457              	.LBE205:
 123:Src/config_system.cpp ****         case CONFIG_AREA_SYSTEM:
 1458              		.loc 1 123 5 is_stmt 1 view .LVU472
 1459              	.LBB206:
 1460              	.LBB196:
 1461              	.LBB167:
 278:Src/config_system.cpp ****             offset += Config_GetAreaSize(static_cast<ConfigArea_t>(j));
 1462              		.loc 1 278 9 view .LVU473
 278:Src/config_system.cpp ****             offset += Config_GetAreaSize(static_cast<ConfigArea_t>(j));
 1463              		.loc 1 278 27 view .LVU474
 1464 0058 012D     		cmp	r5, #1
 1465 005a 00F08780 		beq	.L158
 279:Src/config_system.cpp ****         }
 1466              		.loc 1 279 13 view .LVU475
 1467              	.LVL125:
 279:Src/config_system.cpp ****         }
 1468              		.loc 1 279 13 is_stmt 0 view .LVU476
 1469              	.LBE167:
 1470              	.LBE196:
 1471              	.LBE206:
 123:Src/config_system.cpp ****         case CONFIG_AREA_SYSTEM:
 1472              		.loc 1 123 5 is_stmt 1 view .LVU477
 1473              	.LBB207:
 1474              	.LBB197:
 1475              	.LBB168:
 278:Src/config_system.cpp ****             offset += Config_GetAreaSize(static_cast<ConfigArea_t>(j));
 1476              		.loc 1 278 9 view .LVU478
 278:Src/config_system.cpp ****             offset += Config_GetAreaSize(static_cast<ConfigArea_t>(j));
 1477              		.loc 1 278 27 view .LVU479
ARM GAS  /tmp/ccjRNDYd.s 			page 39


 1478 005e 022D     		cmp	r5, #2
 1479 0060 00F08680 		beq	.L159
 279:Src/config_system.cpp ****         }
 1480              		.loc 1 279 13 view .LVU480
 1481              	.LVL126:
 279:Src/config_system.cpp ****         }
 1482              		.loc 1 279 13 is_stmt 0 view .LVU481
 1483              	.LBE168:
 1484              	.LBE197:
 1485              	.LBE207:
 123:Src/config_system.cpp ****         case CONFIG_AREA_SYSTEM:
 1486              		.loc 1 123 5 is_stmt 1 view .LVU482
 1487              	.LBB208:
 1488              	.LBB198:
 1489              	.LBB169:
 278:Src/config_system.cpp ****             offset += Config_GetAreaSize(static_cast<ConfigArea_t>(j));
 1490              		.loc 1 278 9 view .LVU483
 278:Src/config_system.cpp ****             offset += Config_GetAreaSize(static_cast<ConfigArea_t>(j));
 1491              		.loc 1 278 27 view .LVU484
 1492 0064 032D     		cmp	r5, #3
 1493 0066 00F0B480 		beq	.L160
 279:Src/config_system.cpp ****         }
 1494              		.loc 1 279 13 view .LVU485
 1495              	.LVL127:
 279:Src/config_system.cpp ****         }
 1496              		.loc 1 279 13 is_stmt 0 view .LVU486
 1497              	.LBE169:
 1498              	.LBE198:
 1499              	.LBE208:
 123:Src/config_system.cpp ****         case CONFIG_AREA_SYSTEM:
 1500              		.loc 1 123 5 is_stmt 1 view .LVU487
 1501              	.LBB209:
 1502              	.LBB199:
 1503              	.LBB170:
 278:Src/config_system.cpp ****             offset += Config_GetAreaSize(static_cast<ConfigArea_t>(j));
 1504              		.loc 1 278 9 view .LVU488
 278:Src/config_system.cpp ****             offset += Config_GetAreaSize(static_cast<ConfigArea_t>(j));
 1505              		.loc 1 278 27 view .LVU489
 279:Src/config_system.cpp ****         }
 1506              		.loc 1 279 20 is_stmt 0 view .LVU490
 1507 006a 042D     		cmp	r5, #4
 1508 006c 0CBF     		ite	eq
 1509 006e 2C21     		moveq	r1, #44
 1510 0070 4421     		movne	r1, #68
 1511              	.LVL128:
 1512              	.L128:
 279:Src/config_system.cpp ****         }
 1513              		.loc 1 279 20 view .LVU491
 1514              	.LBE170:
 283:Src/config_system.cpp ****         
 1515              		.loc 1 283 9 is_stmt 1 view .LVU492
 286:Src/config_system.cpp ****         uint32_t calc_crc = Calculate_CRC(src, size - sizeof(uint32_t));
 1516              		.loc 1 286 9 view .LVU493
 283:Src/config_system.cpp ****         
 1517              		.loc 1 283 65 is_stmt 0 view .LVU494
 1518 0072 01F10061 		add	r1, r1, #134217728
 1519 0076 01F5F031 		add	r1, r1, #122880
ARM GAS  /tmp/ccjRNDYd.s 			page 40


 286:Src/config_system.cpp ****         uint32_t calc_crc = Calculate_CRC(src, size - sizeof(uint32_t));
 1520              		.loc 1 286 55 view .LVU495
 1521 007a 1A1F     		subs	r2, r3, #4
 286:Src/config_system.cpp ****         uint32_t calc_crc = Calculate_CRC(src, size - sizeof(uint32_t));
 1522              		.loc 1 286 18 view .LVU496
 1523 007c 51F802A0 		ldr	r10, [r1, r2]
 1524              	.LVL129:
 287:Src/config_system.cpp ****         
 1525              		.loc 1 287 9 is_stmt 1 view .LVU497
 1526              	.LBB171:
 1527              	.LBI171:
  85:Src/config_system.cpp **** {
 1528              		.loc 1 85 17 view .LVU498
 1529              	.LBB172:
  87:Src/config_system.cpp ****     const uint8_t* bytes = (const uint8_t*)data;
 1530              		.loc 1 87 5 view .LVU499
  88:Src/config_system.cpp ****     
 1531              		.loc 1 88 5 view .LVU500
  90:Src/config_system.cpp ****         crc = crc ^ bytes[i];
 1532              		.loc 1 90 5 view .LVU501
 1533              	.LBB173:
  90:Src/config_system.cpp ****         crc = crc ^ bytes[i];
 1534              		.loc 1 90 27 view .LVU502
 1535 0080 002A     		cmp	r2, #0
 1536 0082 71D0     		beq	.L162
 1537              	.L167:
  90:Src/config_system.cpp ****         crc = crc ^ bytes[i];
 1538              		.loc 1 90 27 is_stmt 0 view .LVU503
 1539 0084 053B     		subs	r3, r3, #5
 1540              	.LVL130:
  90:Src/config_system.cpp ****         crc = crc ^ bytes[i];
 1541              		.loc 1 90 27 view .LVU504
 1542 0086 01EB030E 		add	lr, r1, r3
 1543 008a 01F1FF3C 		add	ip, r1, #-1
 1544              	.LBE173:
  87:Src/config_system.cpp ****     const uint8_t* bytes = (const uint8_t*)data;
 1545              		.loc 1 87 14 view .LVU505
 1546 008e 0023     		movs	r3, #0
 1547              	.LBB177:
 1548              	.LBB174:
 1549              	.LBB175:
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 1550              		.loc 1 93 29 view .LVU506
 1551 0090 4AF20104 		movw	r4, #40961
 1552              	.LVL131:
 1553              	.L146:
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 1554              		.loc 1 93 29 view .LVU507
 1555              	.LBE175:
  91:Src/config_system.cpp ****         for(int j = 0; j < 8; j++) {
 1556              		.loc 1 91 9 is_stmt 1 view .LVU508
  91:Src/config_system.cpp ****         for(int j = 0; j < 8; j++) {
 1557              		.loc 1 91 28 is_stmt 0 view .LVU509
 1558 0094 1CF801BF 		ldrb	fp, [ip, #1]!	@ zero_extendqisi2
  91:Src/config_system.cpp ****         for(int j = 0; j < 8; j++) {
 1559              		.loc 1 91 13 view .LVU510
 1560 0098 8BEA0303 		eor	r3, fp, r3
ARM GAS  /tmp/ccjRNDYd.s 			page 41


 1561              	.LVL132:
  92:Src/config_system.cpp ****             if(crc & 1) crc = (crc >> 1) ^ 0xA001;
 1562              		.loc 1 92 9 is_stmt 1 view .LVU511
 1563              	.LBB176:
  92:Src/config_system.cpp ****             if(crc & 1) crc = (crc >> 1) ^ 0xA001;
 1564              		.loc 1 92 26 view .LVU512
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 1565              		.loc 1 93 13 view .LVU513
 1566 009c 13F0010F 		tst	r3, #1
  94:Src/config_system.cpp ****         }
 1567              		.loc 1 94 18 view .LVU514
  94:Src/config_system.cpp ****         }
 1568              		.loc 1 94 22 is_stmt 0 view .LVU515
 1569 00a0 0CBF     		ite	eq
 1570 00a2 5B08     		lsreq	r3, r3, #1
 1571              	.LVL133:
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 1572              		.loc 1 93 25 is_stmt 1 view .LVU516
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 1573              		.loc 1 93 29 is_stmt 0 view .LVU517
 1574 00a4 84EA5303 		eorne	r3, r4, r3, lsr #1
 1575              	.LVL134:
  92:Src/config_system.cpp ****             if(crc & 1) crc = (crc >> 1) ^ 0xA001;
 1576              		.loc 1 92 9 is_stmt 1 view .LVU518
  92:Src/config_system.cpp ****             if(crc & 1) crc = (crc >> 1) ^ 0xA001;
 1577              		.loc 1 92 26 view .LVU519
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 1578              		.loc 1 93 13 view .LVU520
 1579 00a8 13F0010F 		tst	r3, #1
  94:Src/config_system.cpp ****         }
 1580              		.loc 1 94 18 view .LVU521
  94:Src/config_system.cpp ****         }
 1581              		.loc 1 94 22 is_stmt 0 view .LVU522
 1582 00ac 0CBF     		ite	eq
 1583 00ae 5B08     		lsreq	r3, r3, #1
 1584              	.LVL135:
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 1585              		.loc 1 93 25 is_stmt 1 view .LVU523
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 1586              		.loc 1 93 29 is_stmt 0 view .LVU524
 1587 00b0 84EA5303 		eorne	r3, r4, r3, lsr #1
 1588              	.LVL136:
  92:Src/config_system.cpp ****             if(crc & 1) crc = (crc >> 1) ^ 0xA001;
 1589              		.loc 1 92 9 is_stmt 1 view .LVU525
  92:Src/config_system.cpp ****             if(crc & 1) crc = (crc >> 1) ^ 0xA001;
 1590              		.loc 1 92 26 view .LVU526
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 1591              		.loc 1 93 13 view .LVU527
 1592 00b4 13F0010F 		tst	r3, #1
  94:Src/config_system.cpp ****         }
 1593              		.loc 1 94 18 view .LVU528
  94:Src/config_system.cpp ****         }
 1594              		.loc 1 94 22 is_stmt 0 view .LVU529
 1595 00b8 0CBF     		ite	eq
 1596 00ba 5B08     		lsreq	r3, r3, #1
 1597              	.LVL137:
  93:Src/config_system.cpp ****             else crc = crc >> 1;
ARM GAS  /tmp/ccjRNDYd.s 			page 42


 1598              		.loc 1 93 25 is_stmt 1 view .LVU530
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 1599              		.loc 1 93 29 is_stmt 0 view .LVU531
 1600 00bc 84EA5303 		eorne	r3, r4, r3, lsr #1
 1601              	.LVL138:
  92:Src/config_system.cpp ****             if(crc & 1) crc = (crc >> 1) ^ 0xA001;
 1602              		.loc 1 92 9 is_stmt 1 view .LVU532
  92:Src/config_system.cpp ****             if(crc & 1) crc = (crc >> 1) ^ 0xA001;
 1603              		.loc 1 92 26 view .LVU533
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 1604              		.loc 1 93 13 view .LVU534
 1605 00c0 13F0010F 		tst	r3, #1
  94:Src/config_system.cpp ****         }
 1606              		.loc 1 94 18 view .LVU535
  94:Src/config_system.cpp ****         }
 1607              		.loc 1 94 22 is_stmt 0 view .LVU536
 1608 00c4 0CBF     		ite	eq
 1609 00c6 5B08     		lsreq	r3, r3, #1
 1610              	.LVL139:
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 1611              		.loc 1 93 25 is_stmt 1 view .LVU537
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 1612              		.loc 1 93 29 is_stmt 0 view .LVU538
 1613 00c8 84EA5303 		eorne	r3, r4, r3, lsr #1
 1614              	.LVL140:
  92:Src/config_system.cpp ****             if(crc & 1) crc = (crc >> 1) ^ 0xA001;
 1615              		.loc 1 92 9 is_stmt 1 view .LVU539
  92:Src/config_system.cpp ****             if(crc & 1) crc = (crc >> 1) ^ 0xA001;
 1616              		.loc 1 92 26 view .LVU540
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 1617              		.loc 1 93 13 view .LVU541
 1618 00cc 13F0010F 		tst	r3, #1
  94:Src/config_system.cpp ****         }
 1619              		.loc 1 94 18 view .LVU542
  94:Src/config_system.cpp ****         }
 1620              		.loc 1 94 22 is_stmt 0 view .LVU543
 1621 00d0 0CBF     		ite	eq
 1622 00d2 5B08     		lsreq	r3, r3, #1
 1623              	.LVL141:
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 1624              		.loc 1 93 25 is_stmt 1 view .LVU544
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 1625              		.loc 1 93 29 is_stmt 0 view .LVU545
 1626 00d4 84EA5303 		eorne	r3, r4, r3, lsr #1
 1627              	.LVL142:
  92:Src/config_system.cpp ****             if(crc & 1) crc = (crc >> 1) ^ 0xA001;
 1628              		.loc 1 92 9 is_stmt 1 view .LVU546
  92:Src/config_system.cpp ****             if(crc & 1) crc = (crc >> 1) ^ 0xA001;
 1629              		.loc 1 92 26 view .LVU547
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 1630              		.loc 1 93 13 view .LVU548
 1631 00d8 13F0010F 		tst	r3, #1
  94:Src/config_system.cpp ****         }
 1632              		.loc 1 94 18 view .LVU549
  94:Src/config_system.cpp ****         }
 1633              		.loc 1 94 22 is_stmt 0 view .LVU550
 1634 00dc 0CBF     		ite	eq
ARM GAS  /tmp/ccjRNDYd.s 			page 43


 1635 00de 5B08     		lsreq	r3, r3, #1
 1636              	.LVL143:
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 1637              		.loc 1 93 25 is_stmt 1 view .LVU551
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 1638              		.loc 1 93 29 is_stmt 0 view .LVU552
 1639 00e0 84EA5303 		eorne	r3, r4, r3, lsr #1
 1640              	.LVL144:
  92:Src/config_system.cpp ****             if(crc & 1) crc = (crc >> 1) ^ 0xA001;
 1641              		.loc 1 92 9 is_stmt 1 view .LVU553
  92:Src/config_system.cpp ****             if(crc & 1) crc = (crc >> 1) ^ 0xA001;
 1642              		.loc 1 92 26 view .LVU554
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 1643              		.loc 1 93 13 view .LVU555
 1644 00e4 13F0010F 		tst	r3, #1
  94:Src/config_system.cpp ****         }
 1645              		.loc 1 94 18 view .LVU556
  94:Src/config_system.cpp ****         }
 1646              		.loc 1 94 22 is_stmt 0 view .LVU557
 1647 00e8 0CBF     		ite	eq
 1648 00ea 5B08     		lsreq	r3, r3, #1
 1649              	.LVL145:
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 1650              		.loc 1 93 25 is_stmt 1 view .LVU558
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 1651              		.loc 1 93 29 is_stmt 0 view .LVU559
 1652 00ec 84EA5303 		eorne	r3, r4, r3, lsr #1
 1653              	.LVL146:
  92:Src/config_system.cpp ****             if(crc & 1) crc = (crc >> 1) ^ 0xA001;
 1654              		.loc 1 92 9 is_stmt 1 view .LVU560
  92:Src/config_system.cpp ****             if(crc & 1) crc = (crc >> 1) ^ 0xA001;
 1655              		.loc 1 92 26 view .LVU561
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 1656              		.loc 1 93 13 view .LVU562
 1657 00f0 13F0010F 		tst	r3, #1
  94:Src/config_system.cpp ****         }
 1658              		.loc 1 94 18 view .LVU563
  94:Src/config_system.cpp ****         }
 1659              		.loc 1 94 22 is_stmt 0 view .LVU564
 1660 00f4 0CBF     		ite	eq
 1661 00f6 5B08     		lsreq	r3, r3, #1
 1662              	.LVL147:
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 1663              		.loc 1 93 25 is_stmt 1 view .LVU565
  93:Src/config_system.cpp ****             else crc = crc >> 1;
 1664              		.loc 1 93 29 is_stmt 0 view .LVU566
 1665 00f8 84EA5303 		eorne	r3, r4, r3, lsr #1
 1666              	.LVL148:
  92:Src/config_system.cpp ****             if(crc & 1) crc = (crc >> 1) ^ 0xA001;
 1667              		.loc 1 92 9 is_stmt 1 view .LVU567
  92:Src/config_system.cpp ****             if(crc & 1) crc = (crc >> 1) ^ 0xA001;
 1668              		.loc 1 92 26 view .LVU568
 1669              	.LBE176:
 1670              	.LBE174:
  90:Src/config_system.cpp ****         crc = crc ^ bytes[i];
 1671              		.loc 1 90 5 view .LVU569
  90:Src/config_system.cpp ****         crc = crc ^ bytes[i];
ARM GAS  /tmp/ccjRNDYd.s 			page 44


 1672              		.loc 1 90 27 view .LVU570
 1673 00fc E645     		cmp	lr, ip
 1674 00fe C9D1     		bne	.L146
 1675              	.LVL149:
 1676              	.L129:
  90:Src/config_system.cpp ****         crc = crc ^ bytes[i];
 1677              		.loc 1 90 27 is_stmt 0 view .LVU571
 1678              	.LBE177:
  97:Src/config_system.cpp **** }
 1679              		.loc 1 97 5 is_stmt 1 view .LVU572
  97:Src/config_system.cpp **** }
 1680              		.loc 1 97 5 is_stmt 0 view .LVU573
 1681              	.LBE172:
 1682              	.LBE171:
 289:Src/config_system.cpp ****             // CRC校验失败，加载默认值
 1683              		.loc 1 289 9 is_stmt 1 view .LVU574
 1684 0100 9A45     		cmp	r10, r3
 1685 0102 1DD0     		beq	.L147
 291:Src/config_system.cpp ****             all_success = false;
 1686              		.loc 1 291 13 view .LVU575
 1687              	.LVL150:
 1688              	.LBB180:
 1689              	.LBI156:
 304:Src/config_system.cpp **** {
 1690              		.loc 1 304 13 view .LVU576
 1691              	.LBB158:
 306:Src/config_system.cpp ****         case CONFIG_AREA_SYSTEM:
 1692              		.loc 1 306 5 view .LVU577
 1693 0104 09F1FF39 		add	r9, r9, #-1
 1694              	.LVL151:
 306:Src/config_system.cpp ****         case CONFIG_AREA_SYSTEM:
 1695              		.loc 1 306 5 is_stmt 0 view .LVU578
 1696 0108 B9F1040F 		cmp	r9, #4
 1697 010c 63D8     		bhi	.L148
 1698 010e DFE809F0 		tbb	[pc, r9]
 1699              	.LVL152:
 1700              	.L150:
 1701 0112 31       		.byte	(.L154-.L150)/2
 1702 0113 3D       		.byte	(.L153-.L150)/2
 1703 0114 46       		.byte	(.L152-.L150)/2
 1704 0115 4F       		.byte	(.L151-.L150)/2
 1705 0116 03       		.byte	(.L149-.L150)/2
 1706 0117 00       		.p2align 1
 1707              	.L149:
 341:Src/config_system.cpp ****             g_config.limits_config.max_rpm = 3000;
 1708              		.loc 1 341 9 is_stmt 1 view .LVU579
 342:Src/config_system.cpp ****             g_config.limits_config.max_current = 60.0f;
 1709              		.loc 1 342 13 view .LVU580
 342:Src/config_system.cpp ****             g_config.limits_config.max_current = 60.0f;
 1710              		.loc 1 342 44 is_stmt 0 view .LVU581
 1711 0118 3D4B     		ldr	r3, .L168+36
 1712 011a 40F6B832 		movw	r2, #3000
 343:Src/config_system.cpp ****             g_config.limits_config.max_duty = 0.95f;
 1713              		.loc 1 343 48 view .LVU582
 1714 011e 83ED159A 		vstr.32	s18, [r3, #84]
 344:Src/config_system.cpp ****             g_config.limits_config.max_temp = 85.0f;
 1715              		.loc 1 344 45 view .LVU583
ARM GAS  /tmp/ccjRNDYd.s 			page 45


 1716 0122 C3ED16AA 		vstr.32	s21, [r3, #88]
 1717              		.loc 1 345 45 view .LVU584
 1718 0126 C3ED178A 		vstr.32	s17, [r3, #92]
 342:Src/config_system.cpp ****             g_config.limits_config.max_current = 60.0f;
 1719              		.loc 1 342 44 view .LVU585
 1720 012a 1A65     		str	r2, [r3, #80]
 1721              	.LVL153:
 1722              	.L166:
 343:Src/config_system.cpp ****             g_config.limits_config.max_duty = 0.95f;
 1723              		.loc 1 343 13 is_stmt 1 view .LVU586
 344:Src/config_system.cpp ****             g_config.limits_config.max_temp = 85.0f;
 1724              		.loc 1 344 13 view .LVU587
 1725              		.loc 1 345 13 view .LVU588
 346:Src/config_system.cpp ****             break;
 1726              		.loc 1 346 13 view .LVU589
 1727              	.LBE158:
 1728              	.LBE180:
 1729              	.LBE199:
 265:Src/config_system.cpp ****         ConfigArea_t area = static_cast<ConfigArea_t>(i);
 1730              		.loc 1 265 5 is_stmt 0 view .LVU590
 1731 012c 0135     		adds	r5, r5, #1
 1732              	.LVL154:
 265:Src/config_system.cpp ****         ConfigArea_t area = static_cast<ConfigArea_t>(i);
 1733              		.loc 1 265 58 view .LVU591
 1734 012e 062D     		cmp	r5, #6
 1735              	.LBB200:
 292:Src/config_system.cpp ****             continue;
 1736              		.loc 1 292 25 view .LVU592
 1737 0130 4FF00008 		mov	r8, #0
 1738              	.LBE200:
 265:Src/config_system.cpp ****         ConfigArea_t area = static_cast<ConfigArea_t>(i);
 1739              		.loc 1 265 5 is_stmt 1 view .LVU593
 1740              	.LVL155:
 265:Src/config_system.cpp ****         ConfigArea_t area = static_cast<ConfigArea_t>(i);
 1741              		.loc 1 265 58 view .LVU594
 1742 0134 83D1     		bne	.L123
 1743              	.LVL156:
 1744              	.L125:
 265:Src/config_system.cpp ****         ConfigArea_t area = static_cast<ConfigArea_t>(i);
 1745              		.loc 1 265 58 is_stmt 0 view .LVU595
 1746              	.LBE209:
 301:Src/config_system.cpp **** 
 1747              		.loc 1 301 1 view .LVU596
 1748 0136 BDEC068B 		vldm	sp!, {d8-d10}
 1749              	.LCFI21:
 1750              		.cfi_remember_state
 1751              		.cfi_restore 84
 1752              		.cfi_restore 85
 1753              		.cfi_restore 82
 1754              		.cfi_restore 83
 1755              		.cfi_restore 80
 1756              		.cfi_restore 81
 1757              		.cfi_def_cfa_offset 40
 1758 013a 4046     		mov	r0, r8
 1759 013c BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1760              	.LVL157:
 1761              	.L147:
ARM GAS  /tmp/ccjRNDYd.s 			page 46


 1762              	.LCFI22:
 1763              		.cfi_restore_state
 1764              	.LBB210:
 1765              	.LBB201:
 297:Src/config_system.cpp ****     }
 1766              		.loc 1 297 9 is_stmt 1 view .LVU597
 297:Src/config_system.cpp ****     }
 1767              		.loc 1 297 15 is_stmt 0 view .LVU598
 1768 0140 FFF7FEFF 		bl	memcpy
 1769              	.LVL158:
 297:Src/config_system.cpp ****     }
 1770              		.loc 1 297 15 view .LVU599
 1771 0144 78E7     		b	.L126
 1772              	.LVL159:
 1773              	.L122:
 297:Src/config_system.cpp ****     }
 1774              		.loc 1 297 15 view .LVU600
 1775              	.LBE201:
 1776              	.LBE210:
 259:Src/config_system.cpp ****             return false;
 1777              		.loc 1 259 9 is_stmt 1 view .LVU601
 259:Src/config_system.cpp ****             return false;
 1778              		.loc 1 259 25 is_stmt 0 view .LVU602
 1779 0146 FFF7FEFF 		bl	Config_Init
 1780              	.LVL160:
 259:Src/config_system.cpp ****             return false;
 1781              		.loc 1 259 9 view .LVU603
 1782 014a 8046     		mov	r8, r0
 1783 014c 0028     		cmp	r0, #0
 1784 014e 7FF460AF 		bne	.L124
 301:Src/config_system.cpp **** 
 1785              		.loc 1 301 1 view .LVU604
 1786 0152 BDEC068B 		vldm	sp!, {d8-d10}
 1787              	.LCFI23:
 1788              		.cfi_remember_state
 1789              		.cfi_restore 84
 1790              		.cfi_restore 85
 1791              		.cfi_restore 82
 1792              		.cfi_restore 83
 1793              		.cfi_restore 80
 1794              		.cfi_restore 81
 1795              		.cfi_def_cfa_offset 40
 1796 0156 4046     		mov	r0, r8
 1797 0158 BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1798              	.LVL161:
 1799              	.L157:
 1800              	.LCFI24:
 1801              		.cfi_restore_state
 1802              	.LBB211:
 1803              	.LBB202:
 1804              	.LBB181:
 278:Src/config_system.cpp ****             offset += Config_GetAreaSize(static_cast<ConfigArea_t>(j));
 1805              		.loc 1 278 27 view .LVU605
 1806 015c 2D49     		ldr	r1, .L168+40
 1807              	.LBE181:
 283:Src/config_system.cpp ****         
 1808              		.loc 1 283 9 is_stmt 1 view .LVU606
ARM GAS  /tmp/ccjRNDYd.s 			page 47


 286:Src/config_system.cpp ****         uint32_t calc_crc = Calculate_CRC(src, size - sizeof(uint32_t));
 1809              		.loc 1 286 9 view .LVU607
 286:Src/config_system.cpp ****         uint32_t calc_crc = Calculate_CRC(src, size - sizeof(uint32_t));
 1810              		.loc 1 286 55 is_stmt 0 view .LVU608
 1811 015e 1A1F     		subs	r2, r3, #4
 286:Src/config_system.cpp ****         uint32_t calc_crc = Calculate_CRC(src, size - sizeof(uint32_t));
 1812              		.loc 1 286 18 view .LVU609
 1813 0160 51F802A0 		ldr	r10, [r1, r2]
 1814              	.LVL162:
 287:Src/config_system.cpp ****         
 1815              		.loc 1 287 9 is_stmt 1 view .LVU610
 1816              	.LBB182:
  85:Src/config_system.cpp **** {
 1817              		.loc 1 85 17 view .LVU611
 1818              	.LBB179:
  87:Src/config_system.cpp ****     const uint8_t* bytes = (const uint8_t*)data;
 1819              		.loc 1 87 5 view .LVU612
  88:Src/config_system.cpp ****     
 1820              		.loc 1 88 5 view .LVU613
  90:Src/config_system.cpp ****         crc = crc ^ bytes[i];
 1821              		.loc 1 90 5 view .LVU614
 1822              	.LBB178:
  90:Src/config_system.cpp ****         crc = crc ^ bytes[i];
 1823              		.loc 1 90 27 view .LVU615
 1824 0164 002A     		cmp	r2, #0
 1825 0166 8DD1     		bne	.L167
 1826              	.LVL163:
 1827              	.L162:
  90:Src/config_system.cpp ****         crc = crc ^ bytes[i];
 1828              		.loc 1 90 27 is_stmt 0 view .LVU616
 1829              	.LBE178:
  87:Src/config_system.cpp ****     const uint8_t* bytes = (const uint8_t*)data;
 1830              		.loc 1 87 14 view .LVU617
 1831 0168 1346     		mov	r3, r2
 1832              	.LVL164:
  87:Src/config_system.cpp ****     const uint8_t* bytes = (const uint8_t*)data;
 1833              		.loc 1 87 14 view .LVU618
 1834 016a C9E7     		b	.L129
 1835              	.LVL165:
 1836              	.L158:
  87:Src/config_system.cpp ****     const uint8_t* bytes = (const uint8_t*)data;
 1837              		.loc 1 87 14 view .LVU619
 1838              	.LBE179:
 1839              	.LBE182:
 1840              	.LBB183:
 279:Src/config_system.cpp ****         }
 1841              		.loc 1 279 20 view .LVU620
 1842 016c 0C21     		movs	r1, #12
 1843 016e 80E7     		b	.L128
 1844              	.LVL166:
 1845              	.L159:
 279:Src/config_system.cpp ****         }
 1846              		.loc 1 279 20 view .LVU621
 1847 0170 1C21     		movs	r1, #28
 1848 0172 7EE7     		b	.L128
 1849              	.LVL167:
 1850              	.L154:
ARM GAS  /tmp/ccjRNDYd.s 			page 48


 279:Src/config_system.cpp ****         }
 1851              		.loc 1 279 20 view .LVU622
 1852              	.LBE183:
 1853              	.LBB184:
 1854              	.LBB159:
 313:Src/config_system.cpp ****             g_config.motor_config.current_limit = 60.0f;
 1855              		.loc 1 313 9 is_stmt 1 view .LVU623
 314:Src/config_system.cpp ****             g_config.motor_config.voltage_limit = 24.0f;
 1856              		.loc 1 314 13 view .LVU624
 314:Src/config_system.cpp ****             g_config.motor_config.voltage_limit = 24.0f;
 1857              		.loc 1 314 49 is_stmt 0 view .LVU625
 1858 0174 264B     		ldr	r3, .L168+36
 315:Src/config_system.cpp ****             g_config.motor_config.temp_limit = 85.0f;
 1859              		.loc 1 315 49 view .LVU626
 1860 0176 284A     		ldr	r2, .L168+44
 1861 0178 DA61     		str	r2, [r3, #28]	@ float
 317:Src/config_system.cpp ****             break;
 1862              		.loc 1 317 46 view .LVU627
 1863 017a 0722     		movs	r2, #7
 314:Src/config_system.cpp ****             g_config.motor_config.voltage_limit = 24.0f;
 1864              		.loc 1 314 49 view .LVU628
 1865 017c 83ED069A 		vstr.32	s18, [r3, #24]
 315:Src/config_system.cpp ****             g_config.motor_config.temp_limit = 85.0f;
 1866              		.loc 1 315 13 is_stmt 1 view .LVU629
 316:Src/config_system.cpp ****             g_config.motor_config.pole_pairs = 7;
 1867              		.loc 1 316 13 view .LVU630
 317:Src/config_system.cpp ****             break;
 1868              		.loc 1 317 13 view .LVU631
 316:Src/config_system.cpp ****             g_config.motor_config.pole_pairs = 7;
 1869              		.loc 1 316 46 is_stmt 0 view .LVU632
 1870 0180 C3ED088A 		vstr.32	s17, [r3, #32]
 317:Src/config_system.cpp ****             break;
 1871              		.loc 1 317 46 view .LVU633
 1872 0184 9A84     		strh	r2, [r3, #36]	@ movhi
 318:Src/config_system.cpp ****             
 1873              		.loc 1 318 13 is_stmt 1 view .LVU634
 1874              	.LBE159:
 1875              	.LBE184:
 292:Src/config_system.cpp ****             continue;
 1876              		.loc 1 292 25 is_stmt 0 view .LVU635
 1877 0186 4FF00008 		mov	r8, #0
 1878              	.LBB185:
 1879              	.LBB160:
 318:Src/config_system.cpp ****             
 1880              		.loc 1 318 13 view .LVU636
 1881 018a 55E7     		b	.L126
 1882              	.L153:
 320:Src/config_system.cpp ****             g_config.can_config.baudrate = 1000000;
 1883              		.loc 1 320 9 is_stmt 1 view .LVU637
 321:Src/config_system.cpp ****             g_config.can_config.enabled = true;
 1884              		.loc 1 321 13 view .LVU638
 321:Src/config_system.cpp ****             g_config.can_config.enabled = true;
 1885              		.loc 1 321 42 is_stmt 0 view .LVU639
 1886 018c 204B     		ldr	r3, .L168+36
 1887 018e 234A     		ldr	r2, .L168+48
 1888 0190 9A62     		str	r2, [r3, #40]
 322:Src/config_system.cpp ****             break;
ARM GAS  /tmp/ccjRNDYd.s 			page 49


 1889              		.loc 1 322 13 is_stmt 1 view .LVU640
 322:Src/config_system.cpp ****             break;
 1890              		.loc 1 322 41 is_stmt 0 view .LVU641
 1891 0192 0122     		movs	r2, #1
 1892 0194 83F82C20 		strb	r2, [r3, #44]
 323:Src/config_system.cpp ****             
 1893              		.loc 1 323 13 is_stmt 1 view .LVU642
 1894              	.LBE160:
 1895              	.LBE185:
 292:Src/config_system.cpp ****             continue;
 1896              		.loc 1 292 25 is_stmt 0 view .LVU643
 1897 0198 4FF00008 		mov	r8, #0
 1898              	.LBB186:
 1899              	.LBB161:
 323:Src/config_system.cpp ****             
 1900              		.loc 1 323 13 view .LVU644
 1901 019c 4CE7     		b	.L126
 1902              	.L152:
 325:Src/config_system.cpp ****             g_config.encoder_config.cpr = 4096;
 1903              		.loc 1 325 9 is_stmt 1 view .LVU645
 326:Src/config_system.cpp ****             g_config.encoder_config.mode = 0;
 1904              		.loc 1 326 13 view .LVU646
 327:Src/config_system.cpp ****             g_config.encoder_config.use_index = false;
 1905              		.loc 1 327 13 view .LVU647
 328:Src/config_system.cpp ****             g_config.encoder_config.index_offset = 0.0f;
 1906              		.loc 1 328 13 view .LVU648
 329:Src/config_system.cpp ****             break;
 1907              		.loc 1 329 13 view .LVU649
 326:Src/config_system.cpp ****             g_config.encoder_config.mode = 0;
 1908              		.loc 1 326 41 is_stmt 0 view .LVU650
 1909 019e 1C4B     		ldr	r3, .L168+36
 1910 01a0 4FF48052 		mov	r2, #4096
 329:Src/config_system.cpp ****             break;
 1911              		.loc 1 329 50 view .LVU651
 1912 01a4 83ED0D8A 		vstr.32	s16, [r3, #52]
 330:Src/config_system.cpp ****             
 1913              		.loc 1 330 13 is_stmt 1 view .LVU652
 326:Src/config_system.cpp ****             g_config.encoder_config.mode = 0;
 1914              		.loc 1 326 41 is_stmt 0 view .LVU653
 1915 01a8 1A63     		str	r2, [r3, #48]
 1916              	.LBE161:
 1917              	.LBE186:
 292:Src/config_system.cpp ****             continue;
 1918              		.loc 1 292 25 view .LVU654
 1919 01aa 4FF00008 		mov	r8, #0
 1920              	.LBB187:
 1921              	.LBB162:
 330:Src/config_system.cpp ****             
 1922              		.loc 1 330 13 view .LVU655
 1923 01ae 43E7     		b	.L126
 1924              	.L151:
 332:Src/config_system.cpp ****             g_config.controller_config.speed_pid_p = 0.1f;
 1925              		.loc 1 332 9 is_stmt 1 view .LVU656
 333:Src/config_system.cpp ****             g_config.controller_config.speed_pid_i = 0.01f;
 1926              		.loc 1 333 13 view .LVU657
 333:Src/config_system.cpp ****             g_config.controller_config.speed_pid_i = 0.01f;
 1927              		.loc 1 333 52 is_stmt 0 view .LVU658
ARM GAS  /tmp/ccjRNDYd.s 			page 50


 1928 01b0 174B     		ldr	r3, .L168+36
 336:Src/config_system.cpp ****             g_config.controller_config.pos_pid_i = 0.0f;
 1929              		.loc 1 336 50 view .LVU659
 1930 01b2 4FF07E52 		mov	r2, #1065353216
 333:Src/config_system.cpp ****             g_config.controller_config.speed_pid_i = 0.01f;
 1931              		.loc 1 333 52 view .LVU660
 1932 01b6 83ED0EAA 		vstr.32	s20, [r3, #56]
 334:Src/config_system.cpp ****             g_config.controller_config.speed_pid_d = 0.0f;
 1933              		.loc 1 334 13 is_stmt 1 view .LVU661
 334:Src/config_system.cpp ****             g_config.controller_config.speed_pid_d = 0.0f;
 1934              		.loc 1 334 52 is_stmt 0 view .LVU662
 1935 01ba C3ED0F9A 		vstr.32	s19, [r3, #60]
 335:Src/config_system.cpp ****             g_config.controller_config.pos_pid_p = 1.0f;
 1936              		.loc 1 335 13 is_stmt 1 view .LVU663
 335:Src/config_system.cpp ****             g_config.controller_config.pos_pid_p = 1.0f;
 1937              		.loc 1 335 52 is_stmt 0 view .LVU664
 1938 01be 83ED108A 		vstr.32	s16, [r3, #64]
 336:Src/config_system.cpp ****             g_config.controller_config.pos_pid_i = 0.0f;
 1939              		.loc 1 336 13 is_stmt 1 view .LVU665
 337:Src/config_system.cpp ****             g_config.controller_config.pos_pid_d = 0.0f;
 1940              		.loc 1 337 50 is_stmt 0 view .LVU666
 1941 01c2 83ED128A 		vstr.32	s16, [r3, #72]
 338:Src/config_system.cpp ****             break;
 1942              		.loc 1 338 50 view .LVU667
 1943 01c6 83ED138A 		vstr.32	s16, [r3, #76]
 336:Src/config_system.cpp ****             g_config.controller_config.pos_pid_i = 0.0f;
 1944              		.loc 1 336 50 view .LVU668
 1945 01ca 5A64     		str	r2, [r3, #68]	@ float
 337:Src/config_system.cpp ****             g_config.controller_config.pos_pid_d = 0.0f;
 1946              		.loc 1 337 13 is_stmt 1 view .LVU669
 338:Src/config_system.cpp ****             break;
 1947              		.loc 1 338 13 view .LVU670
 339:Src/config_system.cpp ****             
 1948              		.loc 1 339 13 view .LVU671
 1949              	.LBE162:
 1950              	.LBE187:
 292:Src/config_system.cpp ****             continue;
 1951              		.loc 1 292 25 is_stmt 0 view .LVU672
 1952 01cc 4FF00008 		mov	r8, #0
 1953              	.LBB188:
 1954              	.LBB163:
 339:Src/config_system.cpp ****             
 1955              		.loc 1 339 13 view .LVU673
 1956 01d0 32E7     		b	.L126
 1957              	.LVL168:
 1958              	.L160:
 339:Src/config_system.cpp ****             
 1959              		.loc 1 339 13 view .LVU674
 1960              	.LBE163:
 1961              	.LBE188:
 1962              	.LBB189:
 279:Src/config_system.cpp ****         }
 1963              		.loc 1 279 20 view .LVU675
 1964 01d2 2421     		movs	r1, #36
 1965 01d4 4DE7     		b	.L128
 1966              	.LVL169:
 1967              	.L148:
ARM GAS  /tmp/ccjRNDYd.s 			page 51


 279:Src/config_system.cpp ****         }
 1968              		.loc 1 279 20 view .LVU676
 1969              	.LBE189:
 1970              	.LBB190:
 1971              	.LBB164:
 307:Src/config_system.cpp ****             g_config.system_config.can_id = 1;
 1972              		.loc 1 307 9 is_stmt 1 view .LVU677
 308:Src/config_system.cpp ****             g_config.system_config.heartbeat_rate_ms = 1000;
 1973              		.loc 1 308 13 view .LVU678
 308:Src/config_system.cpp ****             g_config.system_config.heartbeat_rate_ms = 1000;
 1974              		.loc 1 308 43 is_stmt 0 view .LVU679
 1975 01d6 0E4B     		ldr	r3, .L168+36
 1976 01d8 0122     		movs	r2, #1
 1977 01da DA60     		str	r2, [r3, #12]
 309:Src/config_system.cpp ****             g_config.system_config.debug_level = 1;
 1978              		.loc 1 309 13 is_stmt 1 view .LVU680
 310:Src/config_system.cpp ****             break;
 1979              		.loc 1 310 48 is_stmt 0 view .LVU681
 1980 01dc 1A75     		strb	r2, [r3, #20]
 309:Src/config_system.cpp ****             g_config.system_config.debug_level = 1;
 1981              		.loc 1 309 54 view .LVU682
 1982 01de 4FF47A72 		mov	r2, #1000
 1983 01e2 1A61     		str	r2, [r3, #16]
 310:Src/config_system.cpp ****             break;
 1984              		.loc 1 310 13 is_stmt 1 view .LVU683
 311:Src/config_system.cpp ****             
 1985              		.loc 1 311 13 view .LVU684
 1986              	.LBE164:
 1987              	.LBE190:
 292:Src/config_system.cpp ****             continue;
 1988              		.loc 1 292 25 is_stmt 0 view .LVU685
 1989 01e4 4FF00008 		mov	r8, #0
 1990              	.LBB191:
 1991              	.LBB165:
 311:Src/config_system.cpp ****             
 1992              		.loc 1 311 13 view .LVU686
 1993 01e8 26E7     		b	.L126
 1994              	.L169:
 1995 01ea 00BF     		.align	2
 1996              	.L168:
 1997 01ec 00000000 		.word	.LANCHOR2
 1998 01f0 00000000 		.word	.LANCHOR0
 1999 01f4 00000000 		.word	.LANCHOR1
 2000 01f8 00007042 		.word	1114636288
 2001 01fc 3333733F 		.word	1064514355
 2002 0200 0000AA42 		.word	1118437376
 2003 0204 CDCCCC3D 		.word	1036831949
 2004 0208 0AD7233C 		.word	1008981770
 2005 020c 00000000 		.word	0
 2006 0210 00000000 		.word	.LANCHOR3
 2007 0214 00E00108 		.word	134340608
 2008 0218 0000C041 		.word	1103101952
 2009 021c 40420F00 		.word	1000000
 2010              	.LBE165:
 2011              	.LBE191:
 2012              	.LBE202:
 2013              	.LBE211:
ARM GAS  /tmp/ccjRNDYd.s 			page 52


 2014              		.cfi_endproc
 2015              	.LFE142:
 2017              		.section	.bss._ZL20g_config_initialized,"aw",%nobits
 2018              		.set	.LANCHOR2,. + 0
 2021              	_ZL20g_config_initialized:
 2022 0000 00       		.space	1
 2023              		.section	.bss._ZL8g_config,"aw",%nobits
 2024              		.align	2
 2025              		.set	.LANCHOR3,. + 0
 2028              	_ZL8g_config:
 2029 0000 00000000 		.space	96
 2029      00000000 
 2029      00000000 
 2029      00000000 
 2029      00000000 
 2030              		.section	.rodata.CSWTCH.15,"a"
 2031              		.align	2
 2032              		.set	.LANCHOR0,. + 0
 2035              	CSWTCH.15:
 2036 0000 0C000000 		.word	_ZL8g_config+12
 2037 0004 18000000 		.word	_ZL8g_config+24
 2038 0008 28000000 		.word	_ZL8g_config+40
 2039 000c 30000000 		.word	_ZL8g_config+48
 2040 0010 38000000 		.word	_ZL8g_config+56
 2041 0014 50000000 		.word	_ZL8g_config+80
 2042              		.section	.rodata.CSWTCH.17,"a"
 2043              		.align	2
 2044              		.set	.LANCHOR1,. + 0
 2047              	CSWTCH.17:
 2048 0000 0C000000 		.word	12
 2049 0004 10000000 		.word	16
 2050 0008 08000000 		.word	8
 2051 000c 08000000 		.word	8
 2052 0010 18000000 		.word	24
 2053 0014 10000000 		.word	16
 2054              		.text
 2055              	.Letext0:
 2056              		.file 2 "/usr/share/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/machine/_default_type
 2057              		.file 3 "/usr/share/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/sys/_stdint.h"
 2058              		.file 4 "Drivers/CMSIS/Device/ST/STM32G4xx/Include/stm32g4xx.h"
 2059              		.file 5 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_hal_def.h"
 2060              		.file 6 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_hal_flash.h"
 2061              		.file 7 "Inc/config_system.hpp"
 2062              		.file 8 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_hal_flash_ex.h"
ARM GAS  /tmp/ccjRNDYd.s 			page 53


DEFINED SYMBOLS
                            *ABS*:0000000000000000 config_system.cpp
     /tmp/ccjRNDYd.s:18     .text._Z11Flash_WritemPKvm.part.0:0000000000000000 $t
     /tmp/ccjRNDYd.s:26     .text._Z11Flash_WritemPKvm.part.0:0000000000000000 _Z11Flash_WritemPKvm.part.0
     /tmp/ccjRNDYd.s:171    .text._Z11Flash_WritemPKvm:0000000000000000 $t
     /tmp/ccjRNDYd.s:179    .text._Z11Flash_WritemPKvm:0000000000000000 _Z11Flash_WritemPKvm
     /tmp/ccjRNDYd.s:205    .text._Z11Flash_Erasemm:0000000000000000 $t
     /tmp/ccjRNDYd.s:213    .text._Z11Flash_Erasemm:0000000000000000 _Z11Flash_Erasemm
     /tmp/ccjRNDYd.s:290    .text.Config_GetAreaPtr:0000000000000000 $t
     /tmp/ccjRNDYd.s:298    .text.Config_GetAreaPtr:0000000000000000 Config_GetAreaPtr
     /tmp/ccjRNDYd.s:319    .text.Config_GetAreaPtr:0000000000000010 $d
     /tmp/ccjRNDYd.s:324    .text.Config_GetAreaSize:0000000000000000 $t
     /tmp/ccjRNDYd.s:332    .text.Config_GetAreaSize:0000000000000000 Config_GetAreaSize
     /tmp/ccjRNDYd.s:353    .text.Config_GetAreaSize:0000000000000010 $d
     /tmp/ccjRNDYd.s:358    .text.Config_SaveArea:0000000000000000 $t
     /tmp/ccjRNDYd.s:366    .text.Config_SaveArea:0000000000000000 Config_SaveArea
     /tmp/ccjRNDYd.s:434    .text.Config_SaveArea:0000000000000024 $d
     /tmp/ccjRNDYd.s:441    .text.Config_LoadArea:0000000000000000 $t
     /tmp/ccjRNDYd.s:449    .text.Config_LoadArea:0000000000000000 Config_LoadArea
     /tmp/ccjRNDYd.s:598    .text.Config_LoadArea:0000000000000054 $d
     /tmp/ccjRNDYd.s:606    .text.Config_Init:0000000000000000 $t
     /tmp/ccjRNDYd.s:614    .text.Config_Init:0000000000000000 Config_Init
     /tmp/ccjRNDYd.s:886    .text.Config_Init:00000000000000c4 $d
     /tmp/ccjRNDYd.s:902    .text.Config_SaveAll:0000000000000000 $t
     /tmp/ccjRNDYd.s:910    .text.Config_SaveAll:0000000000000000 Config_SaveAll
     /tmp/ccjRNDYd.s:1237   .text.Config_SaveAll:00000000000000d0 $d
     /tmp/ccjRNDYd.s:1245   .text.Config_LoadDefault:0000000000000000 $t
     /tmp/ccjRNDYd.s:1253   .text.Config_LoadDefault:0000000000000000 Config_LoadDefault
     /tmp/ccjRNDYd.s:1318   .text.Config_LoadDefault:0000000000000038 $d
     /tmp/ccjRNDYd.s:1327   .text.Config_LoadAllAreas:0000000000000000 $t
     /tmp/ccjRNDYd.s:1335   .text.Config_LoadAllAreas:0000000000000000 Config_LoadAllAreas
     /tmp/ccjRNDYd.s:1701   .text.Config_LoadAllAreas:0000000000000112 $d
     /tmp/ccjRNDYd.s:1997   .text.Config_LoadAllAreas:00000000000001ec $d
     /tmp/ccjRNDYd.s:2021   .bss._ZL20g_config_initialized:0000000000000000 _ZL20g_config_initialized
     /tmp/ccjRNDYd.s:2022   .bss._ZL20g_config_initialized:0000000000000000 $d
     /tmp/ccjRNDYd.s:2024   .bss._ZL8g_config:0000000000000000 $d
     /tmp/ccjRNDYd.s:2028   .bss._ZL8g_config:0000000000000000 _ZL8g_config
     /tmp/ccjRNDYd.s:2031   .rodata.CSWTCH.15:0000000000000000 $d
     /tmp/ccjRNDYd.s:2035   .rodata.CSWTCH.15:0000000000000000 CSWTCH.15
     /tmp/ccjRNDYd.s:2043   .rodata.CSWTCH.17:0000000000000000 $d
     /tmp/ccjRNDYd.s:2047   .rodata.CSWTCH.17:0000000000000000 CSWTCH.17
     /tmp/ccjRNDYd.s:1706   .text.Config_LoadAllAreas:0000000000000117 $d
     /tmp/ccjRNDYd.s:1706   .text.Config_LoadAllAreas:0000000000000118 $t

UNDEFINED SYMBOLS
HAL_FLASH_Unlock
HAL_FLASH_Program
HAL_FLASH_Lock
memcpy
HAL_FLASHEx_Erase
memset
