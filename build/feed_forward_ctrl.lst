ARM GAS  /tmp/ccaILIio.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 2
  13              		.file	"feed_forward_ctrl.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.rodata.OFFSET_TAB_CCMRx,"a"
  18              		.align	2
  21              	OFFSET_TAB_CCMRx:
  22 0000 00000000 		.ascii	"\000\000\000\000\004\004\004\00488"
  22      04040404 
  22      3838
  23              		.section	.rodata.SHIFT_TAB_OCxx,"a"
  24              		.align	2
  27              	SHIFT_TAB_OCxx:
  28 0000 00000800 		.ascii	"\000\000\010\000\000\000\010\000\000\010"
  28      00000800 
  28      0008
  29              		.section	.rodata.SHIFT_TAB_ICxx,"a"
  30              		.align	2
  33              	SHIFT_TAB_ICxx:
  34 0000 00000800 		.ascii	"\000\000\010\000\000\000\010\000\000\000"
  34      00000800 
  34      0000
  35              		.section	.rodata.SHIFT_TAB_CCxP,"a"
  36              		.align	2
  39              	SHIFT_TAB_CCxP:
  40 0000 00020406 		.ascii	"\000\002\004\006\010\012\014\016\020\024"
  40      080A0C0E 
  40      1014
  41              		.section	.rodata.SHIFT_TAB_OISx,"a"
  42              		.align	2
  45              	SHIFT_TAB_OISx:
  46 0000 00010203 		.ascii	"\000\001\002\003\004\005\006\007\010\012"
  46      04050607 
  46      080A
  47              		.section	.rodata.USART_PRESCALER_TAB,"a"
  48              		.align	2
  51              	USART_PRESCALER_TAB:
  52 0000 01000000 		.word	1
  53 0004 02000000 		.word	2
  54 0008 04000000 		.word	4
  55 000c 06000000 		.word	6
  56 0010 08000000 		.word	8
  57 0014 0A000000 		.word	10
  58 0018 0C000000 		.word	12
  59 001c 10000000 		.word	16
ARM GAS  /tmp/ccaILIio.s 			page 2


  60 0020 20000000 		.word	32
  61 0024 40000000 		.word	64
  62 0028 80000000 		.word	128
  63 002c 00010000 		.word	256
  64              		.section	.rodata.CHANNEL_OFFSET_TAB,"a"
  65              		.align	2
  68              	CHANNEL_OFFSET_TAB:
  69 0000 081C3044 		.ascii	"\010\0340DXl"
  69      586C
  70              		.section	.text.VBS_GetAvBusVoltage_d,"ax",%progbits
  71              		.align	1
  72              		.arch armv7e-m
  73              		.syntax unified
  74              		.thumb
  75              		.thumb_func
  76              		.fpu fpv4-sp-d16
  78              	VBS_GetAvBusVoltage_d:
  79              	.LFB1435:
  80              		.file 1 "MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h"
   1:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h **** /**
   2:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****   ******************************************************************************
   3:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****   * @file    bus_voltage_sensor.h
   4:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****   * @author  Motor Control SDK Team, ST Microelectronics
   5:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****   * @brief   This file contains all definitions and functions prototypes for the
   6:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****   *          BusVoltageSensor component of the Motor Control SDK.
   7:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****   ******************************************************************************
   8:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****   * @attention
   9:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****   *
  10:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****   * <h2><center>&copy; Copyright (c) 2024 STMicroelectronics.
  11:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****   * All rights reserved.</center></h2>
  12:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****   *
  13:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****   * This software component is licensed by ST under Ultimate Liberty license
  14:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****   * SLA0044, the "License"; You may not use this file except in compliance with
  15:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****   * the License. You may obtain a copy of the License at:
  16:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****   *                             www.st.com/SLA0044
  17:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****   *
  18:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****   ******************************************************************************
  19:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****   * @ingroup BusVoltageSensor
  20:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****   */
  21:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h **** 
  22:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h **** /* Define to prevent recursive inclusion -------------------------------------*/
  23:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h **** #ifndef BUSVOLTAGESENSOR_H
  24:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h **** #define BUSVOLTAGESENSOR_H
  25:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h **** 
  26:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h **** #ifdef __cplusplus
  27:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h **** extern "C" {
  28:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h **** #endif /* __cplusplus */
  29:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h **** 
  30:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h **** /* Includes ------------------------------------------------------------------*/
  31:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h **** #include "mc_type.h"
  32:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h **** 
  33:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h **** /** @addtogroup MCSDK
  34:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****   * @{
  35:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****   */
  36:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h **** 
  37:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h **** /** @addtogroup BusVoltageSensor
  38:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****   * @{
ARM GAS  /tmp/ccaILIio.s 			page 3


  39:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****   */
  40:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h **** 
  41:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h **** /**
  42:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****   * @brief  BusVoltageSensor handle definition
  43:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****   */
  44:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h **** typedef struct
  45:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h **** {
  46:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****   SensorType_t SensorType;    /*!< It contains the information about the type
  47:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****                                    of instanced bus voltage sensor object.
  48:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****                                    It can be equal to REAL_SENSOR or
  49:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****                                    VIRTUAL_SENSOR */
  50:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****   uint16_t ConversionFactor;  /*!< It is used to convert bus voltage from
  51:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****                                    u16Volts into real Volts (V).
  52:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****                                    1 u16Volt = 65536/ConversionFactor Volts
  53:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****                                    For real sensors ConversionFactor it is
  54:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****                                    equal to the product between the expected MCU
  55:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****                                    voltage and the voltage sensing network
  56:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****                                    attenuation. For virtual sensors it must
  57:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****                                    be equal to 500 */
  58:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h **** 
  59:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****   uint16_t LatestConv;        /*!< It contains latest Vbus converted value
  60:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****                                    expressed in u16Volt format */
  61:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****   uint16_t AvBusVoltage_d;    /*!< It contains latest available average Vbus
  62:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****                                    expressed in u16Volt format */
  63:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****   uint16_t FaultState;        /*!< It contains latest Fault code (#MC_NO_ERROR,
  64:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****                                    #MC_OVER_VOLT or #MC_UNDER_VOLT) */
  65:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h **** } BusVoltageSensor_Handle_t;
  66:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h **** 
  67:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h **** 
  68:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h **** /* Exported functions ------------------------------------------------------- */
  69:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h **** uint16_t VBS_GetBusVoltage_d(const BusVoltageSensor_Handle_t *pHandle);
  70:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h **** uint16_t VBS_GetAvBusVoltage_V(const BusVoltageSensor_Handle_t *pHandle);
  71:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h **** 
  72:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h **** /**
  73:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****   * @brief  It return latest averaged Vbus measurement expressed in u16Volt format
  74:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****   * @param  pHandle related Handle of BusVoltageSensor_Handle_t
  75:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****   * @retval uint16_t Latest averaged Vbus measurement in u16Volt format
  76:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****   */
  77:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h **** static inline uint16_t VBS_GetAvBusVoltage_d(const BusVoltageSensor_Handle_t *pHandle)
  78:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h **** {
  81              		.loc 1 78 1
  82              		.cfi_startproc
  83              		@ args = 0, pretend = 0, frame = 8
  84              		@ frame_needed = 1, uses_anonymous_args = 0
  85              		@ link register save eliminated.
  86 0000 80B4     		push	{r7}
  87              	.LCFI0:
  88              		.cfi_def_cfa_offset 4
  89              		.cfi_offset 7, -4
  90 0002 83B0     		sub	sp, sp, #12
  91              	.LCFI1:
  92              		.cfi_def_cfa_offset 16
  93 0004 00AF     		add	r7, sp, #0
  94              	.LCFI2:
  95              		.cfi_def_cfa_register 7
  96 0006 7860     		str	r0, [r7, #4]
  79:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h **** #ifdef NULL_PTR_CHECK_BUS_VOLT
ARM GAS  /tmp/ccaILIio.s 			page 4


  80:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****   uint16_t temp_avBusVoltage_d;
  81:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h **** 
  82:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****   if (MC_NULL == pHandle)
  83:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****   {
  84:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****     temp_avBusVoltage_d = 0U;
  85:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****   }
  86:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****   else
  87:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****   {
  88:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****     temp_avBusVoltage_d = pHandle->AvBusVoltage_d;
  89:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****   }
  90:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****   return (temp_avBusVoltage_d);
  91:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h **** #else
  92:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h ****   return (pHandle->AvBusVoltage_d);
  97              		.loc 1 92 18
  98 0008 7B68     		ldr	r3, [r7, #4]
  99 000a DB88     		ldrh	r3, [r3, #6]
  93:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h **** #endif
  94:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/bus_voltage_sensor.h **** }
 100              		.loc 1 94 1
 101 000c 1846     		mov	r0, r3
 102 000e 0C37     		adds	r7, r7, #12
 103              	.LCFI3:
 104              		.cfi_def_cfa_offset 4
 105 0010 BD46     		mov	sp, r7
 106              	.LCFI4:
 107              		.cfi_def_cfa_register 13
 108              		@ sp needed
 109 0012 5DF8047B 		ldr	r7, [sp], #4
 110              	.LCFI5:
 111              		.cfi_restore 7
 112              		.cfi_def_cfa_offset 0
 113 0016 7047     		bx	lr
 114              		.cfi_endproc
 115              	.LFE1435:
 117              		.section	.text.STC_GetSpeedSensor,"ax",%progbits
 118              		.align	1
 119              		.syntax unified
 120              		.thumb
 121              		.thumb_func
 122              		.fpu fpv4-sp-d16
 124              	STC_GetSpeedSensor:
 125              	.LFB1446:
 126              		.file 2 "MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h"
   1:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** /**
   2:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   ******************************************************************************
   3:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   * @file    speed_torq_ctrl.h
   4:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   * @author  Motor Control SDK Team, ST Microelectronics
   5:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   * @brief   This file contains all definitions and functions prototypes for the
   6:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   *          Speed & Torque Control component of the Motor Control SDK.
   7:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   ******************************************************************************
   8:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   * @attention
   9:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   *
  10:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   * <h2><center>&copy; Copyright (c) 2024 STMicroelectronics.
  11:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   * All rights reserved.</center></h2>
  12:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   *
  13:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   * This software component is licensed by ST under Ultimate Liberty license
  14:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   * SLA0044, the "License"; You may not use this file except in compliance with
ARM GAS  /tmp/ccaILIio.s 			page 5


  15:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   * the License. You may obtain a copy of the License at:
  16:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   *                             www.st.com/SLA0044
  17:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   *
  18:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   ******************************************************************************
  19:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   * @ingroup SpeednTorqCtrlClassic
  20:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   */
  21:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** 
  22:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** /* Define to prevent recursive inclusion -------------------------------------*/
  23:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** #ifndef SPEEDNTORQCTRLCLASS_H
  24:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** #define SPEEDNTORQCTRLCLASS_H
  25:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** 
  26:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** #ifdef __cplusplus
  27:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** extern "C" {
  28:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** #endif /* __cplusplus */
  29:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** 
  30:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** /* Includes ------------------------------------------------------------------*/
  31:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** #include "mc_type.h"
  32:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** #include "pid_regulator.h"
  33:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** #include "speed_pos_fdbk.h"
  34:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** 
  35:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** /** @addtogroup MCSDK
  36:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   * @{
  37:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   */
  38:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** 
  39:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** /** @addtogroup SpeednTorqCtrl
  40:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   * @{
  41:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   */
  42:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** 
  43:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** /** @addtogroup SpeednTorqCtrlClassic
  44:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   * @{
  45:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   */
  46:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** 
  47:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** /* Exported types ------------------------------------------------------------*/
  48:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** 
  49:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** /**
  50:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   * @brief  Speed & Torque Control parameters definition
  51:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   */
  52:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** typedef struct
  53:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** {
  54:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   MC_ControlMode_t Mode;               /*!< Modality of STC. It can be one of these two settings:
  55:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****                                            MCM_TORQUE_MODE to enable the Torque mode or
  56:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****                                            MCM_SPEED_MODE to enable the Speed mode. */
  57:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   int16_t TargetFinal;                 /*!< Backup of #hTargetFinal to be applied in the last step.
  58:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   int32_t SpeedRefUnitExt;             /*!< Current mechanical rotor speed reference expressed in
  59:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****                                             [SPEED_UNIT](measurement_units.md) multiplied by 65536.
  60:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   int32_t TorqueRef;                   /*!< Current motor torque reference. This value represents a
  61:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****                                             the Iq current expressed in digit multiplied by 65536. 
  62:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   uint32_t RampRemainingStep;          /*!< Number of steps remaining to complete the ramp. */
  63:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   PID_Handle_t *PISpeed;               /*!< The regulator used to perform the speed control loop. *
  64:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   SpeednPosFdbk_Handle_t *SPD;         /*!< The speed sensor used to perform the speed regulation. 
  65:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   int32_t IncDecAmount;                /*!< Increment/decrement amount to be applied to the referen
  66:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****                                             #CalcTorqueReference. */
  67:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   uint16_t STCFrequencyHz;             /*!< Frequency on which the user updates the torque referenc
  68:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****                                             #STC_CalcTorqueReference method expressed in Hz */
  69:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   uint16_t MaxAppPositiveMecSpeedUnit; /*!< Application maximum positive value of the rotor mechani
  70:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****                                             Expressed in the unit defined by [SPEED_UNIT](measureme
  71:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   uint16_t MinAppPositiveMecSpeedUnit; /*!< Application minimum positive value of the rotor mechani
ARM GAS  /tmp/ccaILIio.s 			page 6


  72:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****                                             Expressed in the unit defined by [SPEED_UNIT](measureme
  73:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   int16_t MaxAppNegativeMecSpeedUnit;  /*!< Application maximum negative value of the rotor mechani
  74:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****                                             Expressed in the unit defined by [SPEED_UNIT](measureme
  75:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   int16_t MinAppNegativeMecSpeedUnit;  /*!< Application minimum negative value of the rotor mechani
  76:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****                                             Expressed in the unit defined by [SPEED_UNIT](measureme
  77:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   uint16_t MaxPositiveTorque;          /*!< Maximum positive value of motor torque. This value repr
  78:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****                                             the maximum Iq current expressed in digit. */
  79:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   int16_t MinNegativeTorque;           /*!< Minimum negative value of motor torque. This value repr
  80:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****                                             the maximum Iq current expressed in digit. */
  81:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   MC_ControlMode_t ModeDefault;        /*!< Default STC modality. */
  82:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   int16_t MecSpeedRefUnitDefault;      /*!< Default mechanical rotor speed reference expressed in t
  83:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****                                             [SPEED_UNIT](measurement_units.md). */
  84:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   int16_t TorqueRefDefault;            /*!< Default motor torque reference. This value represents a
  85:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****                                             current reference expressed in digit. */
  86:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   int16_t IdrefDefault;                /*!< Default Id current reference expressed in digit. */
  87:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** } SpeednTorqCtrl_Handle_t;
  88:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** 
  89:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** 
  90:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** 
  91:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** /* Initializes all the object variables */
  92:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** void STC_Init(SpeednTorqCtrl_Handle_t *pHandle, PID_Handle_t *pPI, SpeednPosFdbk_Handle_t *SPD_Hand
  93:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** 
  94:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** /* Resets the integral term of speed regulator */
  95:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** void STC_Clear(SpeednTorqCtrl_Handle_t *pHandle);
  96:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** 
  97:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** /* Gets the current mechanical rotor speed reference */
  98:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** int16_t STC_GetMecSpeedRefUnit(SpeednTorqCtrl_Handle_t *pHandle);
  99:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** 
 100:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** /* Sets the mode of the speed and torque controller (Torque mode or Speed mode) */
 101:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** void STC_SetControlMode(SpeednTorqCtrl_Handle_t *pHandle, MC_ControlMode_t bMode);
 102:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** 
 103:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** /* Starts the execution of a ramp using new target and duration */
 104:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** bool STC_ExecRamp(SpeednTorqCtrl_Handle_t *pHandle, int16_t hTargetFinal, uint32_t hDurationms);
 105:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** 
 106:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** /* Computes the new value of motor torque reference */
 107:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** int16_t STC_CalcTorqueReference(SpeednTorqCtrl_Handle_t *pHandle);
 108:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** 
 109:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** /* Gets the Default mechanical rotor speed reference */
 110:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** int16_t STC_GetMecSpeedRefUnitDefault(SpeednTorqCtrl_Handle_t *pHandle);
 111:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** 
 112:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** /* Returns the Application maximum positive rotor mechanical speed */
 113:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** uint16_t STC_GetMaxAppPositiveMecSpeedUnit(SpeednTorqCtrl_Handle_t *pHandle);
 114:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** 
 115:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** /* Returns the Application minimum negative rotor mechanical speed */
 116:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** int16_t STC_GetMinAppNegativeMecSpeedUnit(SpeednTorqCtrl_Handle_t *pHandle);
 117:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** 
 118:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** /* Stops the execution of speed ramp */
 119:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** bool STC_StopSpeedRamp(SpeednTorqCtrl_Handle_t *pHandle);
 120:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** 
 121:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** /* Sets in real time the speed sensor utilized by the FOC */
 122:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** void STC_SetSpeedSensor(SpeednTorqCtrl_Handle_t *pHandle, SpeednPosFdbk_Handle_t *SPD_Handle);
 123:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** 
 124:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** /* It returns the default values of Iqdref */
 125:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** qd_t STC_GetDefaultIqdref(SpeednTorqCtrl_Handle_t *pHandle);
 126:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** 
 127:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** /* Forces the speed reference to the current speed */
 128:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** void STC_ForceSpeedReferenceToCurrentSpeed(SpeednTorqCtrl_Handle_t *pHandle);
ARM GAS  /tmp/ccaILIio.s 			page 7


 129:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** 
 130:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** /**
 131:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   * @brief  Gets the modality of the speed and torque controller
 132:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   *           @ref SpeednTorqCtrl_Handle_t::Mode "Mode".
 133:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   * @param  pHandle: handler of the current instance of the SpeednTorqCtrl component.
 134:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   * @retval MC_ControlMode_t  modality of STC. It can be one of
 135:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   *         these two values: MCM_TORQUE_MODE or MCM_SPEED_MODE.
 136:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   *
 137:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   * - Called by @ref SpeedRegulatorPotentiometer Speed potentiometer component to manage new speed 
 138:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   */
 139:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** static inline MC_ControlMode_t STC_GetControlMode(SpeednTorqCtrl_Handle_t *pHandle)
 140:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** {
 141:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 142:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   return ((MC_NULL == pHandle) ? MCM_TORQUE_MODE : pHandle->Mode);
 143:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** #else
 144:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   return (pHandle->Mode);
 145:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** #endif
 146:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** }
 147:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** 
 148:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** /**
 149:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   * @brief  Interrupts the execution of any previous ramp command in particular by clearing
 150:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   *         the number of steps remaining to complete the ramp
 151:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   *         @ref SpeednTorqCtrl_Handle_t::RampRemainingStep "RampRemainingStep".
 152:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   * @param  pHandle: handler of the current instance of the SpeednTorqCtrl component.
 153:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   * @retval none
 154:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   *
 155:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   * - If STC has been set in Torque mode the last value of Iq is maintained.\n
 156:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   * - If STC has been set in Speed mode the last value of mechanical
 157:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   * rotor speed reference is maintained.
 158:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   * - Called by MCI_StopSpeedRamp execution command.
 159:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   */
 160:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** static inline void STC_StopRamp(SpeednTorqCtrl_Handle_t *pHandle)
 161:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** {
 162:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 163:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   if (MC_NULL == pHandle)
 164:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   {
 165:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****     /* Nothing to do */
 166:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   }
 167:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   else
 168:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   {
 169:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** #endif
 170:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****     pHandle->RampRemainingStep = 0U;
 171:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****     pHandle->IncDecAmount = 0;
 172:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 173:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   }
 174:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** #endif
 175:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** }
 176:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** 
 177:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** /**
 178:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   * @brief  Checks if the settled speed or torque ramp has been completed by checking zero value of
 179:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   *           @ref SpeednTorqCtrl_Handle_t::RampRemainingStep "RampRemainingStep".
 180:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   * @param  pHandle: handler of the current instance of the SpeednTorqCtrl component.
 181:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   * @retval bool returning true if the ramp is completed, false otherwise.
 182:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   *
 183:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   * - Called during motor profiler tuning of HALL sensor.
 184:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   */
 185:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** static inline bool STC_RampCompleted(SpeednTorqCtrl_Handle_t *pHandle)
ARM GAS  /tmp/ccaILIio.s 			page 8


 186:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** {
 187:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   bool retVal = false;
 188:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 189:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   if (MC_NULL == pHandle)
 190:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   {
 191:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****     /* Nothing to do */
 192:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   }
 193:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   else
 194:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   {
 195:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** #endif
 196:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****     if (0U == pHandle->RampRemainingStep)
 197:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****     {
 198:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****       retVal = true;
 199:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****     }
 200:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 201:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   }
 202:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** #endif
 203:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   return (retVal);
 204:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** }
 205:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** 
 206:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** /**
 207:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   * @brief  Changes the nominal current by setting new values of
 208:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   *         @ref SpeednTorqCtrl_Handle_t::MaxPositiveTorque "MaxPositiveTorque" and
 209:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   *         @ref SpeednTorqCtrl_Handle_t::MinNegativeTorque "MinNegativeTorque".
 210:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   * @param  pHandle: handler of the current instance of the SpeednTorqCtrl component.
 211:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   * @param  hNominalCurrent: represents actually the maximum Iq current expressed in digit.
 212:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   * @retval none
 213:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   *
 214:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   * - Not used into current implementation.
 215:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   */
 216:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** static inline void STC_SetNominalCurrent(SpeednTorqCtrl_Handle_t *pHandle, uint16_t hNominalCurrent
 217:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** {
 218:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 219:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   if (MC_NULL == pHandle)
 220:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   {
 221:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****     /* Nothing to do */
 222:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   }
 223:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   else
 224:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   {
 225:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** #endif
 226:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****     pHandle->MaxPositiveTorque = hNominalCurrent;
 227:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****     pHandle->MinNegativeTorque = -(int16_t)hNominalCurrent;
 228:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 229:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   }
 230:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** #endif
 231:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** }
 232:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** 
 233:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** /**
 234:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   * @brief Returns the speed sensor utilized by the FOC.
 235:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   * @param pHandle: handler of the current instance of the SpeednTorqCtrl component.
 236:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   * @retval SpeednPosFdbk_Handle_t speed sensor utilized by the FOC.
 237:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   *
 238:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   * - Called as soon as component parameters are required by MC FW.
 239:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   */
 240:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** static inline SpeednPosFdbk_Handle_t *STC_GetSpeedSensor(SpeednTorqCtrl_Handle_t *pHandle)
 241:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** {
 127              		.loc 2 241 1
ARM GAS  /tmp/ccaILIio.s 			page 9


 128              		.cfi_startproc
 129              		@ args = 0, pretend = 0, frame = 8
 130              		@ frame_needed = 1, uses_anonymous_args = 0
 131              		@ link register save eliminated.
 132 0000 80B4     		push	{r7}
 133              	.LCFI6:
 134              		.cfi_def_cfa_offset 4
 135              		.cfi_offset 7, -4
 136 0002 83B0     		sub	sp, sp, #12
 137              	.LCFI7:
 138              		.cfi_def_cfa_offset 16
 139 0004 00AF     		add	r7, sp, #0
 140              	.LCFI8:
 141              		.cfi_def_cfa_register 7
 142 0006 7860     		str	r0, [r7, #4]
 242:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 243:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   return ((MC_NULL ==  pHandle) ? MC_NULL : pHandle->SPD);
 244:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** #else
 245:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h ****   return (pHandle->SPD);
 143              		.loc 2 245 18
 144 0008 7B68     		ldr	r3, [r7, #4]
 145 000a 5B69     		ldr	r3, [r3, #20]
 246:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** #endif
 247:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h **** }
 146              		.loc 2 247 1
 147 000c 1846     		mov	r0, r3
 148 000e 0C37     		adds	r7, r7, #12
 149              	.LCFI9:
 150              		.cfi_def_cfa_offset 4
 151 0010 BD46     		mov	sp, r7
 152              	.LCFI10:
 153              		.cfi_def_cfa_register 13
 154              		@ sp needed
 155 0012 5DF8047B 		ldr	r7, [sp], #4
 156              	.LCFI11:
 157              		.cfi_restore 7
 158              		.cfi_def_cfa_offset 0
 159 0016 7047     		bx	lr
 160              		.cfi_endproc
 161              	.LFE1446:
 163              		.section	.text.FF_Init,"ax",%progbits
 164              		.align	1
 165              		.weak	FF_Init
 166              		.syntax unified
 167              		.thumb
 168              		.thumb_func
 169              		.fpu fpv4-sp-d16
 171              	FF_Init:
 172              	.LFB1447:
 173              		.file 3 "MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c"
   1:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** /**
   2:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   ******************************************************************************
   3:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * @file    feed_forward_ctrl.c
   4:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * @author  Motor Control SDK Team, ST Microelectronics
   5:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * @brief   This file provides firmware functions that implement the Feed-forward
   6:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   *          Control component of the Motor Control SDK.
   7:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   *
ARM GAS  /tmp/ccaILIio.s 			page 10


   8:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   ******************************************************************************
   9:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * @attention
  10:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   *
  11:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * <h2><center>&copy; Copyright (c) 2024 STMicroelectronics International N.V.
  12:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * All rights reserved.</center></h2>
  13:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   *
  14:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * Redistribution and use in source and binary forms, with or without
  15:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * modification, are permitted, provided that the following conditions are met:
  16:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   *
  17:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * 1. Redistribution of source code must retain the above copyright notice,
  18:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   *    this list of conditions and the following disclaimer.
  19:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * 2. Redistributions in binary form must reproduce the above copyright notice,
  20:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   *    this list of conditions and the following disclaimer in the documentation
  21:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   *    and/or other materials provided with the distribution.
  22:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * 3. Neither the name of STMicroelectronics nor the names of other
  23:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   *    contributors to this software may be used to endorse or promote products
  24:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   *    derived from this software without specific written permission.
  25:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * 4. This software, including modifications and/or derivative works of this
  26:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   *    software, must execute solely and exclusively on microcontroller or
  27:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   *    microprocessor devices manufactured by or for STMicroelectronics.
  28:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * 5. Redistribution and use of this software other than as permitted under
  29:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   *    this license is void and will automatically terminate your rights under
  30:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   *    this license.
  31:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   *
  32:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * THIS SOFTWARE IS PROVIDED BY STMICROELECTRONICS AND CONTRIBUTORS "AS IS"
  33:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * AND ANY EXPRESS, IMPLIED OR STATUTORY WARRANTIES, INCLUDING, BUT NOT
  34:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A
  35:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * PARTICULAR PURPOSE AND NON-INFRINGEMENT OF THIRD PARTY INTELLECTUAL PROPERTY
  36:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * RIGHTS ARE DISCLAIMED TO THE FULLEST EXTENT PERMITTED BY LAW. IN NO EVENT
  37:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * SHALL STMICROELECTRONICS OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,
  38:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
  39:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,
  40:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  41:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  42:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
  43:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  44:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   *
  45:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   ******************************************************************************
  46:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * @ingroup FeedForwardCtrl
  47:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   */
  48:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** 
  49:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** /* Includes ------------------------------------------------------------------*/
  50:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #include "feed_forward_ctrl.h"
  51:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #include <stddef.h>
  52:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** 
  53:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #include "mc_type.h"
  54:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #include "bus_voltage_sensor.h"
  55:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #include "speed_pos_fdbk.h"
  56:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #include "speed_torq_ctrl.h"
  57:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #include "r_divider_bus_voltage_sensor.h"
  58:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** 
  59:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** /** @addtogroup MCSDK
  60:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * @{
  61:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   */
  62:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** 
  63:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** /** @defgroup FeedForwardCtrl Feed-forward Control
  64:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * @brief Feed-forward Control component of the Motor Control SDK
ARM GAS  /tmp/ccaILIio.s 			page 11


  65:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   *
  66:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * See the [Feed-forward chapter of the User Manual](feed_forward_current_regulation.md) for more 
  67:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * background of this regulator.
  68:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * @{
  69:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   */
  70:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** 
  71:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** /* Private macros ------------------------------------------------------------*/
  72:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #define SEGMNUM (uint8_t)7 /* coeff no. -1 */
  73:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #define SATURATION_TO_S16(a)    if ((a) > 32767)                \
  74:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   {                               \
  75:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     (a) = 32767;                  \
  76:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   }                               \
  77:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   else if ((a) < -32767)          \
  78:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   {                               \
  79:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     (a) = -32767;                 \
  80:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   }                               \
  81:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   else                            \
  82:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   {}                              \
  83:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** 
  84:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** 
  85:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** 
  86:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** 
  87:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** /**
  88:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * @brief  Initializes all the component variables
  89:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * @param  pHandle Feed-forward init structure.
  90:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * @param  pBusSensor VBus Sensor.
  91:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * @param  pPIDId Id PID structure.
  92:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * @param  pPIDIq Iq PID structure.
  93:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   */
  94:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** __weak void FF_Init(FF_Handle_t *pHandle, BusVoltageSensor_Handle_t *pBusSensor, PID_Handle_t *pPID
  95:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****                     PID_Handle_t *pPIDIq)
  96:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** {
 174              		.loc 3 96 1
 175              		.cfi_startproc
 176              		@ args = 0, pretend = 0, frame = 16
 177              		@ frame_needed = 1, uses_anonymous_args = 0
 178              		@ link register save eliminated.
 179 0000 80B4     		push	{r7}
 180              	.LCFI12:
 181              		.cfi_def_cfa_offset 4
 182              		.cfi_offset 7, -4
 183 0002 85B0     		sub	sp, sp, #20
 184              	.LCFI13:
 185              		.cfi_def_cfa_offset 24
 186 0004 00AF     		add	r7, sp, #0
 187              	.LCFI14:
 188              		.cfi_def_cfa_register 7
 189 0006 F860     		str	r0, [r7, #12]
 190 0008 B960     		str	r1, [r7, #8]
 191 000a 7A60     		str	r2, [r7, #4]
 192 000c 3B60     		str	r3, [r7]
  97:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #ifdef NULL_PTR_CHECK_FEED_FWD_CTRL
  98:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   if (NULL == pHandle)
  99:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   {
 100:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     /* Nothing to do */
 101:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   }
 102:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   else
ARM GAS  /tmp/ccaILIio.s 			page 12


 103:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   {
 104:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #endif
 105:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     pHandle->wConstant_1D = pHandle->wDefConstant_1D;
 193              		.loc 3 105 36
 194 000e FB68     		ldr	r3, [r7, #12]
 195 0010 9A6A     		ldr	r2, [r3, #40]
 196              		.loc 3 105 27
 197 0012 FB68     		ldr	r3, [r7, #12]
 198 0014 DA60     		str	r2, [r3, #12]
 106:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     pHandle->wConstant_1Q = pHandle->wDefConstant_1Q;
 199              		.loc 3 106 36
 200 0016 FB68     		ldr	r3, [r7, #12]
 201 0018 DA6A     		ldr	r2, [r3, #44]
 202              		.loc 3 106 27
 203 001a FB68     		ldr	r3, [r7, #12]
 204 001c 1A61     		str	r2, [r3, #16]
 107:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     pHandle->wConstant_2  = pHandle->wDefConstant_2;
 205              		.loc 3 107 36
 206 001e FB68     		ldr	r3, [r7, #12]
 207 0020 1A6B     		ldr	r2, [r3, #48]
 208              		.loc 3 107 27
 209 0022 FB68     		ldr	r3, [r7, #12]
 210 0024 5A61     		str	r2, [r3, #20]
 108:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** 
 109:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     pHandle->pBus_Sensor = pBusSensor;
 211              		.loc 3 109 26
 212 0026 FB68     		ldr	r3, [r7, #12]
 213 0028 BA68     		ldr	r2, [r7, #8]
 214 002a 9A61     		str	r2, [r3, #24]
 110:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** 
 111:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     pHandle->pPID_d = pPIDId;
 215              		.loc 3 111 21
 216 002c FB68     		ldr	r3, [r7, #12]
 217 002e 7A68     		ldr	r2, [r7, #4]
 218 0030 1A62     		str	r2, [r3, #32]
 112:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** 
 113:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     pHandle->pPID_q = pPIDIq;
 219              		.loc 3 113 21
 220 0032 FB68     		ldr	r3, [r7, #12]
 221 0034 3A68     		ldr	r2, [r7]
 222 0036 DA61     		str	r2, [r3, #28]
 114:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #ifdef NULL_PTR_CHECK_FEED_FWD_CTRL
 115:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   }
 116:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #endif
 117:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** }
 223              		.loc 3 117 1
 224 0038 00BF     		nop
 225 003a 1437     		adds	r7, r7, #20
 226              	.LCFI15:
 227              		.cfi_def_cfa_offset 4
 228 003c BD46     		mov	sp, r7
 229              	.LCFI16:
 230              		.cfi_def_cfa_register 13
 231              		@ sp needed
 232 003e 5DF8047B 		ldr	r7, [sp], #4
 233              	.LCFI17:
 234              		.cfi_restore 7
ARM GAS  /tmp/ccaILIio.s 			page 13


 235              		.cfi_def_cfa_offset 0
 236 0042 7047     		bx	lr
 237              		.cfi_endproc
 238              	.LFE1447:
 240              		.section	.text.FF_Clear,"ax",%progbits
 241              		.align	1
 242              		.weak	FF_Clear
 243              		.syntax unified
 244              		.thumb
 245              		.thumb_func
 246              		.fpu fpv4-sp-d16
 248              	FF_Clear:
 249              	.LFB1448:
 118:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** 
 119:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** /**
 120:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * @brief  It should be called before each motor start and clears the Feed-forward
 121:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   *         internal variables.
 122:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * @param  pHandle Feed-forward structure.
 123:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   */
 124:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** __weak void FF_Clear(FF_Handle_t *pHandle)
 125:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** {
 250              		.loc 3 125 1
 251              		.cfi_startproc
 252              		@ args = 0, pretend = 0, frame = 8
 253              		@ frame_needed = 1, uses_anonymous_args = 0
 254              		@ link register save eliminated.
 255 0000 80B4     		push	{r7}
 256              	.LCFI18:
 257              		.cfi_def_cfa_offset 4
 258              		.cfi_offset 7, -4
 259 0002 83B0     		sub	sp, sp, #12
 260              	.LCFI19:
 261              		.cfi_def_cfa_offset 16
 262 0004 00AF     		add	r7, sp, #0
 263              	.LCFI20:
 264              		.cfi_def_cfa_register 7
 265 0006 7860     		str	r0, [r7, #4]
 126:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #ifdef NULL_PTR_CHECK_FEED_FWD_CTRL
 127:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   if (NULL == pHandle)
 128:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   {
 129:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     /* Nothing to do */
 130:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   }
 131:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   else
 132:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   {
 133:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #endif
 134:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     pHandle->Vqdff.q = (int16_t)0;
 266              		.loc 3 134 22
 267 0008 7B68     		ldr	r3, [r7, #4]
 268 000a 0022     		movs	r2, #0
 269 000c 1A80     		strh	r2, [r3]	@ movhi
 135:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     pHandle->Vqdff.d = (int16_t)0;
 270              		.loc 3 135 22
 271 000e 7B68     		ldr	r3, [r7, #4]
 272 0010 0022     		movs	r2, #0
 273 0012 5A80     		strh	r2, [r3, #2]	@ movhi
 136:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #ifdef NULL_PTR_CHECK_FEED_FWD_CTRL
 137:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   }
ARM GAS  /tmp/ccaILIio.s 			page 14


 138:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #endif
 139:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** }
 274              		.loc 3 139 1
 275 0014 00BF     		nop
 276 0016 0C37     		adds	r7, r7, #12
 277              	.LCFI21:
 278              		.cfi_def_cfa_offset 4
 279 0018 BD46     		mov	sp, r7
 280              	.LCFI22:
 281              		.cfi_def_cfa_register 13
 282              		@ sp needed
 283 001a 5DF8047B 		ldr	r7, [sp], #4
 284              	.LCFI23:
 285              		.cfi_restore 7
 286              		.cfi_def_cfa_offset 0
 287 001e 7047     		bx	lr
 288              		.cfi_endproc
 289              	.LFE1448:
 291              		.section	.text.FF_VqdffComputation,"ax",%progbits
 292              		.align	1
 293              		.weak	FF_VqdffComputation
 294              		.syntax unified
 295              		.thumb
 296              		.thumb_func
 297              		.fpu fpv4-sp-d16
 299              	FF_VqdffComputation:
 300              	.LFB1449:
 140:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** 
 141:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** /**
 142:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * @brief  It implements Feed-forward controller by computing new Vqdff value.
 143:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   *         This will be then summed up to PI output in FF_VqdConditioning
 144:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   *         method.
 145:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * @param  pHandle Feed-forward structure.
 146:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * @param  Iqdref Iqd reference components used to calculate the Feed-forward
 147:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   *         action.
 148:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * @param  pSTC Pointer on speed and torque controller structure.
 149:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   */
 150:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** __weak void FF_VqdffComputation(FF_Handle_t *pHandle, qd_t Iqdref, SpeednTorqCtrl_Handle_t *pSTC)
 151:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** {
 301              		.loc 3 151 1
 302              		.cfi_startproc
 303              		@ args = 0, pretend = 0, frame = 32
 304              		@ frame_needed = 1, uses_anonymous_args = 0
 305 0000 80B5     		push	{r7, lr}
 306              	.LCFI24:
 307              		.cfi_def_cfa_offset 8
 308              		.cfi_offset 7, -8
 309              		.cfi_offset 14, -4
 310 0002 88B0     		sub	sp, sp, #32
 311              	.LCFI25:
 312              		.cfi_def_cfa_offset 40
 313 0004 00AF     		add	r7, sp, #0
 314              	.LCFI26:
 315              		.cfi_def_cfa_register 7
 316 0006 F860     		str	r0, [r7, #12]
 317 0008 B960     		str	r1, [r7, #8]
 318 000a 7A60     		str	r2, [r7, #4]
ARM GAS  /tmp/ccaILIio.s 			page 15


 152:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #ifdef NULL_PTR_CHECK_FEED_FWD_CTRL
 153:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   if (NULL == pHandle)
 154:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   {
 155:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     /* Nothing to do */
 156:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   }
 157:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   else
 158:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   {
 159:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #endif
 160:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     int32_t wtemp1, wtemp2;
 161:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     int16_t hSpeed_dpp;
 162:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     uint16_t hAvBusVoltage_d;
 163:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     SpeednPosFdbk_Handle_t *SpeedSensor;
 164:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** 
 165:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     SpeedSensor = STC_GetSpeedSensor(pSTC);
 319              		.loc 3 165 19
 320 000c 7868     		ldr	r0, [r7, #4]
 321 000e FFF7FEFF 		bl	STC_GetSpeedSensor
 322 0012 B861     		str	r0, [r7, #24]
 166:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     hSpeed_dpp = SPD_GetElSpeedDpp(SpeedSensor);
 323              		.loc 3 166 18
 324 0014 B869     		ldr	r0, [r7, #24]
 325 0016 FFF7FEFF 		bl	SPD_GetElSpeedDpp
 326 001a 0346     		mov	r3, r0
 327 001c FB82     		strh	r3, [r7, #22]	@ movhi
 167:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     hAvBusVoltage_d = VBS_GetAvBusVoltage_d(pHandle->pBus_Sensor) / 2U;
 328              		.loc 3 167 52
 329 001e FB68     		ldr	r3, [r7, #12]
 330 0020 9B69     		ldr	r3, [r3, #24]
 331              		.loc 3 167 23
 332 0022 1846     		mov	r0, r3
 333 0024 FFF7FEFF 		bl	VBS_GetAvBusVoltage_d
 334 0028 0346     		mov	r3, r0
 335              		.loc 3 167 21
 336 002a 5B08     		lsrs	r3, r3, #1
 337 002c BB82     		strh	r3, [r7, #20]	@ movhi
 168:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** 
 169:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     if (hAvBusVoltage_d != (uint16_t)0)
 338              		.loc 3 169 8
 339 002e BB8A     		ldrh	r3, [r7, #20]
 340 0030 002B     		cmp	r3, #0
 341 0032 68D0     		beq	.L8
 170:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     {
 171:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****       /*q-axes ff voltage calculation */
 172:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****       wtemp1 = (((int32_t)(hSpeed_dpp) * Iqdref.d) / (int32_t)32768);
 342              		.loc 3 172 18
 343 0034 B7F91630 		ldrsh	r3, [r7, #22]
 344              		.loc 3 172 48
 345 0038 B7F90A20 		ldrsh	r2, [r7, #10]
 346              		.loc 3 172 40
 347 003c 02FB03F3 		mul	r3, r2, r3
 348              		.loc 3 172 14
 349 0040 002B     		cmp	r3, #0
 350 0042 02DA     		bge	.L9
 351 0044 03F5FF43 		add	r3, r3, #32640
 352 0048 7F33     		adds	r3, r3, #127
 353              	.L9:
 354 004a DB13     		asrs	r3, r3, #15
ARM GAS  /tmp/ccaILIio.s 			page 16


 355 004c 3B61     		str	r3, [r7, #16]
 173:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****       wtemp2 = (wtemp1 * pHandle->wConstant_1D) / (int32_t)(hAvBusVoltage_d);
 356              		.loc 3 173 33
 357 004e FB68     		ldr	r3, [r7, #12]
 358 0050 DB68     		ldr	r3, [r3, #12]
 359              		.loc 3 173 24
 360 0052 3A69     		ldr	r2, [r7, #16]
 361 0054 03FB02F2 		mul	r2, r3, r2
 362              		.loc 3 173 51
 363 0058 BB8A     		ldrh	r3, [r7, #20]
 364              		.loc 3 173 14
 365 005a 92FBF3F3 		sdiv	r3, r2, r3
 366 005e FB61     		str	r3, [r7, #28]
 174:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****       wtemp2 *= (int32_t)2;
 367              		.loc 3 174 14
 368 0060 FB69     		ldr	r3, [r7, #28]
 369 0062 5B00     		lsls	r3, r3, #1
 370 0064 FB61     		str	r3, [r7, #28]
 175:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** 
 176:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****       wtemp1 = ((pHandle->wConstant_2 * hSpeed_dpp) / (int32_t)hAvBusVoltage_d) * (int32_t)16;
 371              		.loc 3 176 25
 372 0066 FB68     		ldr	r3, [r7, #12]
 373 0068 5B69     		ldr	r3, [r3, #20]
 374              		.loc 3 176 39
 375 006a B7F91620 		ldrsh	r2, [r7, #22]
 376 006e 03FB02F2 		mul	r2, r3, r2
 377              		.loc 3 176 55
 378 0072 BB8A     		ldrh	r3, [r7, #20]
 379              		.loc 3 176 53
 380 0074 92FBF3F3 		sdiv	r3, r2, r3
 381              		.loc 3 176 14
 382 0078 1B01     		lsls	r3, r3, #4
 383 007a 3B61     		str	r3, [r7, #16]
 177:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** 
 178:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****       wtemp2 = wtemp1 + wtemp2;
 384              		.loc 3 178 14
 385 007c FA69     		ldr	r2, [r7, #28]
 386 007e 3B69     		ldr	r3, [r7, #16]
 387 0080 1344     		add	r3, r3, r2
 388 0082 FB61     		str	r3, [r7, #28]
 179:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** 
 180:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****       SATURATION_TO_S16(wtemp2)
 389              		.loc 3 180 7
 390 0084 FB69     		ldr	r3, [r7, #28]
 391 0086 B3F5004F 		cmp	r3, #32768
 392 008a 03DB     		blt	.L10
 393              		.loc 3 180 7 is_stmt 0 discriminator 1
 394 008c 47F6FF73 		movw	r3, #32767
 395 0090 FB61     		str	r3, [r7, #28]
 396 0092 05E0     		b	.L11
 397              	.L10:
 398              		.loc 3 180 7 discriminator 2
 399 0094 FB69     		ldr	r3, [r7, #28]
 400 0096 13F5004F 		cmn	r3, #32768
 401 009a 01DC     		bgt	.L11
 402              		.loc 3 180 7 discriminator 3
 403 009c 1F4B     		ldr	r3, .L17
ARM GAS  /tmp/ccaILIio.s 			page 17


 404 009e FB61     		str	r3, [r7, #28]
 405              	.L11:
 181:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** 
 182:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****       pHandle->Vqdff.q = (int16_t)(wtemp2);
 406              		.loc 3 182 26 is_stmt 1
 407 00a0 FB69     		ldr	r3, [r7, #28]
 408 00a2 1AB2     		sxth	r2, r3
 409              		.loc 3 182 24
 410 00a4 FB68     		ldr	r3, [r7, #12]
 411 00a6 1A80     		strh	r2, [r3]	@ movhi
 183:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** 
 184:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****       /* d-axes ff voltage calculation */
 185:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****       wtemp1 = (((int32_t)(hSpeed_dpp) * Iqdref.q) / (int32_t)32768);
 412              		.loc 3 185 18
 413 00a8 B7F91630 		ldrsh	r3, [r7, #22]
 414              		.loc 3 185 48
 415 00ac B7F90820 		ldrsh	r2, [r7, #8]
 416              		.loc 3 185 40
 417 00b0 02FB03F3 		mul	r3, r2, r3
 418              		.loc 3 185 14
 419 00b4 002B     		cmp	r3, #0
 420 00b6 02DA     		bge	.L12
 421 00b8 03F5FF43 		add	r3, r3, #32640
 422 00bc 7F33     		adds	r3, r3, #127
 423              	.L12:
 424 00be DB13     		asrs	r3, r3, #15
 425 00c0 3B61     		str	r3, [r7, #16]
 186:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****       wtemp2 = (wtemp1 * pHandle->wConstant_1Q) / (int32_t)(hAvBusVoltage_d);
 426              		.loc 3 186 33
 427 00c2 FB68     		ldr	r3, [r7, #12]
 428 00c4 1B69     		ldr	r3, [r3, #16]
 429              		.loc 3 186 24
 430 00c6 3A69     		ldr	r2, [r7, #16]
 431 00c8 03FB02F2 		mul	r2, r3, r2
 432              		.loc 3 186 51
 433 00cc BB8A     		ldrh	r3, [r7, #20]
 434              		.loc 3 186 14
 435 00ce 92FBF3F3 		sdiv	r3, r2, r3
 436 00d2 FB61     		str	r3, [r7, #28]
 187:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****       wtemp2 *= (int32_t)(-2);
 437              		.loc 3 187 14
 438 00d4 FA69     		ldr	r2, [r7, #28]
 439 00d6 1346     		mov	r3, r2
 440 00d8 DB07     		lsls	r3, r3, #31
 441 00da 9B1A     		subs	r3, r3, r2
 442 00dc 5B00     		lsls	r3, r3, #1
 443 00de FB61     		str	r3, [r7, #28]
 188:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** 
 189:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****       SATURATION_TO_S16(wtemp2)
 444              		.loc 3 189 7
 445 00e0 FB69     		ldr	r3, [r7, #28]
 446 00e2 B3F5004F 		cmp	r3, #32768
 447 00e6 03DB     		blt	.L13
 448              		.loc 3 189 7 is_stmt 0 discriminator 1
 449 00e8 47F6FF73 		movw	r3, #32767
 450 00ec FB61     		str	r3, [r7, #28]
 451 00ee 05E0     		b	.L14
ARM GAS  /tmp/ccaILIio.s 			page 18


 452              	.L13:
 453              		.loc 3 189 7 discriminator 2
 454 00f0 FB69     		ldr	r3, [r7, #28]
 455 00f2 13F5004F 		cmn	r3, #32768
 456 00f6 01DC     		bgt	.L14
 457              		.loc 3 189 7 discriminator 3
 458 00f8 084B     		ldr	r3, .L17
 459 00fa FB61     		str	r3, [r7, #28]
 460              	.L14:
 190:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** 
 191:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****       pHandle->Vqdff.d = (int16_t)(wtemp2);
 461              		.loc 3 191 26 is_stmt 1
 462 00fc FB69     		ldr	r3, [r7, #28]
 463 00fe 1AB2     		sxth	r2, r3
 464              		.loc 3 191 24
 465 0100 FB68     		ldr	r3, [r7, #12]
 466 0102 5A80     		strh	r2, [r3, #2]	@ movhi
 192:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     }
 193:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     else
 194:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     {
 195:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****       pHandle->Vqdff.q = (int16_t)0;
 196:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****       pHandle->Vqdff.d = (int16_t)0;
 197:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     }
 198:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #ifdef NULL_PTR_CHECK_FEED_FWD_CTRL
 199:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   }
 200:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #endif
 201:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** }
 467              		.loc 3 201 1
 468 0104 05E0     		b	.L16
 469              	.L8:
 195:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****       pHandle->Vqdff.d = (int16_t)0;
 470              		.loc 3 195 24
 471 0106 FB68     		ldr	r3, [r7, #12]
 472 0108 0022     		movs	r2, #0
 473 010a 1A80     		strh	r2, [r3]	@ movhi
 196:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     }
 474              		.loc 3 196 24
 475 010c FB68     		ldr	r3, [r7, #12]
 476 010e 0022     		movs	r2, #0
 477 0110 5A80     		strh	r2, [r3, #2]	@ movhi
 478              	.L16:
 479              		.loc 3 201 1
 480 0112 00BF     		nop
 481 0114 2037     		adds	r7, r7, #32
 482              	.LCFI27:
 483              		.cfi_def_cfa_offset 8
 484 0116 BD46     		mov	sp, r7
 485              	.LCFI28:
 486              		.cfi_def_cfa_register 13
 487              		@ sp needed
 488 0118 80BD     		pop	{r7, pc}
 489              	.L18:
 490 011a 00BF     		.align	2
 491              	.L17:
 492 011c 0180FFFF 		.word	-32767
 493              		.cfi_endproc
 494              	.LFE1449:
ARM GAS  /tmp/ccaILIio.s 			page 19


 496              		.section	.text.FF_VqdConditioning,"ax",%progbits
 497              		.align	1
 498              		.weak	FF_VqdConditioning
 499              		.syntax unified
 500              		.thumb
 501              		.thumb_func
 502              		.fpu fpv4-sp-d16
 504              	FF_VqdConditioning:
 505              	.LFB1450:
 202:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** 
 203:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** //cstat #MISRAC2012-Rule-2.2_b
 204:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** /* False positive  */
 205:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #if defined (CCMRAM)
 206:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #if defined (__ICCARM__)
 207:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #pragma location = ".ccmram"
 208:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #elif defined (__CC_ARM) || defined(__GNUC__)
 209:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** __attribute__((section(".ccmram")))
 210:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #endif
 211:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #endif
 212:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** /**
 213:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * @brief  It returns the Vqd components computed by input plus the Feed-forward
 214:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   *         action and store the last Vqd values in the internal variable.
 215:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * @param  pHandle Feed-forward structure.
 216:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * @param  Vqd Initial value of Vqd to be manipulated by Feed-forward action .
 217:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * @retval qd_t Vqd conditioned values.
 218:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   */
 219:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** __weak qd_t FF_VqdConditioning(FF_Handle_t *pHandle, qd_t Vqd)
 220:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** {
 506              		.loc 3 220 1
 507              		.cfi_startproc
 508              		@ args = 0, pretend = 0, frame = 24
 509              		@ frame_needed = 1, uses_anonymous_args = 0
 510              		@ link register save eliminated.
 511 0000 80B4     		push	{r7}
 512              	.LCFI29:
 513              		.cfi_def_cfa_offset 4
 514              		.cfi_offset 7, -4
 515 0002 87B0     		sub	sp, sp, #28
 516              	.LCFI30:
 517              		.cfi_def_cfa_offset 32
 518 0004 00AF     		add	r7, sp, #0
 519              	.LCFI31:
 520              		.cfi_def_cfa_register 7
 521 0006 7860     		str	r0, [r7, #4]
 522 0008 3960     		str	r1, [r7]
 221:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   qd_t lVqd;
 222:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #ifdef NULL_PTR_CHECK_FEED_FWD_CTRL
 223:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   if (NULL == pHandle)
 224:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   {
 225:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     lVqd.q = 0;
 226:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     lVqd.d = 0;
 227:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   }
 228:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   else
 229:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   {
 230:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #endif
 231:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     int32_t wtemp;
 232:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** 
ARM GAS  /tmp/ccaILIio.s 			page 20


 233:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     pHandle->VqdPIout = Vqd;
 523              		.loc 3 233 23
 524 000a 7B68     		ldr	r3, [r7, #4]
 525 000c 3A68     		ldr	r2, [r7]
 526 000e 5A60     		str	r2, [r3, #4]
 234:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** 
 235:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     wtemp = (int32_t)(Vqd.q) + pHandle->Vqdff.q;
 527              		.loc 3 235 26
 528 0010 B7F90030 		ldrsh	r3, [r7]
 529              		.loc 3 235 13
 530 0014 1A46     		mov	r2, r3
 531              		.loc 3 235 46
 532 0016 7B68     		ldr	r3, [r7, #4]
 533 0018 B3F90030 		ldrsh	r3, [r3]
 534              		.loc 3 235 11
 535 001c 1344     		add	r3, r3, r2
 536 001e 7B61     		str	r3, [r7, #20]
 236:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** 
 237:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     SATURATION_TO_S16(wtemp)
 537              		.loc 3 237 5
 538 0020 7B69     		ldr	r3, [r7, #20]
 539 0022 B3F5004F 		cmp	r3, #32768
 540 0026 03DB     		blt	.L20
 541              		.loc 3 237 5 is_stmt 0 discriminator 1
 542 0028 47F6FF73 		movw	r3, #32767
 543 002c 7B61     		str	r3, [r7, #20]
 544 002e 05E0     		b	.L21
 545              	.L20:
 546              		.loc 3 237 5 discriminator 2
 547 0030 7B69     		ldr	r3, [r7, #20]
 548 0032 13F5004F 		cmn	r3, #32768
 549 0036 01DC     		bgt	.L21
 550              		.loc 3 237 5 discriminator 3
 551 0038 164B     		ldr	r3, .L25
 552 003a 7B61     		str	r3, [r7, #20]
 553              	.L21:
 238:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** 
 239:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     lVqd.q = (int16_t)wtemp;
 554              		.loc 3 239 14 is_stmt 1
 555 003c 7B69     		ldr	r3, [r7, #20]
 556 003e 1BB2     		sxth	r3, r3
 557              		.loc 3 239 12
 558 0040 BB81     		strh	r3, [r7, #12]	@ movhi
 240:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** 
 241:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     wtemp = (int32_t)(Vqd.d) + pHandle->Vqdff.d;
 559              		.loc 3 241 26
 560 0042 B7F90230 		ldrsh	r3, [r7, #2]
 561              		.loc 3 241 13
 562 0046 1A46     		mov	r2, r3
 563              		.loc 3 241 46
 564 0048 7B68     		ldr	r3, [r7, #4]
 565 004a B3F90230 		ldrsh	r3, [r3, #2]
 566              		.loc 3 241 11
 567 004e 1344     		add	r3, r3, r2
 568 0050 7B61     		str	r3, [r7, #20]
 242:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** 
 243:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     SATURATION_TO_S16(wtemp)
ARM GAS  /tmp/ccaILIio.s 			page 21


 569              		.loc 3 243 5
 570 0052 7B69     		ldr	r3, [r7, #20]
 571 0054 B3F5004F 		cmp	r3, #32768
 572 0058 03DB     		blt	.L22
 573              		.loc 3 243 5 is_stmt 0 discriminator 1
 574 005a 47F6FF73 		movw	r3, #32767
 575 005e 7B61     		str	r3, [r7, #20]
 576 0060 05E0     		b	.L23
 577              	.L22:
 578              		.loc 3 243 5 discriminator 2
 579 0062 7B69     		ldr	r3, [r7, #20]
 580 0064 13F5004F 		cmn	r3, #32768
 581 0068 01DC     		bgt	.L23
 582              		.loc 3 243 5 discriminator 3
 583 006a 0A4B     		ldr	r3, .L25
 584 006c 7B61     		str	r3, [r7, #20]
 585              	.L23:
 244:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** 
 245:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     lVqd.d = (int16_t)wtemp;
 586              		.loc 3 245 14 is_stmt 1
 587 006e 7B69     		ldr	r3, [r7, #20]
 588 0070 1BB2     		sxth	r3, r3
 589              		.loc 3 245 12
 590 0072 FB81     		strh	r3, [r7, #14]	@ movhi
 246:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #ifdef NULL_PTR_CHECK_FEED_FWD_CTRL
 247:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   }
 248:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #endif
 249:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   return (lVqd);
 591              		.loc 3 249 10
 592 0074 FB68     		ldr	r3, [r7, #12]
 593 0076 3B61     		str	r3, [r7, #16]
 594 0078 0023     		movs	r3, #0
 595 007a 3A8A     		ldrh	r2, [r7, #16]
 596 007c 62F30F03 		bfi	r3, r2, #0, #16
 597 0080 7A8A     		ldrh	r2, [r7, #18]
 598 0082 62F31F43 		bfi	r3, r2, #16, #16
 250:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** }
 599              		.loc 3 250 1
 600 0086 1846     		mov	r0, r3
 601 0088 1C37     		adds	r7, r7, #28
 602              	.LCFI32:
 603              		.cfi_def_cfa_offset 4
 604 008a BD46     		mov	sp, r7
 605              	.LCFI33:
 606              		.cfi_def_cfa_register 13
 607              		@ sp needed
 608 008c 5DF8047B 		ldr	r7, [sp], #4
 609              	.LCFI34:
 610              		.cfi_restore 7
 611              		.cfi_def_cfa_offset 0
 612 0090 7047     		bx	lr
 613              	.L26:
 614 0092 00BF     		.align	2
 615              	.L25:
 616 0094 0180FFFF 		.word	-32767
 617              		.cfi_endproc
 618              	.LFE1450:
ARM GAS  /tmp/ccaILIio.s 			page 22


 620              		.section	.text.FF_DataProcess,"ax",%progbits
 621              		.align	1
 622              		.weak	FF_DataProcess
 623              		.syntax unified
 624              		.thumb
 625              		.thumb_func
 626              		.fpu fpv4-sp-d16
 628              	FF_DataProcess:
 629              	.LFB1451:
 251:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** 
 252:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #if defined (CCMRAM)
 253:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #if defined (__ICCARM__)
 254:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #pragma location = ".ccmram"
 255:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #elif defined (__CC_ARM) || defined(__GNUC__)
 256:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** __attribute__((section(".ccmram")))
 257:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #endif
 258:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #endif
 259:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** /**
 260:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * @brief  It low-pass filters the Vqd voltage coming from the speed PI. Filter
 261:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   *         bandwidth depends on hVqdLowPassFilterBW parameter.
 262:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * @param  pHandle Feed-forward structure.
 263:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   */
 264:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** __weak void FF_DataProcess(FF_Handle_t *pHandle)
 265:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** {
 630              		.loc 3 265 1
 631              		.cfi_startproc
 632              		@ args = 0, pretend = 0, frame = 16
 633              		@ frame_needed = 1, uses_anonymous_args = 0
 634              		@ link register save eliminated.
 635 0000 80B4     		push	{r7}
 636              	.LCFI35:
 637              		.cfi_def_cfa_offset 4
 638              		.cfi_offset 7, -4
 639 0002 85B0     		sub	sp, sp, #20
 640              	.LCFI36:
 641              		.cfi_def_cfa_offset 24
 642 0004 00AF     		add	r7, sp, #0
 643              	.LCFI37:
 644              		.cfi_def_cfa_register 7
 645 0006 7860     		str	r0, [r7, #4]
 266:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #ifdef NULL_PTR_CHECK_FEED_FWD_CTRL
 267:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   if (NULL == pHandle)
 268:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   {
 269:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     /* Nothing to do */
 270:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   }
 271:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   else
 272:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   {
 273:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #endif
 274:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     int32_t wAux;
 275:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     int32_t lowPassFilterBW = (int32_t) pHandle->hVqdLowPassFilterBW - (int32_t)1;
 646              		.loc 3 275 48
 647 0008 7B68     		ldr	r3, [r7, #4]
 648 000a 9B8C     		ldrh	r3, [r3, #36]
 649              		.loc 3 275 13
 650 000c 013B     		subs	r3, r3, #1
 651 000e FB60     		str	r3, [r7, #12]
 276:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** 
ARM GAS  /tmp/ccaILIio.s 			page 23


 277:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #ifndef FULL_MISRA_C_COMPLIANCY_FWD_FDB
 278:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     /* Computation of average Vqd as output by PI(D) current controllers, used by
 279:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****        Feed-forward controller algorithm */
 280:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     wAux = (int32_t)(pHandle->VqdAvPIout.q) * lowPassFilterBW;
 652              		.loc 3 280 41
 653 0010 7B68     		ldr	r3, [r7, #4]
 654 0012 B3F90830 		ldrsh	r3, [r3, #8]
 655              		.loc 3 280 12
 656 0016 1A46     		mov	r2, r3
 657              		.loc 3 280 10
 658 0018 FB68     		ldr	r3, [r7, #12]
 659 001a 02FB03F3 		mul	r3, r2, r3
 660 001e BB60     		str	r3, [r7, #8]
 281:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     wAux += pHandle->VqdPIout.q;
 661              		.loc 3 281 30
 662 0020 7B68     		ldr	r3, [r7, #4]
 663 0022 B3F90430 		ldrsh	r3, [r3, #4]
 664 0026 1A46     		mov	r2, r3
 665              		.loc 3 281 10
 666 0028 BB68     		ldr	r3, [r7, #8]
 667 002a 1344     		add	r3, r3, r2
 668 002c BB60     		str	r3, [r7, #8]
 282:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     //cstat !MISRAC2012-Rule-1.3_n !ATH-shift-neg !MISRAC2012-Rule-10.1_R6
 283:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     pHandle->VqdAvPIout.q = (int16_t)(wAux >> pHandle->hVqdLowPassFilterBWLOG);
 669              		.loc 3 283 54
 670 002e 7B68     		ldr	r3, [r7, #4]
 671 0030 9B8E     		ldrh	r3, [r3, #52]
 672 0032 1A46     		mov	r2, r3
 673              		.loc 3 283 44
 674 0034 BB68     		ldr	r3, [r7, #8]
 675 0036 1341     		asrs	r3, r3, r2
 676              		.loc 3 283 29
 677 0038 1AB2     		sxth	r2, r3
 678              		.loc 3 283 27
 679 003a 7B68     		ldr	r3, [r7, #4]
 680 003c 1A81     		strh	r2, [r3, #8]	@ movhi
 284:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** 
 285:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     wAux = (int32_t)(pHandle->VqdAvPIout.d) * lowPassFilterBW;
 681              		.loc 3 285 41
 682 003e 7B68     		ldr	r3, [r7, #4]
 683 0040 B3F90A30 		ldrsh	r3, [r3, #10]
 684              		.loc 3 285 12
 685 0044 1A46     		mov	r2, r3
 686              		.loc 3 285 10
 687 0046 FB68     		ldr	r3, [r7, #12]
 688 0048 02FB03F3 		mul	r3, r2, r3
 689 004c BB60     		str	r3, [r7, #8]
 286:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     wAux += pHandle->VqdPIout.d;
 690              		.loc 3 286 30
 691 004e 7B68     		ldr	r3, [r7, #4]
 692 0050 B3F90630 		ldrsh	r3, [r3, #6]
 693 0054 1A46     		mov	r2, r3
 694              		.loc 3 286 10
 695 0056 BB68     		ldr	r3, [r7, #8]
 696 0058 1344     		add	r3, r3, r2
 697 005a BB60     		str	r3, [r7, #8]
 287:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     //cstat !MISRAC2012-Rule-1.3_n !ATH-shift-neg !MISRAC2012-Rule-10.1_R6
ARM GAS  /tmp/ccaILIio.s 			page 24


 288:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     pHandle->VqdAvPIout.d = (int16_t)(wAux >> pHandle->hVqdLowPassFilterBWLOG);
 698              		.loc 3 288 54
 699 005c 7B68     		ldr	r3, [r7, #4]
 700 005e 9B8E     		ldrh	r3, [r3, #52]
 701 0060 1A46     		mov	r2, r3
 702              		.loc 3 288 44
 703 0062 BB68     		ldr	r3, [r7, #8]
 704 0064 1341     		asrs	r3, r3, r2
 705              		.loc 3 288 29
 706 0066 1AB2     		sxth	r2, r3
 707              		.loc 3 288 27
 708 0068 7B68     		ldr	r3, [r7, #4]
 709 006a 5A81     		strh	r2, [r3, #10]	@ movhi
 289:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** 
 290:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #else
 291:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     /* Computation of average Vqd as output by PI(D) current controllers, used by
 292:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****        Feed-forward controller algorithm */
 293:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     wAux = (int32_t)(pHandle->VqdAvPIout.q) * lowPassFilterBW;
 294:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     wAux += pHandle->VqdPIout.q;
 295:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** 
 296:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     pHandle->VqdAvPIout.q = (int16_t)(wAux / (int32_t)(pHandle->hVqdLowPassFilterBW));
 297:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** 
 298:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     wAux = (int32_t)(pHandle->VqdAvPIout.d) * lowPassFilterBW;
 299:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     wAux += pHandle->VqdPIout.d;
 300:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** 
 301:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     pHandle->VqdAvPIout.d = (int16_t)(wAux / (int32_t)(pHandle->hVqdLowPassFilterBW));
 302:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #endif
 303:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #ifdef NULL_PTR_CHECK_FEED_FWD_CTRL
 304:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   }
 305:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #endif
 306:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** }
 710              		.loc 3 306 1
 711 006c 00BF     		nop
 712 006e 1437     		adds	r7, r7, #20
 713              	.LCFI38:
 714              		.cfi_def_cfa_offset 4
 715 0070 BD46     		mov	sp, r7
 716              	.LCFI39:
 717              		.cfi_def_cfa_register 13
 718              		@ sp needed
 719 0072 5DF8047B 		ldr	r7, [sp], #4
 720              	.LCFI40:
 721              		.cfi_restore 7
 722              		.cfi_def_cfa_offset 0
 723 0076 7047     		bx	lr
 724              		.cfi_endproc
 725              	.LFE1451:
 727              		.section	.text.FF_InitFOCAdditionalMethods,"ax",%progbits
 728              		.align	1
 729              		.weak	FF_InitFOCAdditionalMethods
 730              		.syntax unified
 731              		.thumb
 732              		.thumb_func
 733              		.fpu fpv4-sp-d16
 735              	FF_InitFOCAdditionalMethods:
 736              	.LFB1452:
 307:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** 
ARM GAS  /tmp/ccaILIio.s 			page 25


 308:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** /**
 309:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * @brief  Use this method to initialize FF variables in START_TO_RUN state.
 310:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * @param  pHandle Feed-forward structure.
 311:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   */
 312:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** __weak void FF_InitFOCAdditionalMethods(FF_Handle_t *pHandle)
 313:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** {
 737              		.loc 3 313 1
 738              		.cfi_startproc
 739              		@ args = 0, pretend = 0, frame = 8
 740              		@ frame_needed = 1, uses_anonymous_args = 0
 741 0000 80B5     		push	{r7, lr}
 742              	.LCFI41:
 743              		.cfi_def_cfa_offset 8
 744              		.cfi_offset 7, -8
 745              		.cfi_offset 14, -4
 746 0002 82B0     		sub	sp, sp, #8
 747              	.LCFI42:
 748              		.cfi_def_cfa_offset 16
 749 0004 00AF     		add	r7, sp, #0
 750              	.LCFI43:
 751              		.cfi_def_cfa_register 7
 752 0006 7860     		str	r0, [r7, #4]
 314:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #ifdef NULL_PTR_CHECK_FEED_FWD_CTRL
 315:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   if (NULL == pHandle)
 316:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   {
 317:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     /* Nothing to do */
 318:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   }
 319:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   else
 320:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   {
 321:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #endif
 322:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     pHandle->VqdAvPIout.q = 0;
 753              		.loc 3 322 27
 754 0008 7B68     		ldr	r3, [r7, #4]
 755 000a 0022     		movs	r2, #0
 756 000c 1A81     		strh	r2, [r3, #8]	@ movhi
 323:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     pHandle->VqdAvPIout.d = 0;
 757              		.loc 3 323 27
 758 000e 7B68     		ldr	r3, [r7, #4]
 759 0010 0022     		movs	r2, #0
 760 0012 5A81     		strh	r2, [r3, #10]	@ movhi
 324:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     PID_SetIntegralTerm(pHandle->pPID_q, 0);
 761              		.loc 3 324 5
 762 0014 7B68     		ldr	r3, [r7, #4]
 763 0016 DB69     		ldr	r3, [r3, #28]
 764 0018 0021     		movs	r1, #0
 765 001a 1846     		mov	r0, r3
 766 001c FFF7FEFF 		bl	PID_SetIntegralTerm
 325:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     PID_SetIntegralTerm(pHandle->pPID_d, 0);
 767              		.loc 3 325 5
 768 0020 7B68     		ldr	r3, [r7, #4]
 769 0022 1B6A     		ldr	r3, [r3, #32]
 770 0024 0021     		movs	r1, #0
 771 0026 1846     		mov	r0, r3
 772 0028 FFF7FEFF 		bl	PID_SetIntegralTerm
 326:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #ifdef NULL_PTR_CHECK_FEED_FWD_CTRL
 327:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   }
 328:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #endif
ARM GAS  /tmp/ccaILIio.s 			page 26


 329:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** }
 773              		.loc 3 329 1
 774 002c 00BF     		nop
 775 002e 0837     		adds	r7, r7, #8
 776              	.LCFI44:
 777              		.cfi_def_cfa_offset 8
 778 0030 BD46     		mov	sp, r7
 779              	.LCFI45:
 780              		.cfi_def_cfa_register 13
 781              		@ sp needed
 782 0032 80BD     		pop	{r7, pc}
 783              		.cfi_endproc
 784              	.LFE1452:
 786              		.section	.text.FF_SetFFConstants,"ax",%progbits
 787              		.align	1
 788              		.weak	FF_SetFFConstants
 789              		.syntax unified
 790              		.thumb
 791              		.thumb_func
 792              		.fpu fpv4-sp-d16
 794              	FF_SetFFConstants:
 795              	.LFB1453:
 330:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** 
 331:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** /**
 332:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * @brief  Use this method to set new constants values used by
 333:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   *         Feed-forward algorithm.
 334:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * @param  pHandle Feed-forward structure.
 335:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * @param  sNewConstants The FF_TuningStruct_t containing constants used by
 336:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   *         Feed-forward algorithm.
 337:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   */
 338:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** __weak void FF_SetFFConstants(FF_Handle_t *pHandle, FF_TuningStruct_t sNewConstants)
 339:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** {
 796              		.loc 3 339 1
 797              		.cfi_startproc
 798              		@ args = 0, pretend = 0, frame = 16
 799              		@ frame_needed = 1, uses_anonymous_args = 0
 800              		@ link register save eliminated.
 801 0000 80B4     		push	{r7}
 802              	.LCFI46:
 803              		.cfi_def_cfa_offset 4
 804              		.cfi_offset 7, -4
 805 0002 85B0     		sub	sp, sp, #20
 806              	.LCFI47:
 807              		.cfi_def_cfa_offset 24
 808 0004 00AF     		add	r7, sp, #0
 809              	.LCFI48:
 810              		.cfi_def_cfa_register 7
 811 0006 F860     		str	r0, [r7, #12]
 812 0008 3846     		mov	r0, r7
 813 000a 80E80E00 		stm	r0, {r1, r2, r3}
 340:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #ifdef NULL_PTR_CHECK_FEED_FWD_CTRL
 341:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   if (NULL == pHandle)
 342:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   {
 343:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     /* Nothing to do */
 344:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   }
 345:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   else
 346:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   {
ARM GAS  /tmp/ccaILIio.s 			page 27


 347:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #endif
 348:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     pHandle->wConstant_1D = sNewConstants.wConst_1D;
 814              		.loc 3 348 42
 815 000e 3A68     		ldr	r2, [r7]
 816              		.loc 3 348 27
 817 0010 FB68     		ldr	r3, [r7, #12]
 818 0012 DA60     		str	r2, [r3, #12]
 349:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     pHandle->wConstant_1Q = sNewConstants.wConst_1Q;
 819              		.loc 3 349 42
 820 0014 7A68     		ldr	r2, [r7, #4]
 821              		.loc 3 349 27
 822 0016 FB68     		ldr	r3, [r7, #12]
 823 0018 1A61     		str	r2, [r3, #16]
 350:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     pHandle->wConstant_2  = sNewConstants.wConst_2;
 824              		.loc 3 350 42
 825 001a BA68     		ldr	r2, [r7, #8]
 826              		.loc 3 350 27
 827 001c FB68     		ldr	r3, [r7, #12]
 828 001e 5A61     		str	r2, [r3, #20]
 351:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #ifdef NULL_PTR_CHECK_FEED_FWD_CTRL
 352:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   }
 353:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #endif
 354:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** }
 829              		.loc 3 354 1
 830 0020 00BF     		nop
 831 0022 1437     		adds	r7, r7, #20
 832              	.LCFI49:
 833              		.cfi_def_cfa_offset 4
 834 0024 BD46     		mov	sp, r7
 835              	.LCFI50:
 836              		.cfi_def_cfa_register 13
 837              		@ sp needed
 838 0026 5DF8047B 		ldr	r7, [sp], #4
 839              	.LCFI51:
 840              		.cfi_restore 7
 841              		.cfi_def_cfa_offset 0
 842 002a 7047     		bx	lr
 843              		.cfi_endproc
 844              	.LFE1453:
 846              		.section	.text.FF_GetFFConstants,"ax",%progbits
 847              		.align	1
 848              		.weak	FF_GetFFConstants
 849              		.syntax unified
 850              		.thumb
 851              		.thumb_func
 852              		.fpu fpv4-sp-d16
 854              	FF_GetFFConstants:
 855              	.LFB1454:
 355:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** 
 356:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** 
 357:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** //cstat #MISRAC2012-Rule-2.2_b
 358:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** /* False positive  */
 359:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** /**
 360:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * @brief  Use this method to get current constants values used by
 361:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   *         Feed-forward algorithm.
 362:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * @param  pHandle Feed-forward structure.
 363:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * @retval FF_TuningStruct_t Values of the constants used by
ARM GAS  /tmp/ccaILIio.s 			page 28


 364:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   *         Feed-forward algorithm.
 365:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   */
 366:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** //cstat !MISRAC2012-Rule-8.13
 367:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** __weak FF_TuningStruct_t FF_GetFFConstants(FF_Handle_t *pHandle)
 368:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** {
 856              		.loc 3 368 1
 857              		.cfi_startproc
 858              		@ args = 0, pretend = 0, frame = 24
 859              		@ frame_needed = 1, uses_anonymous_args = 0
 860              		@ link register save eliminated.
 861 0000 90B4     		push	{r4, r7}
 862              	.LCFI52:
 863              		.cfi_def_cfa_offset 8
 864              		.cfi_offset 4, -8
 865              		.cfi_offset 7, -4
 866 0002 86B0     		sub	sp, sp, #24
 867              	.LCFI53:
 868              		.cfi_def_cfa_offset 32
 869 0004 00AF     		add	r7, sp, #0
 870              	.LCFI54:
 871              		.cfi_def_cfa_register 7
 872 0006 7860     		str	r0, [r7, #4]
 873 0008 3960     		str	r1, [r7]
 369:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   FF_TuningStruct_t LocalConstants;
 370:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #ifdef NULL_PTR_CHECK_FEED_FWD_CTRL
 371:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   if (NULL == pHandle)
 372:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   {
 373:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     LocalConstants.wConst_1D = 0;
 374:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     LocalConstants.wConst_1Q = 0;
 375:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     LocalConstants.wConst_2 = 0;
 376:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   }
 377:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   else
 378:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   {
 379:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #endif
 380:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     LocalConstants.wConst_1D = pHandle->wConstant_1D;
 874              		.loc 3 380 39
 875 000a 3B68     		ldr	r3, [r7]
 876 000c DB68     		ldr	r3, [r3, #12]
 877              		.loc 3 380 30
 878 000e FB60     		str	r3, [r7, #12]
 381:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     LocalConstants.wConst_1Q = pHandle->wConstant_1Q;
 879              		.loc 3 381 39
 880 0010 3B68     		ldr	r3, [r7]
 881 0012 1B69     		ldr	r3, [r3, #16]
 882              		.loc 3 381 30
 883 0014 3B61     		str	r3, [r7, #16]
 382:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     LocalConstants.wConst_2 =  pHandle->wConstant_2;
 884              		.loc 3 382 39
 885 0016 3B68     		ldr	r3, [r7]
 886 0018 5B69     		ldr	r3, [r3, #20]
 887              		.loc 3 382 29
 888 001a 7B61     		str	r3, [r7, #20]
 383:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #ifdef NULL_PTR_CHECK_FEED_FWD_CTRL
 384:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   }
 385:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #endif
 386:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   return (LocalConstants);
 889              		.loc 3 386 10
ARM GAS  /tmp/ccaILIio.s 			page 29


 890 001c 7B68     		ldr	r3, [r7, #4]
 891 001e 1C46     		mov	r4, r3
 892 0020 07F10C03 		add	r3, r7, #12
 893 0024 93E80700 		ldm	r3, {r0, r1, r2}
 894 0028 84E80700 		stm	r4, {r0, r1, r2}
 387:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** }
 895              		.loc 3 387 1
 896 002c 7868     		ldr	r0, [r7, #4]
 897 002e 1837     		adds	r7, r7, #24
 898              	.LCFI55:
 899              		.cfi_def_cfa_offset 8
 900 0030 BD46     		mov	sp, r7
 901              	.LCFI56:
 902              		.cfi_def_cfa_register 13
 903              		@ sp needed
 904 0032 90BC     		pop	{r4, r7}
 905              	.LCFI57:
 906              		.cfi_restore 7
 907              		.cfi_restore 4
 908              		.cfi_def_cfa_offset 0
 909 0034 7047     		bx	lr
 910              		.cfi_endproc
 911              	.LFE1454:
 913              		.section	.text.FF_GetVqdff,"ax",%progbits
 914              		.align	1
 915              		.weak	FF_GetVqdff
 916              		.syntax unified
 917              		.thumb
 918              		.thumb_func
 919              		.fpu fpv4-sp-d16
 921              	FF_GetVqdff:
 922              	.LFB1455:
 388:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** 
 389:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** 
 390:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** /**
 391:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * @brief  Use this method to get present values for the Vqd Feed-forward
 392:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   *         components.
 393:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * @param  pHandle Feed-forward structure.
 394:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * @retval qd_t Vqd Feed-forward components.
 395:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   */
 396:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** __weak qd_t FF_GetVqdff(const FF_Handle_t *pHandle)
 397:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** {
 923              		.loc 3 397 1
 924              		.cfi_startproc
 925              		@ args = 0, pretend = 0, frame = 16
 926              		@ frame_needed = 1, uses_anonymous_args = 0
 927              		@ link register save eliminated.
 928 0000 80B4     		push	{r7}
 929              	.LCFI58:
 930              		.cfi_def_cfa_offset 4
 931              		.cfi_offset 7, -4
 932 0002 85B0     		sub	sp, sp, #20
 933              	.LCFI59:
 934              		.cfi_def_cfa_offset 24
 935 0004 00AF     		add	r7, sp, #0
 936              	.LCFI60:
 937              		.cfi_def_cfa_register 7
ARM GAS  /tmp/ccaILIio.s 			page 30


 938 0006 7860     		str	r0, [r7, #4]
 398:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #ifdef NULL_PTR_CHECK_FEED_FWD_CTRL
 399:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   qd_t retqt;
 400:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   if (NULL == pHandle)
 401:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   {
 402:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     retqt.q = 0;
 403:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     retqt.d = 0;
 404:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   }
 405:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   else
 406:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   {
 407:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     retqt = pHandle->Vqdff;
 408:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   }
 409:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   return (retqt);
 410:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #else
 411:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   return (pHandle->Vqdff);
 939              		.loc 3 411 18
 940 0008 7B68     		ldr	r3, [r7, #4]
 941 000a 1B68     		ldr	r3, [r3]
 942 000c FB60     		str	r3, [r7, #12]
 943 000e 0023     		movs	r3, #0
 944 0010 BA89     		ldrh	r2, [r7, #12]
 945 0012 62F30F03 		bfi	r3, r2, #0, #16
 946 0016 FA89     		ldrh	r2, [r7, #14]
 947 0018 62F31F43 		bfi	r3, r2, #16, #16
 412:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #endif
 413:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** }
 948              		.loc 3 413 1
 949 001c 1846     		mov	r0, r3
 950 001e 1437     		adds	r7, r7, #20
 951              	.LCFI61:
 952              		.cfi_def_cfa_offset 4
 953 0020 BD46     		mov	sp, r7
 954              	.LCFI62:
 955              		.cfi_def_cfa_register 13
 956              		@ sp needed
 957 0022 5DF8047B 		ldr	r7, [sp], #4
 958              	.LCFI63:
 959              		.cfi_restore 7
 960              		.cfi_def_cfa_offset 0
 961 0026 7047     		bx	lr
 962              		.cfi_endproc
 963              	.LFE1455:
 965              		.section	.text.FF_GetVqdAvPIout,"ax",%progbits
 966              		.align	1
 967              		.weak	FF_GetVqdAvPIout
 968              		.syntax unified
 969              		.thumb
 970              		.thumb_func
 971              		.fpu fpv4-sp-d16
 973              	FF_GetVqdAvPIout:
 974              	.LFB1456:
 414:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** 
 415:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** /**
 416:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * @brief  Use this method to get the averaged output values of qd axes
 417:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   *         currents PI regulators.
 418:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * @param  pHandle Feed-forward structure.
 419:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   * @retval qd_t Averaged output of qd axes currents PI regulators.
ARM GAS  /tmp/ccaILIio.s 			page 31


 420:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   */
 421:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** __weak qd_t FF_GetVqdAvPIout(const FF_Handle_t *pHandle)
 422:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** {
 975              		.loc 3 422 1
 976              		.cfi_startproc
 977              		@ args = 0, pretend = 0, frame = 16
 978              		@ frame_needed = 1, uses_anonymous_args = 0
 979              		@ link register save eliminated.
 980 0000 80B4     		push	{r7}
 981              	.LCFI64:
 982              		.cfi_def_cfa_offset 4
 983              		.cfi_offset 7, -4
 984 0002 85B0     		sub	sp, sp, #20
 985              	.LCFI65:
 986              		.cfi_def_cfa_offset 24
 987 0004 00AF     		add	r7, sp, #0
 988              	.LCFI66:
 989              		.cfi_def_cfa_register 7
 990 0006 7860     		str	r0, [r7, #4]
 423:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #ifdef NULL_PTR_CHECK_FEED_FWD_CTRL
 424:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   qd_t retqt;
 425:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   if (NULL == pHandle)
 426:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   {
 427:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     retqt.q = 0;
 428:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     retqt.d = 0;
 429:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   }
 430:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   else
 431:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   {
 432:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****     retqt = pHandle->VqdAvPIout;
 433:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   }
 434:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   return (retqt);
 435:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #else
 436:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c ****   return (pHandle->VqdAvPIout);
 991              		.loc 3 436 18
 992 0008 7B68     		ldr	r3, [r7, #4]
 993 000a 9B68     		ldr	r3, [r3, #8]
 994 000c FB60     		str	r3, [r7, #12]
 995 000e 0023     		movs	r3, #0
 996 0010 BA89     		ldrh	r2, [r7, #12]
 997 0012 62F30F03 		bfi	r3, r2, #0, #16
 998 0016 FA89     		ldrh	r2, [r7, #14]
 999 0018 62F31F43 		bfi	r3, r2, #16, #16
 437:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** #endif
 438:MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Src/feed_forward_ctrl.c **** }
 1000              		.loc 3 438 1
 1001 001c 1846     		mov	r0, r3
 1002 001e 1437     		adds	r7, r7, #20
 1003              	.LCFI67:
 1004              		.cfi_def_cfa_offset 4
 1005 0020 BD46     		mov	sp, r7
 1006              	.LCFI68:
 1007              		.cfi_def_cfa_register 13
 1008              		@ sp needed
 1009 0022 5DF8047B 		ldr	r7, [sp], #4
 1010              	.LCFI69:
 1011              		.cfi_restore 7
 1012              		.cfi_def_cfa_offset 0
ARM GAS  /tmp/ccaILIio.s 			page 32


 1013 0026 7047     		bx	lr
 1014              		.cfi_endproc
 1015              	.LFE1456:
 1017              		.text
 1018              	.Letext0:
 1019              		.file 4 "/usr/share/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/machine/_default_type
 1020              		.file 5 "/usr/share/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/sys/_stdint.h"
 1021              		.file 6 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_ll_tim.h"
 1022              		.file 7 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_ll_usart.h"
 1023              		.file 8 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_ll_dma.h"
 1024              		.file 9 "Inc/mc_type.h"
 1025              		.file 10 "MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_pos_fdbk.h"
 1026              		.file 11 "MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/pid_regulator.h"
 1027              		.file 12 "MCSDK_v6.3.2-Full/MotorControl/MCSDK/MCLib/Any/Inc/feed_forward_ctrl.h"
ARM GAS  /tmp/ccaILIio.s 			page 33


DEFINED SYMBOLS
                            *ABS*:0000000000000000 feed_forward_ctrl.c
     /tmp/ccaILIio.s:18     .rodata.OFFSET_TAB_CCMRx:0000000000000000 $d
     /tmp/ccaILIio.s:21     .rodata.OFFSET_TAB_CCMRx:0000000000000000 OFFSET_TAB_CCMRx
     /tmp/ccaILIio.s:24     .rodata.SHIFT_TAB_OCxx:0000000000000000 $d
     /tmp/ccaILIio.s:27     .rodata.SHIFT_TAB_OCxx:0000000000000000 SHIFT_TAB_OCxx
     /tmp/ccaILIio.s:30     .rodata.SHIFT_TAB_ICxx:0000000000000000 $d
     /tmp/ccaILIio.s:33     .rodata.SHIFT_TAB_ICxx:0000000000000000 SHIFT_TAB_ICxx
     /tmp/ccaILIio.s:36     .rodata.SHIFT_TAB_CCxP:0000000000000000 $d
     /tmp/ccaILIio.s:39     .rodata.SHIFT_TAB_CCxP:0000000000000000 SHIFT_TAB_CCxP
     /tmp/ccaILIio.s:42     .rodata.SHIFT_TAB_OISx:0000000000000000 $d
     /tmp/ccaILIio.s:45     .rodata.SHIFT_TAB_OISx:0000000000000000 SHIFT_TAB_OISx
     /tmp/ccaILIio.s:48     .rodata.USART_PRESCALER_TAB:0000000000000000 $d
     /tmp/ccaILIio.s:51     .rodata.USART_PRESCALER_TAB:0000000000000000 USART_PRESCALER_TAB
     /tmp/ccaILIio.s:65     .rodata.CHANNEL_OFFSET_TAB:0000000000000000 $d
     /tmp/ccaILIio.s:68     .rodata.CHANNEL_OFFSET_TAB:0000000000000000 CHANNEL_OFFSET_TAB
     /tmp/ccaILIio.s:71     .text.VBS_GetAvBusVoltage_d:0000000000000000 $t
     /tmp/ccaILIio.s:78     .text.VBS_GetAvBusVoltage_d:0000000000000000 VBS_GetAvBusVoltage_d
     /tmp/ccaILIio.s:118    .text.STC_GetSpeedSensor:0000000000000000 $t
     /tmp/ccaILIio.s:124    .text.STC_GetSpeedSensor:0000000000000000 STC_GetSpeedSensor
     /tmp/ccaILIio.s:164    .text.FF_Init:0000000000000000 $t
     /tmp/ccaILIio.s:171    .text.FF_Init:0000000000000000 FF_Init
     /tmp/ccaILIio.s:241    .text.FF_Clear:0000000000000000 $t
     /tmp/ccaILIio.s:248    .text.FF_Clear:0000000000000000 FF_Clear
     /tmp/ccaILIio.s:292    .text.FF_VqdffComputation:0000000000000000 $t
     /tmp/ccaILIio.s:299    .text.FF_VqdffComputation:0000000000000000 FF_VqdffComputation
     /tmp/ccaILIio.s:492    .text.FF_VqdffComputation:000000000000011c $d
     /tmp/ccaILIio.s:497    .text.FF_VqdConditioning:0000000000000000 $t
     /tmp/ccaILIio.s:504    .text.FF_VqdConditioning:0000000000000000 FF_VqdConditioning
     /tmp/ccaILIio.s:616    .text.FF_VqdConditioning:0000000000000094 $d
     /tmp/ccaILIio.s:621    .text.FF_DataProcess:0000000000000000 $t
     /tmp/ccaILIio.s:628    .text.FF_DataProcess:0000000000000000 FF_DataProcess
     /tmp/ccaILIio.s:728    .text.FF_InitFOCAdditionalMethods:0000000000000000 $t
     /tmp/ccaILIio.s:735    .text.FF_InitFOCAdditionalMethods:0000000000000000 FF_InitFOCAdditionalMethods
     /tmp/ccaILIio.s:787    .text.FF_SetFFConstants:0000000000000000 $t
     /tmp/ccaILIio.s:794    .text.FF_SetFFConstants:0000000000000000 FF_SetFFConstants
     /tmp/ccaILIio.s:847    .text.FF_GetFFConstants:0000000000000000 $t
     /tmp/ccaILIio.s:854    .text.FF_GetFFConstants:0000000000000000 FF_GetFFConstants
     /tmp/ccaILIio.s:914    .text.FF_GetVqdff:0000000000000000 $t
     /tmp/ccaILIio.s:921    .text.FF_GetVqdff:0000000000000000 FF_GetVqdff
     /tmp/ccaILIio.s:966    .text.FF_GetVqdAvPIout:0000000000000000 $t
     /tmp/ccaILIio.s:973    .text.FF_GetVqdAvPIout:0000000000000000 FF_GetVqdAvPIout

UNDEFINED SYMBOLS
SPD_GetElSpeedDpp
PID_SetIntegralTerm
