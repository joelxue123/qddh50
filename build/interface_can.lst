ARM GAS  /tmp/ccaQP5rI.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 2
  13              		.file	"interface_can.cpp"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text._ZN9ODriveCANC2ERNS_8Config_tEP19FDCAN_HandleTypeDef,"ax",%progbits
  18              		.align	1
  19              		.global	_ZN9ODriveCANC2ERNS_8Config_tEP19FDCAN_HandleTypeDef
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	_ZN9ODriveCANC2ERNS_8Config_tEP19FDCAN_HandleTypeDef:
  27              	.LVL0:
  28              	.LFB5730:
  29              		.file 1 "Src/interface_can.cpp"
   1:Src/interface_can.cpp **** #include "interface_can.hpp"
   2:Src/interface_can.cpp **** 
   3:Src/interface_can.cpp **** #include "crc.hpp"
   4:Src/interface_can.cpp **** #include "freertos_vars.h"
   5:Src/interface_can.cpp **** #include "utils.hpp"
   6:Src/interface_can.cpp **** 
   7:Src/interface_can.cpp **** #include <cmsis_os.h>
   8:Src/interface_can.cpp **** #include "stm32g4xx_hal.h"
   9:Src/interface_can.cpp **** 
  10:Src/interface_can.cpp **** // Specific CAN Protocols
  11:Src/interface_can.cpp **** #include "can_encos.hpp"
  12:Src/interface_can.cpp **** #include "stm32g4xx_hal_fdcan.h"  // Include FDCAN header
  13:Src/interface_can.cpp **** #include "axis.hpp"
  14:Src/interface_can.cpp **** 
  15:Src/interface_can.cpp **** 
  16:Src/interface_can.cpp **** // Safer context handling via maps instead of arrays
  17:Src/interface_can.cpp **** // #include <unordered_map>
  18:Src/interface_can.cpp **** // std::unordered_map<CAN_HandleTypeDef *, ODriveCAN *> ctxMap;
  19:Src/interface_can.cpp **** 
  20:Src/interface_can.cpp **** // Constructor is called by communication.cpp and the handle is assigned appropriately
  21:Src/interface_can.cpp **** ODriveCAN::ODriveCAN(ODriveCAN::Config_t &config, FDCAN_HandleTypeDef *handle)
  30              		.loc 1 21 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
  35              		.loc 1 21 1 is_stmt 0 view .LVU1
  36 0000 10B4     		push	{r4}
  37              	.LCFI0:
ARM GAS  /tmp/ccaQP5rI.s 			page 2


  38              		.cfi_def_cfa_offset 4
  39              		.cfi_offset 4, -4
  40              	.LBB2:
  22:Src/interface_can.cpp ****     : config_{config},
  23:Src/interface_can.cpp ****       handle_{handle} {
  41              		.loc 1 23 21 view .LVU2
  42 0002 4FF48064 		mov	r4, #1024
  43 0006 4460     		str	r4, [r0, #4]
  44 0008 4FF0000C 		mov	ip, #0
  45 000c 80F808C0 		strb	ip, [r0, #8]
  46 0010 80F809C0 		strb	ip, [r0, #9]
  47 0014 C160     		str	r1, [r0, #12]
  48 0016 0261     		str	r2, [r0, #16]
  49              	.LBE2:
  24:Src/interface_can.cpp ****     // ctxMap[handle_] = this;
  25:Src/interface_can.cpp **** }
  50              		.loc 1 25 1 view .LVU3
  51 0018 5DF8044B 		ldr	r4, [sp], #4
  52              	.LCFI1:
  53              		.cfi_restore 4
  54              		.cfi_def_cfa_offset 0
  55 001c 7047     		bx	lr
  56              		.cfi_endproc
  57              	.LFE5730:
  59              		.global	_ZN9ODriveCANC1ERNS_8Config_tEP19FDCAN_HandleTypeDef
  60              		.thumb_set _ZN9ODriveCANC1ERNS_8Config_tEP19FDCAN_HandleTypeDef,_ZN9ODriveCANC2ERNS_8Config_tEP19F
  61              		.section	.text._ZN9ODriveCAN5writeER13can_Message_t,"ax",%progbits
  62              		.align	1
  63              		.global	_ZN9ODriveCAN5writeER13can_Message_t
  64              		.syntax unified
  65              		.thumb
  66              		.thumb_func
  67              		.fpu fpv4-sp-d16
  69              	_ZN9ODriveCAN5writeER13can_Message_t:
  70              	.LVL1:
  71              	.LFB5738:
  26:Src/interface_can.cpp **** 
  27:Src/interface_can.cpp **** void ODriveCAN::can_server_thread() {
  28:Src/interface_can.cpp ****     for (;;) {
  29:Src/interface_can.cpp ****         uint32_t status = HAL_FDCAN_GetError(handle_);
  30:Src/interface_can.cpp ****         if (status == HAL_FDCAN_ERROR_NONE) {
  31:Src/interface_can.cpp ****             can_Message_t rxmsg;
  32:Src/interface_can.cpp **** 
  33:Src/interface_can.cpp ****             // Poll every 10ms regardless of semaphore status
  34:Src/interface_can.cpp ****             osSemaphoreWait(sem_can, 10);  
  35:Src/interface_can.cpp ****             
  36:Src/interface_can.cpp ****             while (available()) {
  37:Src/interface_can.cpp ****                 read(rxmsg);
  38:Src/interface_can.cpp ****                 switch (config_.protocol) {
  39:Src/interface_can.cpp ****                     case PROTOCOL_SIMPLE:
  40:Src/interface_can.cpp ****                         break;
  41:Src/interface_can.cpp ****                     case PROTOCOL_ENCOS:
  42:Src/interface_can.cpp ****                         CANEncos::handle_can_message(rxmsg);
  43:Src/interface_can.cpp ****                         break;
  44:Src/interface_can.cpp ****                 }
  45:Src/interface_can.cpp ****             }
  46:Src/interface_can.cpp ****             
ARM GAS  /tmp/ccaQP5rI.s 			page 3


  47:Src/interface_can.cpp ****             // Re-enable FDCAN notifications
  48:Src/interface_can.cpp ****             HAL_FDCAN_ActivateNotification(handle_, 
  49:Src/interface_can.cpp ****                 FDCAN_IT_RX_FIFO0_NEW_MESSAGE, 
  50:Src/interface_can.cpp ****                 FDCAN_INTERRUPT_LINE0);
  51:Src/interface_can.cpp ****                 
  52:Src/interface_can.cpp ****         } else {
  53:Src/interface_can.cpp ****             if (status == HAL_FDCAN_ERROR_TIMEOUT) {
  54:Src/interface_can.cpp ****                 // Reset FDCAN on timeout by stopping and restarting
  55:Src/interface_can.cpp ****                 HAL_FDCAN_Stop(handle_);
  56:Src/interface_can.cpp ****                 
  57:Src/interface_can.cpp ****                 // Clear error flags in ECR register
  58:Src/interface_can.cpp ****                 CLEAR_BIT(handle_->Instance->ECR, (FDCAN_ECR_TEC | FDCAN_ECR_REC));
  59:Src/interface_can.cpp ****                 
  60:Src/interface_can.cpp ****                 // Restart FDCAN
  61:Src/interface_can.cpp ****                 status = HAL_FDCAN_Start(handle_);
  62:Src/interface_can.cpp ****                 if (status == HAL_OK) {
  63:Src/interface_can.cpp ****                     status = HAL_FDCAN_ActivateNotification(handle_,
  64:Src/interface_can.cpp ****                         FDCAN_IT_RX_FIFO0_NEW_MESSAGE,
  65:Src/interface_can.cpp ****                         FDCAN_INTERRUPT_LINE0);
  66:Src/interface_can.cpp ****                 }
  67:Src/interface_can.cpp ****             }
  68:Src/interface_can.cpp ****         }
  69:Src/interface_can.cpp ****     }
  70:Src/interface_can.cpp **** }
  71:Src/interface_can.cpp **** 
  72:Src/interface_can.cpp ****  
  73:Src/interface_can.cpp **** 
  74:Src/interface_can.cpp **** static void can_server_thread_wrapper(void *ctx) {
  75:Src/interface_can.cpp ****     reinterpret_cast<ODriveCAN *>(ctx)->can_server_thread();
  76:Src/interface_can.cpp ****     reinterpret_cast<ODriveCAN *>(ctx)->thread_id_valid_ = false;
  77:Src/interface_can.cpp **** }
  78:Src/interface_can.cpp **** 
  79:Src/interface_can.cpp **** bool ODriveCAN::start_can_server() {
  80:Src/interface_can.cpp ****     HAL_StatusTypeDef status;
  81:Src/interface_can.cpp **** 
  82:Src/interface_can.cpp ****     // Set initial baud rate
  83:Src/interface_can.cpp ****     set_baud_rate(config_.baud_rate);
  84:Src/interface_can.cpp **** 
  85:Src/interface_can.cpp ****     // Initialize FDCAN with current configuration
  86:Src/interface_can.cpp ****     status = HAL_FDCAN_Init(handle_);
  87:Src/interface_can.cpp ****     if (status != HAL_OK) {
  88:Src/interface_can.cpp ****         return false;
  89:Src/interface_can.cpp ****     }
  90:Src/interface_can.cpp **** 
  91:Src/interface_can.cpp ****     // Configure FDCAN global filter
  92:Src/interface_can.cpp ****     HAL_FDCAN_ConfigGlobalFilter(handle_,
  93:Src/interface_can.cpp ****                                 FDCAN_ACCEPT_IN_RX_FIFO0,
  94:Src/interface_can.cpp ****                                 FDCAN_ACCEPT_IN_RX_FIFO0,
  95:Src/interface_can.cpp ****                                 FDCAN_FILTER_REMOTE,
  96:Src/interface_can.cpp ****                                 FDCAN_FILTER_REJECT);
  97:Src/interface_can.cpp **** 
  98:Src/interface_can.cpp ****     // Start FDCAN peripheral
  99:Src/interface_can.cpp ****     status = HAL_FDCAN_Start(handle_);
 100:Src/interface_can.cpp ****     if (status != HAL_OK) {
 101:Src/interface_can.cpp ****         return false;
 102:Src/interface_can.cpp ****     }
 103:Src/interface_can.cpp **** 
ARM GAS  /tmp/ccaQP5rI.s 			page 4


 104:Src/interface_can.cpp ****     // Enable FDCAN notifications
 105:Src/interface_can.cpp ****     status = HAL_FDCAN_ActivateNotification(handle_,
 106:Src/interface_can.cpp ****         FDCAN_IT_RX_FIFO0_NEW_MESSAGE | 
 107:Src/interface_can.cpp ****         FDCAN_IT_RX_FIFO0_FULL | 
 108:Src/interface_can.cpp ****         FDCAN_IT_ERROR_WARNING,
 109:Src/interface_can.cpp ****         FDCAN_INTERRUPT_LINE0);
 110:Src/interface_can.cpp ****     
 111:Src/interface_can.cpp ****     if (status != HAL_OK) {
 112:Src/interface_can.cpp ****         return false;
 113:Src/interface_can.cpp ****     }
 114:Src/interface_can.cpp **** 
 115:Src/interface_can.cpp ****     // Create CAN server thread using CMSIS-RTOS v1
 116:Src/interface_can.cpp ****     osThreadDef_t thread_def;
 117:Src/interface_can.cpp ****     thread_def.name = "can_server";
 118:Src/interface_can.cpp ****     thread_def.pthread = (os_pthread)can_server_thread_wrapper;
 119:Src/interface_can.cpp ****     thread_def.tpriority = osPriorityRealtime;
 120:Src/interface_can.cpp ****     thread_def.instances = 0;
 121:Src/interface_can.cpp ****     thread_def.stacksize = stack_size_ / sizeof(StackType_t);
 122:Src/interface_can.cpp **** 
 123:Src/interface_can.cpp ****     thread_id_ = osThreadCreate(&thread_def, this);
 124:Src/interface_can.cpp ****     thread_id_valid_ = (thread_id_ != nullptr);
 125:Src/interface_can.cpp **** 
 126:Src/interface_can.cpp ****     return thread_id_valid_;
 127:Src/interface_can.cpp **** }
 128:Src/interface_can.cpp **** 
 129:Src/interface_can.cpp **** // Send a CAN message on the bus
 130:Src/interface_can.cpp **** 
 131:Src/interface_can.cpp **** uint32_t ODriveCAN::write(can_Message_t &txmsg) {
  72              		.loc 1 131 49 is_stmt 1 view -0
  73              		.cfi_startproc
  74              		@ args = 0, pretend = 0, frame = 40
  75              		@ frame_needed = 0, uses_anonymous_args = 0
  76              		.loc 1 131 49 is_stmt 0 view .LVU5
  77 0000 30B5     		push	{r4, r5, lr}
  78              	.LCFI2:
  79              		.cfi_def_cfa_offset 12
  80              		.cfi_offset 4, -12
  81              		.cfi_offset 5, -8
  82              		.cfi_offset 14, -4
  83 0002 8BB0     		sub	sp, sp, #44
  84              	.LCFI3:
  85              		.cfi_def_cfa_offset 56
  86 0004 0546     		mov	r5, r0
  87 0006 0C46     		mov	r4, r1
 132:Src/interface_can.cpp ****     if (HAL_FDCAN_GetError(handle_) == HAL_FDCAN_ERROR_NONE) {
  88              		.loc 1 132 5 is_stmt 1 view .LVU6
  89              	.LBB3:
  90              		.loc 1 132 27 is_stmt 0 view .LVU7
  91 0008 0069     		ldr	r0, [r0, #16]
  92              	.LVL2:
  93              		.loc 1 132 27 view .LVU8
  94 000a FFF7FEFF 		bl	HAL_FDCAN_GetError
  95              	.LVL3:
  96              		.loc 1 132 5 view .LVU9
  97 000e 40BB     		cbnz	r0, .L8
  98 0010 0346     		mov	r3, r0
  99              	.LBB4:
ARM GAS  /tmp/ccaQP5rI.s 			page 5


 133:Src/interface_can.cpp ****         FDCAN_TxHeaderTypeDef header;
 100              		.loc 1 133 9 is_stmt 1 view .LVU10
 134:Src/interface_can.cpp ****         
 135:Src/interface_can.cpp ****         // Configure message header
 136:Src/interface_can.cpp ****         header.Identifier = txmsg.id;
 101              		.loc 1 136 9 view .LVU11
 102              		.loc 1 136 27 is_stmt 0 view .LVU12
 103 0012 2268     		ldr	r2, [r4]
 104 0014 0192     		str	r2, [sp, #4]
 137:Src/interface_can.cpp ****         header.IdType = txmsg.isExt ? FDCAN_EXTENDED_ID : FDCAN_STANDARD_ID;
 105              		.loc 1 137 9 is_stmt 1 view .LVU13
 106              		.loc 1 137 37 is_stmt 0 view .LVU14
 107 0016 2279     		ldrb	r2, [r4, #4]	@ zero_extendqisi2
 108 0018 002A     		cmp	r2, #0
 109 001a 0CBF     		ite	eq
 110 001c 0246     		moveq	r2, r0
 111 001e 4FF08042 		movne	r2, #1073741824
 112              		.loc 1 137 23 view .LVU15
 113 0022 0292     		str	r2, [sp, #8]
 138:Src/interface_can.cpp ****         header.TxFrameType = txmsg.rtr ? FDCAN_REMOTE_FRAME : FDCAN_DATA_FRAME;
 114              		.loc 1 138 9 is_stmt 1 view .LVU16
 115              		.loc 1 138 40 is_stmt 0 view .LVU17
 116 0024 6279     		ldrb	r2, [r4, #5]	@ zero_extendqisi2
 117 0026 002A     		cmp	r2, #0
 118 0028 0CBF     		ite	eq
 119 002a 0346     		moveq	r3, r0
 120 002c 4FF00053 		movne	r3, #536870912
 121              		.loc 1 138 28 view .LVU18
 122 0030 0393     		str	r3, [sp, #12]
 139:Src/interface_can.cpp ****         header.DataLength = txmsg.len << 16;  // FDCAN uses shifted DLC format
 123              		.loc 1 139 9 is_stmt 1 view .LVU19
 124              		.loc 1 139 35 is_stmt 0 view .LVU20
 125 0032 A379     		ldrb	r3, [r4, #6]	@ zero_extendqisi2
 126              		.loc 1 139 39 view .LVU21
 127 0034 1B04     		lsls	r3, r3, #16
 128              		.loc 1 139 27 view .LVU22
 129 0036 0493     		str	r3, [sp, #16]
 140:Src/interface_can.cpp ****         header.ErrorStateIndicator = FDCAN_ESI_ACTIVE;
 130              		.loc 1 140 9 is_stmt 1 view .LVU23
 131              		.loc 1 140 36 is_stmt 0 view .LVU24
 132 0038 0023     		movs	r3, #0
 133 003a 0593     		str	r3, [sp, #20]
 141:Src/interface_can.cpp ****         header.BitRateSwitch = FDCAN_BRS_OFF;
 134              		.loc 1 141 9 is_stmt 1 view .LVU25
 135              		.loc 1 141 30 is_stmt 0 view .LVU26
 136 003c 0693     		str	r3, [sp, #24]
 142:Src/interface_can.cpp ****         header.FDFormat = FDCAN_CLASSIC_CAN;
 137              		.loc 1 142 9 is_stmt 1 view .LVU27
 138              		.loc 1 142 25 is_stmt 0 view .LVU28
 139 003e 0793     		str	r3, [sp, #28]
 143:Src/interface_can.cpp ****         header.TxEventFifoControl = FDCAN_NO_TX_EVENTS;
 140              		.loc 1 143 9 is_stmt 1 view .LVU29
 141              		.loc 1 143 35 is_stmt 0 view .LVU30
 142 0040 0893     		str	r3, [sp, #32]
 144:Src/interface_can.cpp ****         header.MessageMarker = 0;
 143              		.loc 1 144 9 is_stmt 1 view .LVU31
 144              		.loc 1 144 30 is_stmt 0 view .LVU32
ARM GAS  /tmp/ccaQP5rI.s 			page 6


 145 0042 0993     		str	r3, [sp, #36]
 145:Src/interface_can.cpp **** 
 146:Src/interface_can.cpp ****         // Add message to transmission FIFO
 147:Src/interface_can.cpp ****         if (HAL_FDCAN_GetTxFifoFreeLevel(handle_) > 0) {
 146              		.loc 1 147 9 is_stmt 1 view .LVU33
 147              	.LBB5:
 148              		.loc 1 147 41 is_stmt 0 view .LVU34
 149 0044 2869     		ldr	r0, [r5, #16]
 150 0046 FFF7FEFF 		bl	HAL_FDCAN_GetTxFifoFreeLevel
 151              	.LVL4:
 152              		.loc 1 147 9 view .LVU35
 153 004a 08B9     		cbnz	r0, .L12
 154              	.L3:
 155              	.LBE5:
 156              	.LBE4:
 157              	.LBE3:
 148:Src/interface_can.cpp ****             HAL_StatusTypeDef status = HAL_FDCAN_AddMessageToTxFifoQ(handle_, 
 149:Src/interface_can.cpp ****                                                                     &header,
 150:Src/interface_can.cpp ****                                                                     txmsg.buf);
 151:Src/interface_can.cpp ****             return (status == HAL_OK) ? 1 : 0;
 152:Src/interface_can.cpp ****         }
 153:Src/interface_can.cpp ****         return 0;
 154:Src/interface_can.cpp ****     }
 155:Src/interface_can.cpp ****     return -1;
 156:Src/interface_can.cpp **** }
 158              		.loc 1 156 1 view .LVU36
 159 004c 0BB0     		add	sp, sp, #44
 160              	.LCFI4:
 161              		.cfi_remember_state
 162              		.cfi_def_cfa_offset 12
 163              		@ sp needed
 164 004e 30BD     		pop	{r4, r5, pc}
 165              	.LVL5:
 166              	.L12:
 167              	.LCFI5:
 168              		.cfi_restore_state
 169              	.LBB9:
 170              	.LBB8:
 171              	.LBB7:
 172              	.LBB6:
 148:Src/interface_can.cpp ****             HAL_StatusTypeDef status = HAL_FDCAN_AddMessageToTxFifoQ(handle_, 
 173              		.loc 1 148 13 is_stmt 1 view .LVU37
 148:Src/interface_can.cpp ****             HAL_StatusTypeDef status = HAL_FDCAN_AddMessageToTxFifoQ(handle_, 
 174              		.loc 1 148 69 is_stmt 0 view .LVU38
 175 0050 E21D     		adds	r2, r4, #7
 176 0052 01A9     		add	r1, sp, #4
 177 0054 2869     		ldr	r0, [r5, #16]
 178 0056 FFF7FEFF 		bl	HAL_FDCAN_AddMessageToTxFifoQ
 179              	.LVL6:
 151:Src/interface_can.cpp ****         }
 180              		.loc 1 151 13 is_stmt 1 view .LVU39
 151:Src/interface_can.cpp ****         }
 181              		.loc 1 151 39 is_stmt 0 view .LVU40
 182 005a B0FA80F0 		clz	r0, r0
 183              	.LVL7:
 151:Src/interface_can.cpp ****         }
 184              		.loc 1 151 39 view .LVU41
ARM GAS  /tmp/ccaQP5rI.s 			page 7


 185 005e 4009     		lsrs	r0, r0, #5
 186 0060 F4E7     		b	.L3
 187              	.L8:
 151:Src/interface_can.cpp ****         }
 188              		.loc 1 151 39 view .LVU42
 189              	.LBE6:
 190              	.LBE7:
 191              	.LBE8:
 192              	.LBE9:
 155:Src/interface_can.cpp **** }
 193              		.loc 1 155 13 view .LVU43
 194 0062 4FF0FF30 		mov	r0, #-1
 195 0066 F1E7     		b	.L3
 196              		.cfi_endproc
 197              	.LFE5738:
 199              		.section	.text._ZN9ODriveCAN9availableEv,"ax",%progbits
 200              		.align	1
 201              		.global	_ZN9ODriveCAN9availableEv
 202              		.syntax unified
 203              		.thumb
 204              		.thumb_func
 205              		.fpu fpv4-sp-d16
 207              	_ZN9ODriveCAN9availableEv:
 208              	.LVL8:
 209              	.LFB5739:
 157:Src/interface_can.cpp **** 
 158:Src/interface_can.cpp **** 
 159:Src/interface_can.cpp **** uint32_t ODriveCAN::available() {
 210              		.loc 1 159 33 is_stmt 1 view -0
 211              		.cfi_startproc
 212              		@ args = 0, pretend = 0, frame = 0
 213              		@ frame_needed = 0, uses_anonymous_args = 0
 214              		.loc 1 159 33 is_stmt 0 view .LVU45
 215 0000 38B5     		push	{r3, r4, r5, lr}
 216              	.LCFI6:
 217              		.cfi_def_cfa_offset 16
 218              		.cfi_offset 3, -16
 219              		.cfi_offset 4, -12
 220              		.cfi_offset 5, -8
 221              		.cfi_offset 14, -4
 222 0002 0446     		mov	r4, r0
 160:Src/interface_can.cpp ****     return (HAL_FDCAN_GetRxFifoFillLevel(handle_, FDCAN_RX_FIFO0) + 
 223              		.loc 1 160 5 is_stmt 1 view .LVU46
 224              		.loc 1 160 41 is_stmt 0 view .LVU47
 225 0004 4021     		movs	r1, #64
 226 0006 0069     		ldr	r0, [r0, #16]
 227              	.LVL9:
 228              		.loc 1 160 41 view .LVU48
 229 0008 FFF7FEFF 		bl	HAL_FDCAN_GetRxFifoFillLevel
 230              	.LVL10:
 231 000c 0546     		mov	r5, r0
 161:Src/interface_can.cpp ****             HAL_FDCAN_GetRxFifoFillLevel(handle_, FDCAN_RX_FIFO1));
 232              		.loc 1 161 41 view .LVU49
 233 000e 4121     		movs	r1, #65
 234 0010 2069     		ldr	r0, [r4, #16]
 235 0012 FFF7FEFF 		bl	HAL_FDCAN_GetRxFifoFillLevel
 236              	.LVL11:
ARM GAS  /tmp/ccaQP5rI.s 			page 8


 162:Src/interface_can.cpp **** }
 237              		.loc 1 162 1 view .LVU50
 238 0016 2844     		add	r0, r0, r5
 239 0018 38BD     		pop	{r3, r4, r5, pc}
 240              		.loc 1 162 1 view .LVU51
 241              		.cfi_endproc
 242              	.LFE5739:
 244              		.section	.text._ZN9ODriveCAN4readER13can_Message_t,"ax",%progbits
 245              		.align	1
 246              		.global	_ZN9ODriveCAN4readER13can_Message_t
 247              		.syntax unified
 248              		.thumb
 249              		.thumb_func
 250              		.fpu fpv4-sp-d16
 252              	_ZN9ODriveCAN4readER13can_Message_t:
 253              	.LVL12:
 254              	.LFB5740:
 163:Src/interface_can.cpp **** 
 164:Src/interface_can.cpp **** bool ODriveCAN::read(can_Message_t &rxmsg) {
 255              		.loc 1 164 44 is_stmt 1 view -0
 256              		.cfi_startproc
 257              		@ args = 0, pretend = 0, frame = 40
 258              		@ frame_needed = 0, uses_anonymous_args = 0
 259              		.loc 1 164 44 is_stmt 0 view .LVU53
 260 0000 30B5     		push	{r4, r5, lr}
 261              	.LCFI7:
 262              		.cfi_def_cfa_offset 12
 263              		.cfi_offset 4, -12
 264              		.cfi_offset 5, -8
 265              		.cfi_offset 14, -4
 266 0002 8BB0     		sub	sp, sp, #44
 267              	.LCFI8:
 268              		.cfi_def_cfa_offset 56
 269 0004 0446     		mov	r4, r0
 270 0006 0D46     		mov	r5, r1
 165:Src/interface_can.cpp ****     FDCAN_RxHeaderTypeDef header;
 271              		.loc 1 165 5 is_stmt 1 view .LVU54
 166:Src/interface_can.cpp ****     bool validRead = false;
 272              		.loc 1 166 5 view .LVU55
 273              	.LVL13:
 167:Src/interface_can.cpp **** 
 168:Src/interface_can.cpp ****     if (HAL_FDCAN_GetRxFifoFillLevel(handle_, FDCAN_RX_FIFO0) > 0) {
 274              		.loc 1 168 5 view .LVU56
 275              		.loc 1 168 37 is_stmt 0 view .LVU57
 276 0008 4021     		movs	r1, #64
 277              	.LVL14:
 278              		.loc 1 168 37 view .LVU58
 279 000a 0069     		ldr	r0, [r0, #16]
 280              	.LVL15:
 281              		.loc 1 168 37 view .LVU59
 282 000c FFF7FEFF 		bl	HAL_FDCAN_GetRxFifoFillLevel
 283              	.LVL16:
 284              		.loc 1 168 5 view .LVU60
 285 0010 40B1     		cbz	r0, .L16
 169:Src/interface_can.cpp ****         if (HAL_FDCAN_GetRxMessage(handle_, FDCAN_RX_FIFO0, &header, rxmsg.buf) == HAL_OK) {
 286              		.loc 1 169 9 is_stmt 1 view .LVU61
 287              		.loc 1 169 35 is_stmt 0 view .LVU62
ARM GAS  /tmp/ccaQP5rI.s 			page 9


 288 0012 EB1D     		adds	r3, r5, #7
 289 0014 6A46     		mov	r2, sp
 290 0016 4021     		movs	r1, #64
 291 0018 2069     		ldr	r0, [r4, #16]
 292 001a FFF7FEFF 		bl	HAL_FDCAN_GetRxMessage
 293              	.LVL17:
 294              		.loc 1 169 9 view .LVU63
 295 001e 80B1     		cbz	r0, .L17
 166:Src/interface_can.cpp ****     bool validRead = false;
 296              		.loc 1 166 10 view .LVU64
 297 0020 0020     		movs	r0, #0
 298 0022 05E0     		b	.L18
 299              	.L16:
 170:Src/interface_can.cpp ****             validRead = true;
 171:Src/interface_can.cpp ****         }
 172:Src/interface_can.cpp ****     } else if (HAL_FDCAN_GetRxFifoFillLevel(handle_, FDCAN_RX_FIFO1) > 0) {
 300              		.loc 1 172 12 is_stmt 1 view .LVU65
 301              		.loc 1 172 44 is_stmt 0 view .LVU66
 302 0024 4121     		movs	r1, #65
 303 0026 2069     		ldr	r0, [r4, #16]
 304 0028 FFF7FEFF 		bl	HAL_FDCAN_GetRxFifoFillLevel
 305              	.LVL18:
 306              		.loc 1 172 12 view .LVU67
 307 002c 10B9     		cbnz	r0, .L22
 166:Src/interface_can.cpp **** 
 308              		.loc 1 166 10 view .LVU68
 309 002e 0020     		movs	r0, #0
 310              	.LVL19:
 311              	.L18:
 173:Src/interface_can.cpp ****         if (HAL_FDCAN_GetRxMessage(handle_, FDCAN_RX_FIFO1, &header, rxmsg.buf) == HAL_OK) {
 174:Src/interface_can.cpp ****             validRead = true;
 175:Src/interface_can.cpp ****         }
 176:Src/interface_can.cpp ****     }
 177:Src/interface_can.cpp **** 
 178:Src/interface_can.cpp ****     if (validRead) {
 179:Src/interface_can.cpp ****         rxmsg.isExt = (header.IdType == FDCAN_EXTENDED_ID);
 180:Src/interface_can.cpp ****         rxmsg.id = rxmsg.isExt ? header.Identifier : header.Identifier;
 181:Src/interface_can.cpp ****         rxmsg.len = header.DataLength >> 16; // Convert FDCAN DLC to actual length
 182:Src/interface_can.cpp ****         rxmsg.rtr = (header.RxFrameType == FDCAN_REMOTE_FRAME);
 183:Src/interface_can.cpp ****     }
 184:Src/interface_can.cpp **** 
 185:Src/interface_can.cpp ****     return validRead;
 312              		.loc 1 185 5 is_stmt 1 view .LVU69
 186:Src/interface_can.cpp **** }
 313              		.loc 1 186 1 is_stmt 0 view .LVU70
 314 0030 0BB0     		add	sp, sp, #44
 315              	.LCFI9:
 316              		.cfi_remember_state
 317              		.cfi_def_cfa_offset 12
 318              		@ sp needed
 319 0032 30BD     		pop	{r4, r5, pc}
 320              	.LVL20:
 321              	.L22:
 322              	.LCFI10:
 323              		.cfi_restore_state
 173:Src/interface_can.cpp ****         if (HAL_FDCAN_GetRxMessage(handle_, FDCAN_RX_FIFO1, &header, rxmsg.buf) == HAL_OK) {
 324              		.loc 1 173 9 is_stmt 1 view .LVU71
ARM GAS  /tmp/ccaQP5rI.s 			page 10


 173:Src/interface_can.cpp ****         if (HAL_FDCAN_GetRxMessage(handle_, FDCAN_RX_FIFO1, &header, rxmsg.buf) == HAL_OK) {
 325              		.loc 1 173 35 is_stmt 0 view .LVU72
 326 0034 EB1D     		adds	r3, r5, #7
 327 0036 6A46     		mov	r2, sp
 328 0038 4121     		movs	r1, #65
 329 003a 2069     		ldr	r0, [r4, #16]
 330 003c FFF7FEFF 		bl	HAL_FDCAN_GetRxMessage
 331              	.LVL21:
 173:Src/interface_can.cpp ****         if (HAL_FDCAN_GetRxMessage(handle_, FDCAN_RX_FIFO1, &header, rxmsg.buf) == HAL_OK) {
 332              		.loc 1 173 9 view .LVU73
 333 0040 A0B9     		cbnz	r0, .L20
 334              	.L17:
 335              	.LVL22:
 179:Src/interface_can.cpp ****         rxmsg.id = rxmsg.isExt ? header.Identifier : header.Identifier;
 336              		.loc 1 179 9 is_stmt 1 view .LVU74
 179:Src/interface_can.cpp ****         rxmsg.id = rxmsg.isExt ? header.Identifier : header.Identifier;
 337              		.loc 1 179 38 is_stmt 0 view .LVU75
 338 0042 019B     		ldr	r3, [sp, #4]
 339 0044 B3F1804F 		cmp	r3, #1073741824
 340 0048 14BF     		ite	ne
 341 004a 0023     		movne	r3, #0
 342 004c 0123     		moveq	r3, #1
 343 004e 2B71     		strb	r3, [r5, #4]
 180:Src/interface_can.cpp ****         rxmsg.len = header.DataLength >> 16; // Convert FDCAN DLC to actual length
 344              		.loc 1 180 9 is_stmt 1 view .LVU76
 180:Src/interface_can.cpp ****         rxmsg.len = header.DataLength >> 16; // Convert FDCAN DLC to actual length
 345              		.loc 1 180 18 is_stmt 0 view .LVU77
 346 0050 009B     		ldr	r3, [sp]
 347 0052 2B60     		str	r3, [r5]
 181:Src/interface_can.cpp ****         rxmsg.rtr = (header.RxFrameType == FDCAN_REMOTE_FRAME);
 348              		.loc 1 181 9 is_stmt 1 view .LVU78
 181:Src/interface_can.cpp ****         rxmsg.rtr = (header.RxFrameType == FDCAN_REMOTE_FRAME);
 349              		.loc 1 181 39 is_stmt 0 view .LVU79
 350 0054 BDF80E30 		ldrh	r3, [sp, #14]
 181:Src/interface_can.cpp ****         rxmsg.rtr = (header.RxFrameType == FDCAN_REMOTE_FRAME);
 351              		.loc 1 181 19 view .LVU80
 352 0058 AB71     		strb	r3, [r5, #6]
 182:Src/interface_can.cpp ****     }
 353              		.loc 1 182 9 is_stmt 1 view .LVU81
 182:Src/interface_can.cpp ****     }
 354              		.loc 1 182 41 is_stmt 0 view .LVU82
 355 005a 029B     		ldr	r3, [sp, #8]
 356 005c B3F1005F 		cmp	r3, #536870912
 357 0060 14BF     		ite	ne
 358 0062 0023     		movne	r3, #0
 359 0064 0123     		moveq	r3, #1
 360 0066 6B71     		strb	r3, [r5, #5]
 361 0068 0120     		movs	r0, #1
 362 006a E1E7     		b	.L18
 363              	.LVL23:
 364              	.L20:
 166:Src/interface_can.cpp **** 
 365              		.loc 1 166 10 view .LVU83
 366 006c 0020     		movs	r0, #0
 367 006e DFE7     		b	.L18
 368              		.cfi_endproc
 369              	.LFE5740:
ARM GAS  /tmp/ccaQP5rI.s 			page 11


 371              		.section	.text._ZN9ODriveCAN17can_server_threadEv,"ax",%progbits
 372              		.align	1
 373              		.global	_ZN9ODriveCAN17can_server_threadEv
 374              		.syntax unified
 375              		.thumb
 376              		.thumb_func
 377              		.fpu fpv4-sp-d16
 379              	_ZN9ODriveCAN17can_server_threadEv:
 380              	.LVL24:
 381              	.LFB5732:
  27:Src/interface_can.cpp ****     for (;;) {
 382              		.loc 1 27 37 is_stmt 1 view -0
 383              		.cfi_startproc
 384              		@ args = 0, pretend = 0, frame = 16
 385              		@ frame_needed = 0, uses_anonymous_args = 0
  27:Src/interface_can.cpp ****     for (;;) {
 386              		.loc 1 27 37 is_stmt 0 view .LVU85
 387 0000 30B5     		push	{r4, r5, lr}
 388              	.LCFI11:
 389              		.cfi_def_cfa_offset 12
 390              		.cfi_offset 4, -12
 391              		.cfi_offset 5, -8
 392              		.cfi_offset 14, -4
 393 0002 85B0     		sub	sp, sp, #20
 394              	.LCFI12:
 395              		.cfi_def_cfa_offset 32
 396 0004 0446     		mov	r4, r0
 397              	.LBB10:
 398              	.LBB11:
 399              	.LBB12:
  31:Src/interface_can.cpp **** 
 400              		.loc 1 31 27 view .LVU86
 401 0006 6D46     		mov	r5, sp
 402 0008 04E0     		b	.L24
 403              	.LVL25:
 404              	.L26:
  48:Src/interface_can.cpp ****                 FDCAN_IT_RX_FIFO0_NEW_MESSAGE, 
 405              		.loc 1 48 13 is_stmt 1 view .LVU87
  48:Src/interface_can.cpp ****                 FDCAN_IT_RX_FIFO0_NEW_MESSAGE, 
 406              		.loc 1 48 43 is_stmt 0 view .LVU88
 407 000a 0122     		movs	r2, #1
 408 000c 1146     		mov	r1, r2
 409 000e 2069     		ldr	r0, [r4, #16]
 410 0010 FFF7FEFF 		bl	HAL_FDCAN_ActivateNotification
 411              	.LVL26:
 412              	.L24:
  48:Src/interface_can.cpp ****                 FDCAN_IT_RX_FIFO0_NEW_MESSAGE, 
 413              		.loc 1 48 43 view .LVU89
 414              	.LBE12:
 415              	.LBE11:
 416              	.LBE10:
  28:Src/interface_can.cpp ****         uint32_t status = HAL_FDCAN_GetError(handle_);
 417              		.loc 1 28 5 is_stmt 1 view .LVU90
 418              	.LBB15:
  29:Src/interface_can.cpp ****         if (status == HAL_FDCAN_ERROR_NONE) {
 419              		.loc 1 29 9 view .LVU91
  29:Src/interface_can.cpp ****         if (status == HAL_FDCAN_ERROR_NONE) {
ARM GAS  /tmp/ccaQP5rI.s 			page 12


 420              		.loc 1 29 45 is_stmt 0 view .LVU92
 421 0014 2069     		ldr	r0, [r4, #16]
 422 0016 FFF7FEFF 		bl	HAL_FDCAN_GetError
 423              	.LVL27:
  30:Src/interface_can.cpp ****             can_Message_t rxmsg;
 424              		.loc 1 30 9 is_stmt 1 view .LVU93
 425              	.LBB14:
 426 001a C8B9     		cbnz	r0, .L25
 427              	.LBB13:
  31:Src/interface_can.cpp **** 
 428              		.loc 1 31 13 view .LVU94
  31:Src/interface_can.cpp **** 
 429              		.loc 1 31 27 is_stmt 0 view .LVU95
 430 001c 184B     		ldr	r3, .L32
 431 001e 0FCB     		ldm	r3, {r0, r1, r2, r3}
 432              	.LVL28:
  31:Src/interface_can.cpp **** 
 433              		.loc 1 31 27 view .LVU96
 434 0020 85E80F00 		stm	r5, {r0, r1, r2, r3}
  34:Src/interface_can.cpp ****             
 435              		.loc 1 34 13 is_stmt 1 view .LVU97
  34:Src/interface_can.cpp ****             
 436              		.loc 1 34 28 is_stmt 0 view .LVU98
 437 0024 0A21     		movs	r1, #10
 438 0026 174B     		ldr	r3, .L32+4
 439 0028 1868     		ldr	r0, [r3]
 440 002a FFF7FEFF 		bl	osSemaphoreWait
 441              	.LVL29:
 442              	.L27:
  36:Src/interface_can.cpp ****                 read(rxmsg);
 443              		.loc 1 36 13 is_stmt 1 view .LVU99
  36:Src/interface_can.cpp ****                 read(rxmsg);
 444              		.loc 1 36 29 view .LVU100
 445 002e 2046     		mov	r0, r4
 446 0030 FFF7FEFF 		bl	_ZN9ODriveCAN9availableEv
 447              	.LVL30:
 448 0034 0028     		cmp	r0, #0
 449 0036 E8D0     		beq	.L26
  37:Src/interface_can.cpp ****                 switch (config_.protocol) {
 450              		.loc 1 37 17 view .LVU101
  37:Src/interface_can.cpp ****                 switch (config_.protocol) {
 451              		.loc 1 37 21 is_stmt 0 view .LVU102
 452 0038 2946     		mov	r1, r5
 453 003a 2046     		mov	r0, r4
 454 003c FFF7FEFF 		bl	_ZN9ODriveCAN4readER13can_Message_t
 455              	.LVL31:
  38:Src/interface_can.cpp ****                     case PROTOCOL_SIMPLE:
 456              		.loc 1 38 17 is_stmt 1 view .LVU103
  38:Src/interface_can.cpp ****                     case PROTOCOL_SIMPLE:
 457              		.loc 1 38 33 is_stmt 0 view .LVU104
 458 0040 E368     		ldr	r3, [r4, #12]
  38:Src/interface_can.cpp ****                     case PROTOCOL_SIMPLE:
 459              		.loc 1 38 17 view .LVU105
 460 0042 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 461 0044 012B     		cmp	r3, #1
 462 0046 F2D1     		bne	.L27
  41:Src/interface_can.cpp ****                         CANEncos::handle_can_message(rxmsg);
ARM GAS  /tmp/ccaQP5rI.s 			page 13


 463              		.loc 1 41 21 is_stmt 1 view .LVU106
  42:Src/interface_can.cpp ****                         break;
 464              		.loc 1 42 25 view .LVU107
  42:Src/interface_can.cpp ****                         break;
 465              		.loc 1 42 53 is_stmt 0 view .LVU108
 466 0048 2846     		mov	r0, r5
 467 004a FFF7FEFF 		bl	_ZN8CANEncos18handle_can_messageER13can_Message_t
 468              	.LVL32:
  43:Src/interface_can.cpp ****                 }
 469              		.loc 1 43 25 is_stmt 1 view .LVU109
 470 004e EEE7     		b	.L27
 471              	.LVL33:
 472              	.L25:
  43:Src/interface_can.cpp ****                 }
 473              		.loc 1 43 25 is_stmt 0 view .LVU110
 474              	.LBE13:
  53:Src/interface_can.cpp ****                 // Reset FDCAN on timeout by stopping and restarting
 475              		.loc 1 53 13 is_stmt 1 view .LVU111
 476 0050 0128     		cmp	r0, #1
 477 0052 DFD1     		bne	.L24
  55:Src/interface_can.cpp ****                 
 478              		.loc 1 55 17 view .LVU112
  55:Src/interface_can.cpp ****                 
 479              		.loc 1 55 31 is_stmt 0 view .LVU113
 480 0054 2069     		ldr	r0, [r4, #16]
 481              	.LVL34:
  55:Src/interface_can.cpp ****                 
 482              		.loc 1 55 31 view .LVU114
 483 0056 FFF7FEFF 		bl	HAL_FDCAN_Stop
 484              	.LVL35:
  58:Src/interface_can.cpp ****                 
 485              		.loc 1 58 17 is_stmt 1 view .LVU115
 486 005a 2369     		ldr	r3, [r4, #16]
 487 005c 1A68     		ldr	r2, [r3]
 488 005e 136C     		ldr	r3, [r2, #64]
 489 0060 23F4FF43 		bic	r3, r3, #32640
 490 0064 23F07F03 		bic	r3, r3, #127
 491 0068 1364     		str	r3, [r2, #64]
  61:Src/interface_can.cpp ****                 if (status == HAL_OK) {
 492              		.loc 1 61 17 view .LVU116
  61:Src/interface_can.cpp ****                 if (status == HAL_OK) {
 493              		.loc 1 61 41 is_stmt 0 view .LVU117
 494 006a 2069     		ldr	r0, [r4, #16]
 495 006c FFF7FEFF 		bl	HAL_FDCAN_Start
 496              	.LVL36:
  62:Src/interface_can.cpp ****                     status = HAL_FDCAN_ActivateNotification(handle_,
 497              		.loc 1 62 17 is_stmt 1 view .LVU118
 498 0070 0028     		cmp	r0, #0
 499 0072 CFD1     		bne	.L24
  63:Src/interface_can.cpp ****                         FDCAN_IT_RX_FIFO0_NEW_MESSAGE,
 500              		.loc 1 63 21 view .LVU119
  63:Src/interface_can.cpp ****                         FDCAN_IT_RX_FIFO0_NEW_MESSAGE,
 501              		.loc 1 63 60 is_stmt 0 view .LVU120
 502 0074 0122     		movs	r2, #1
 503 0076 1146     		mov	r1, r2
 504 0078 2069     		ldr	r0, [r4, #16]
 505              	.LVL37:
ARM GAS  /tmp/ccaQP5rI.s 			page 14


  63:Src/interface_can.cpp ****                         FDCAN_IT_RX_FIFO0_NEW_MESSAGE,
 506              		.loc 1 63 60 view .LVU121
 507 007a FFF7FEFF 		bl	HAL_FDCAN_ActivateNotification
 508              	.LVL38:
  63:Src/interface_can.cpp ****                         FDCAN_IT_RX_FIFO0_NEW_MESSAGE,
 509              		.loc 1 63 60 view .LVU122
 510 007e C9E7     		b	.L24
 511              	.L33:
 512              		.align	2
 513              	.L32:
 514 0080 00000000 		.word	.LANCHOR0
 515 0084 00000000 		.word	sem_can
 516              	.LBE14:
 517              	.LBE15:
 518              		.cfi_endproc
 519              	.LFE5732:
 521              		.section	.text._ZL25can_server_thread_wrapperPv,"ax",%progbits
 522              		.align	1
 523              		.syntax unified
 524              		.thumb
 525              		.thumb_func
 526              		.fpu fpv4-sp-d16
 528              	_ZL25can_server_thread_wrapperPv:
 529              	.LVL39:
 530              	.LFB5736:
  74:Src/interface_can.cpp ****     reinterpret_cast<ODriveCAN *>(ctx)->can_server_thread();
 531              		.loc 1 74 50 is_stmt 1 view -0
 532              		.cfi_startproc
 533              		@ Volatile: function does not return.
 534              		@ args = 0, pretend = 0, frame = 0
 535              		@ frame_needed = 0, uses_anonymous_args = 0
  74:Src/interface_can.cpp ****     reinterpret_cast<ODriveCAN *>(ctx)->can_server_thread();
 536              		.loc 1 74 50 is_stmt 0 view .LVU124
 537 0000 08B5     		push	{r3, lr}
 538              	.LCFI13:
 539              		.cfi_def_cfa_offset 8
 540              		.cfi_offset 3, -8
 541              		.cfi_offset 14, -4
  75:Src/interface_can.cpp ****     reinterpret_cast<ODriveCAN *>(ctx)->thread_id_valid_ = false;
 542              		.loc 1 75 5 is_stmt 1 view .LVU125
  75:Src/interface_can.cpp ****     reinterpret_cast<ODriveCAN *>(ctx)->thread_id_valid_ = false;
 543              		.loc 1 75 58 is_stmt 0 view .LVU126
 544 0002 FFF7FEFF 		bl	_ZN9ODriveCAN17can_server_threadEv
 545              	.LVL40:
  75:Src/interface_can.cpp ****     reinterpret_cast<ODriveCAN *>(ctx)->thread_id_valid_ = false;
 546              		.loc 1 75 58 view .LVU127
 547              		.cfi_endproc
 548              	.LFE5736:
 550              		.section	.text._ZN9ODriveCAN10reinit_canEv,"ax",%progbits
 551              		.align	1
 552              		.global	_ZN9ODriveCAN10reinit_canEv
 553              		.syntax unified
 554              		.thumb
 555              		.thumb_func
 556              		.fpu fpv4-sp-d16
 558              	_ZN9ODriveCAN10reinit_canEv:
 559              	.LVL41:
ARM GAS  /tmp/ccaQP5rI.s 			page 15


 560              	.LFB5742:
 187:Src/interface_can.cpp **** 
 188:Src/interface_can.cpp **** // Set one of only a few common baud rates.  CAN doesn't do arbitrary baud rates well due to the ti
 189:Src/interface_can.cpp **** // 21 TQ allows for easy sampling at exactly 80% (recommended by Vector Informatik GmbH for high re
 190:Src/interface_can.cpp **** // Conveniently, the CAN peripheral's 42MHz clock lets us easily create 21TQs for all common baud r
 191:Src/interface_can.cpp **** void ODriveCAN::set_baud_rate(uint32_t baudRate) {
 192:Src/interface_can.cpp ****     switch (baudRate) {
 193:Src/interface_can.cpp ****         case CAN_BAUD_125K:
 194:Src/interface_can.cpp ****             handle_->Init.NominalPrescaler = 16;    // 21 TQ's
 195:Src/interface_can.cpp ****             handle_->Init.NominalTimeSeg1 = 13;     // 80% sample point
 196:Src/interface_can.cpp ****             handle_->Init.NominalTimeSeg2 = 2;
 197:Src/interface_can.cpp ****             handle_->Init.NominalSyncJumpWidth = 1;
 198:Src/interface_can.cpp ****             config_.baud_rate = baudRate;
 199:Src/interface_can.cpp ****             reinit_can();
 200:Src/interface_can.cpp ****             break;
 201:Src/interface_can.cpp **** 
 202:Src/interface_can.cpp ****         case CAN_BAUD_250K:
 203:Src/interface_can.cpp ****             handle_->Init.NominalPrescaler = 8;     // 21 TQ's
 204:Src/interface_can.cpp ****             handle_->Init.NominalTimeSeg1 = 13;     // 80% sample point
 205:Src/interface_can.cpp ****             handle_->Init.NominalTimeSeg2 = 2;
 206:Src/interface_can.cpp ****             handle_->Init.NominalSyncJumpWidth = 1;
 207:Src/interface_can.cpp ****             config_.baud_rate = baudRate;
 208:Src/interface_can.cpp ****             reinit_can();
 209:Src/interface_can.cpp ****             break;
 210:Src/interface_can.cpp **** 
 211:Src/interface_can.cpp ****         case CAN_BAUD_500K:
 212:Src/interface_can.cpp ****             handle_->Init.NominalPrescaler = 4;     // 21 TQ's
 213:Src/interface_can.cpp ****             handle_->Init.NominalTimeSeg1 = 13;     // 80% sample point
 214:Src/interface_can.cpp ****             handle_->Init.NominalTimeSeg2 = 2;
 215:Src/interface_can.cpp ****             handle_->Init.NominalSyncJumpWidth = 1;
 216:Src/interface_can.cpp ****             config_.baud_rate = baudRate;
 217:Src/interface_can.cpp ****             reinit_can();
 218:Src/interface_can.cpp ****             break;
 219:Src/interface_can.cpp **** 
 220:Src/interface_can.cpp ****         case CAN_BAUD_1000K:
 221:Src/interface_can.cpp ****             handle_->Init.NominalPrescaler = 2;     // 21 TQ's
 222:Src/interface_can.cpp ****             handle_->Init.NominalTimeSeg1 = 13;     // 80% sample point
 223:Src/interface_can.cpp ****             handle_->Init.NominalTimeSeg2 = 2;
 224:Src/interface_can.cpp ****             handle_->Init.NominalSyncJumpWidth = 1;
 225:Src/interface_can.cpp ****             config_.baud_rate = baudRate;
 226:Src/interface_can.cpp ****             reinit_can();
 227:Src/interface_can.cpp ****             break;
 228:Src/interface_can.cpp **** 
 229:Src/interface_can.cpp ****         default:
 230:Src/interface_can.cpp ****             // baudRate is invalid, so don't accept it.
 231:Src/interface_can.cpp ****             break;
 232:Src/interface_can.cpp ****     }
 233:Src/interface_can.cpp **** }
 234:Src/interface_can.cpp **** void ODriveCAN::reinit_can() {
 561              		.loc 1 234 30 is_stmt 1 view -0
 562              		.cfi_startproc
 563              		@ args = 0, pretend = 0, frame = 0
 564              		@ frame_needed = 0, uses_anonymous_args = 0
 565              		.loc 1 234 30 is_stmt 0 view .LVU129
 566 0000 30B5     		push	{r4, r5, lr}
 567              	.LCFI14:
 568              		.cfi_def_cfa_offset 12
ARM GAS  /tmp/ccaQP5rI.s 			page 16


 569              		.cfi_offset 4, -12
 570              		.cfi_offset 5, -8
 571              		.cfi_offset 14, -4
 572 0002 83B0     		sub	sp, sp, #12
 573              	.LCFI15:
 574              		.cfi_def_cfa_offset 24
 575 0004 0446     		mov	r4, r0
 235:Src/interface_can.cpp ****     // Stop FDCAN peripheral
 236:Src/interface_can.cpp ****     HAL_FDCAN_Stop(handle_);
 576              		.loc 1 236 5 is_stmt 1 view .LVU130
 577              		.loc 1 236 19 is_stmt 0 view .LVU131
 578 0006 0069     		ldr	r0, [r0, #16]
 579              	.LVL42:
 580              		.loc 1 236 19 view .LVU132
 581 0008 FFF7FEFF 		bl	HAL_FDCAN_Stop
 582              	.LVL43:
 237:Src/interface_can.cpp ****     
 238:Src/interface_can.cpp ****     // Configure FDCAN init structure
 239:Src/interface_can.cpp ****     handle_->Init.FrameFormat = FDCAN_FRAME_CLASSIC;
 583              		.loc 1 239 5 is_stmt 1 view .LVU133
 584 000c 2369     		ldr	r3, [r4, #16]
 585              		.loc 1 239 31 is_stmt 0 view .LVU134
 586 000e 0025     		movs	r5, #0
 587 0010 9D60     		str	r5, [r3, #8]
 240:Src/interface_can.cpp ****     handle_->Init.Mode = FDCAN_MODE_NORMAL;
 588              		.loc 1 240 5 is_stmt 1 view .LVU135
 589 0012 2369     		ldr	r3, [r4, #16]
 590              		.loc 1 240 24 is_stmt 0 view .LVU136
 591 0014 DD60     		str	r5, [r3, #12]
 241:Src/interface_can.cpp ****     handle_->Init.AutoRetransmission = ENABLE;
 592              		.loc 1 241 5 is_stmt 1 view .LVU137
 593 0016 2269     		ldr	r2, [r4, #16]
 594              		.loc 1 241 38 is_stmt 0 view .LVU138
 595 0018 0123     		movs	r3, #1
 596 001a 1374     		strb	r3, [r2, #16]
 242:Src/interface_can.cpp ****     handle_->Init.TransmitPause = DISABLE;
 597              		.loc 1 242 5 is_stmt 1 view .LVU139
 598 001c 2269     		ldr	r2, [r4, #16]
 599              		.loc 1 242 33 is_stmt 0 view .LVU140
 600 001e 5574     		strb	r5, [r2, #17]
 243:Src/interface_can.cpp ****     handle_->Init.ProtocolException = DISABLE;
 601              		.loc 1 243 5 is_stmt 1 view .LVU141
 602 0020 2269     		ldr	r2, [r4, #16]
 603              		.loc 1 243 37 is_stmt 0 view .LVU142
 604 0022 9574     		strb	r5, [r2, #18]
 244:Src/interface_can.cpp ****     
 245:Src/interface_can.cpp ****     // Set timing parameters for the selected baud rate
 246:Src/interface_can.cpp ****     handle_->Init.NominalPrescaler = handle_->Init.NominalPrescaler; // Use existing prescaler
 605              		.loc 1 246 5 is_stmt 1 view .LVU143
 606              		.loc 1 246 38 is_stmt 0 view .LVU144
 607 0024 2269     		ldr	r2, [r4, #16]
 247:Src/interface_can.cpp ****     handle_->Init.NominalSyncJumpWidth = 1;
 608              		.loc 1 247 5 is_stmt 1 view .LVU145
 609              		.loc 1 247 40 is_stmt 0 view .LVU146
 610 0026 9361     		str	r3, [r2, #24]
 248:Src/interface_can.cpp ****     handle_->Init.NominalTimeSeg1 = 13; // 80% sample point
 611              		.loc 1 248 5 is_stmt 1 view .LVU147
ARM GAS  /tmp/ccaQP5rI.s 			page 17


 612 0028 2369     		ldr	r3, [r4, #16]
 613              		.loc 1 248 35 is_stmt 0 view .LVU148
 614 002a 0D22     		movs	r2, #13
 615 002c DA61     		str	r2, [r3, #28]
 249:Src/interface_can.cpp ****     handle_->Init.NominalTimeSeg2 = 2;
 616              		.loc 1 249 5 is_stmt 1 view .LVU149
 617 002e 2369     		ldr	r3, [r4, #16]
 618              		.loc 1 249 35 is_stmt 0 view .LVU150
 619 0030 0222     		movs	r2, #2
 620 0032 1A62     		str	r2, [r3, #32]
 250:Src/interface_can.cpp ****     
 251:Src/interface_can.cpp ****     // Reinitialize FDCAN
 252:Src/interface_can.cpp ****     HAL_FDCAN_Init(handle_);
 621              		.loc 1 252 5 is_stmt 1 view .LVU151
 622              		.loc 1 252 19 is_stmt 0 view .LVU152
 623 0034 2069     		ldr	r0, [r4, #16]
 624 0036 FFF7FEFF 		bl	HAL_FDCAN_Init
 625              	.LVL44:
 253:Src/interface_can.cpp ****     
 254:Src/interface_can.cpp ****     // Configure global filter to accept all messages
 255:Src/interface_can.cpp ****     HAL_FDCAN_ConfigGlobalFilter(handle_,
 626              		.loc 1 255 5 is_stmt 1 view .LVU153
 627              		.loc 1 255 33 is_stmt 0 view .LVU154
 628 003a 0323     		movs	r3, #3
 629 003c 0093     		str	r3, [sp]
 630 003e 2B46     		mov	r3, r5
 631 0040 2A46     		mov	r2, r5
 632 0042 2946     		mov	r1, r5
 633 0044 2069     		ldr	r0, [r4, #16]
 634 0046 FFF7FEFF 		bl	HAL_FDCAN_ConfigGlobalFilter
 635              	.LVL45:
 256:Src/interface_can.cpp ****                                 FDCAN_ACCEPT_IN_RX_FIFO0,  // Non-matching frames
 257:Src/interface_can.cpp ****                                 FDCAN_ACCEPT_IN_RX_FIFO0,  // Non-matching frames
 258:Src/interface_can.cpp ****                                 FDCAN_FILTER_REMOTE,       // Remote frames
 259:Src/interface_can.cpp ****                                 FDCAN_FILTER_REJECT);      // Reject error frames
 260:Src/interface_can.cpp ****     
 261:Src/interface_can.cpp ****     // Start FDCAN peripheral
 262:Src/interface_can.cpp ****     HAL_StatusTypeDef status = HAL_FDCAN_Start(handle_);
 636              		.loc 1 262 5 is_stmt 1 view .LVU155
 637              		.loc 1 262 47 is_stmt 0 view .LVU156
 638 004a 2069     		ldr	r0, [r4, #16]
 639 004c FFF7FEFF 		bl	HAL_FDCAN_Start
 640              	.LVL46:
 263:Src/interface_can.cpp ****     
 264:Src/interface_can.cpp ****     if (status == HAL_OK) {
 641              		.loc 1 264 5 is_stmt 1 view .LVU157
 642 0050 08B1     		cbz	r0, .L39
 643              	.LVL47:
 644              	.L36:
 265:Src/interface_can.cpp ****         // Enable notifications for new messages
 266:Src/interface_can.cpp ****         // FDCAN requires interrupt line parameter (0 or 1)
 267:Src/interface_can.cpp ****         status = HAL_FDCAN_ActivateNotification(handle_, 
 268:Src/interface_can.cpp ****             FDCAN_IT_RX_FIFO0_NEW_MESSAGE | 
 269:Src/interface_can.cpp ****             FDCAN_IT_RX_FIFO0_FULL | 
 270:Src/interface_can.cpp ****             FDCAN_IT_ERROR_WARNING,
 271:Src/interface_can.cpp ****             FDCAN_INTERRUPT_LINE0);  // Use interrupt line 0
 272:Src/interface_can.cpp ****     }
ARM GAS  /tmp/ccaQP5rI.s 			page 18


 273:Src/interface_can.cpp **** }
 645              		.loc 1 273 1 is_stmt 0 view .LVU158
 646 0052 03B0     		add	sp, sp, #12
 647              	.LCFI16:
 648              		.cfi_remember_state
 649              		.cfi_def_cfa_offset 12
 650              		@ sp needed
 651 0054 30BD     		pop	{r4, r5, pc}
 652              	.LVL48:
 653              	.L39:
 654              	.LCFI17:
 655              		.cfi_restore_state
 267:Src/interface_can.cpp ****             FDCAN_IT_RX_FIFO0_NEW_MESSAGE | 
 656              		.loc 1 267 9 is_stmt 1 view .LVU159
 267:Src/interface_can.cpp ****             FDCAN_IT_RX_FIFO0_NEW_MESSAGE | 
 657              		.loc 1 267 48 is_stmt 0 view .LVU160
 658 0056 0122     		movs	r2, #1
 659 0058 0249     		ldr	r1, .L40
 660 005a 2069     		ldr	r0, [r4, #16]
 661              	.LVL49:
 267:Src/interface_can.cpp ****             FDCAN_IT_RX_FIFO0_NEW_MESSAGE | 
 662              		.loc 1 267 48 view .LVU161
 663 005c FFF7FEFF 		bl	HAL_FDCAN_ActivateNotification
 664              	.LVL50:
 665              		.loc 1 273 1 view .LVU162
 666 0060 F7E7     		b	.L36
 667              	.L41:
 668 0062 00BF     		.align	2
 669              	.L40:
 670 0064 03000400 		.word	262147
 671              		.cfi_endproc
 672              	.LFE5742:
 674              		.section	.text._ZN9ODriveCAN13set_baud_rateEm,"ax",%progbits
 675              		.align	1
 676              		.global	_ZN9ODriveCAN13set_baud_rateEm
 677              		.syntax unified
 678              		.thumb
 679              		.thumb_func
 680              		.fpu fpv4-sp-d16
 682              	_ZN9ODriveCAN13set_baud_rateEm:
 683              	.LVL51:
 684              	.LFB5741:
 191:Src/interface_can.cpp ****     switch (baudRate) {
 685              		.loc 1 191 50 is_stmt 1 view -0
 686              		.cfi_startproc
 687              		@ args = 0, pretend = 0, frame = 0
 688              		@ frame_needed = 0, uses_anonymous_args = 0
 191:Src/interface_can.cpp ****     switch (baudRate) {
 689              		.loc 1 191 50 is_stmt 0 view .LVU164
 690 0000 08B5     		push	{r3, lr}
 691              	.LCFI18:
 692              		.cfi_def_cfa_offset 8
 693              		.cfi_offset 3, -8
 694              		.cfi_offset 14, -4
 192:Src/interface_can.cpp ****         case CAN_BAUD_125K:
 695              		.loc 1 192 5 is_stmt 1 view .LVU165
 696 0002 2A4B     		ldr	r3, .L50
ARM GAS  /tmp/ccaQP5rI.s 			page 19


 697 0004 9942     		cmp	r1, r3
 698 0006 3ED0     		beq	.L43
 699 0008 17D8     		bhi	.L44
 700 000a 294B     		ldr	r3, .L50+4
 701 000c 9942     		cmp	r1, r3
 702 000e 28D0     		beq	.L45
 703 0010 284B     		ldr	r3, .L50+8
 704 0012 9942     		cmp	r1, r3
 705 0014 36D1     		bne	.L42
 202:Src/interface_can.cpp ****             handle_->Init.NominalPrescaler = 8;     // 21 TQ's
 706              		.loc 1 202 9 view .LVU166
 203:Src/interface_can.cpp ****             handle_->Init.NominalTimeSeg1 = 13;     // 80% sample point
 707              		.loc 1 203 13 view .LVU167
 708 0016 0369     		ldr	r3, [r0, #16]
 203:Src/interface_can.cpp ****             handle_->Init.NominalTimeSeg1 = 13;     // 80% sample point
 709              		.loc 1 203 44 is_stmt 0 view .LVU168
 710 0018 0822     		movs	r2, #8
 711 001a 5A61     		str	r2, [r3, #20]
 204:Src/interface_can.cpp ****             handle_->Init.NominalTimeSeg2 = 2;
 712              		.loc 1 204 13 is_stmt 1 view .LVU169
 713 001c 0369     		ldr	r3, [r0, #16]
 204:Src/interface_can.cpp ****             handle_->Init.NominalTimeSeg2 = 2;
 714              		.loc 1 204 43 is_stmt 0 view .LVU170
 715 001e 0D22     		movs	r2, #13
 716 0020 DA61     		str	r2, [r3, #28]
 205:Src/interface_can.cpp ****             handle_->Init.NominalSyncJumpWidth = 1;
 717              		.loc 1 205 13 is_stmt 1 view .LVU171
 718 0022 0369     		ldr	r3, [r0, #16]
 205:Src/interface_can.cpp ****             handle_->Init.NominalSyncJumpWidth = 1;
 719              		.loc 1 205 43 is_stmt 0 view .LVU172
 720 0024 0222     		movs	r2, #2
 721 0026 1A62     		str	r2, [r3, #32]
 206:Src/interface_can.cpp ****             config_.baud_rate = baudRate;
 722              		.loc 1 206 13 is_stmt 1 view .LVU173
 723 0028 0369     		ldr	r3, [r0, #16]
 206:Src/interface_can.cpp ****             config_.baud_rate = baudRate;
 724              		.loc 1 206 48 is_stmt 0 view .LVU174
 725 002a 0122     		movs	r2, #1
 726 002c 9A61     		str	r2, [r3, #24]
 207:Src/interface_can.cpp ****             reinit_can();
 727              		.loc 1 207 13 is_stmt 1 view .LVU175
 728 002e C368     		ldr	r3, [r0, #12]
 207:Src/interface_can.cpp ****             reinit_can();
 729              		.loc 1 207 31 is_stmt 0 view .LVU176
 730 0030 204A     		ldr	r2, .L50+8
 731 0032 1A60     		str	r2, [r3]
 208:Src/interface_can.cpp ****             break;
 732              		.loc 1 208 13 is_stmt 1 view .LVU177
 208:Src/interface_can.cpp ****             break;
 733              		.loc 1 208 23 is_stmt 0 view .LVU178
 734 0034 FFF7FEFF 		bl	_ZN9ODriveCAN10reinit_canEv
 735              	.LVL52:
 209:Src/interface_can.cpp **** 
 736              		.loc 1 209 13 is_stmt 1 view .LVU179
 737 0038 24E0     		b	.L42
 738              	.LVL53:
 739              	.L44:
ARM GAS  /tmp/ccaQP5rI.s 			page 20


 192:Src/interface_can.cpp ****         case CAN_BAUD_125K:
 740              		.loc 1 192 5 is_stmt 0 view .LVU180
 741 003a 1F4B     		ldr	r3, .L50+12
 742 003c 9942     		cmp	r1, r3
 743 003e 21D1     		bne	.L42
 220:Src/interface_can.cpp ****             handle_->Init.NominalPrescaler = 2;     // 21 TQ's
 744              		.loc 1 220 9 is_stmt 1 view .LVU181
 221:Src/interface_can.cpp ****             handle_->Init.NominalTimeSeg1 = 13;     // 80% sample point
 745              		.loc 1 221 13 view .LVU182
 746 0040 0269     		ldr	r2, [r0, #16]
 221:Src/interface_can.cpp ****             handle_->Init.NominalTimeSeg1 = 13;     // 80% sample point
 747              		.loc 1 221 44 is_stmt 0 view .LVU183
 748 0042 0223     		movs	r3, #2
 749 0044 5361     		str	r3, [r2, #20]
 222:Src/interface_can.cpp ****             handle_->Init.NominalTimeSeg2 = 2;
 750              		.loc 1 222 13 is_stmt 1 view .LVU184
 751 0046 0269     		ldr	r2, [r0, #16]
 222:Src/interface_can.cpp ****             handle_->Init.NominalTimeSeg2 = 2;
 752              		.loc 1 222 43 is_stmt 0 view .LVU185
 753 0048 0D21     		movs	r1, #13
 754              	.LVL54:
 222:Src/interface_can.cpp ****             handle_->Init.NominalTimeSeg2 = 2;
 755              		.loc 1 222 43 view .LVU186
 756 004a D161     		str	r1, [r2, #28]
 223:Src/interface_can.cpp ****             handle_->Init.NominalSyncJumpWidth = 1;
 757              		.loc 1 223 13 is_stmt 1 view .LVU187
 758 004c 0269     		ldr	r2, [r0, #16]
 223:Src/interface_can.cpp ****             handle_->Init.NominalSyncJumpWidth = 1;
 759              		.loc 1 223 43 is_stmt 0 view .LVU188
 760 004e 1362     		str	r3, [r2, #32]
 224:Src/interface_can.cpp ****             config_.baud_rate = baudRate;
 761              		.loc 1 224 13 is_stmt 1 view .LVU189
 762 0050 0369     		ldr	r3, [r0, #16]
 224:Src/interface_can.cpp ****             config_.baud_rate = baudRate;
 763              		.loc 1 224 48 is_stmt 0 view .LVU190
 764 0052 0122     		movs	r2, #1
 765 0054 9A61     		str	r2, [r3, #24]
 225:Src/interface_can.cpp ****             reinit_can();
 766              		.loc 1 225 13 is_stmt 1 view .LVU191
 767 0056 C368     		ldr	r3, [r0, #12]
 225:Src/interface_can.cpp ****             reinit_can();
 768              		.loc 1 225 31 is_stmt 0 view .LVU192
 769 0058 174A     		ldr	r2, .L50+12
 770 005a 1A60     		str	r2, [r3]
 226:Src/interface_can.cpp ****             break;
 771              		.loc 1 226 13 is_stmt 1 view .LVU193
 226:Src/interface_can.cpp ****             break;
 772              		.loc 1 226 23 is_stmt 0 view .LVU194
 773 005c FFF7FEFF 		bl	_ZN9ODriveCAN10reinit_canEv
 774              	.LVL55:
 227:Src/interface_can.cpp **** 
 775              		.loc 1 227 13 is_stmt 1 view .LVU195
 233:Src/interface_can.cpp **** void ODriveCAN::reinit_can() {
 776              		.loc 1 233 1 is_stmt 0 view .LVU196
 777 0060 10E0     		b	.L42
 778              	.LVL56:
 779              	.L45:
ARM GAS  /tmp/ccaQP5rI.s 			page 21


 193:Src/interface_can.cpp ****             handle_->Init.NominalPrescaler = 16;    // 21 TQ's
 780              		.loc 1 193 9 is_stmt 1 view .LVU197
 194:Src/interface_can.cpp ****             handle_->Init.NominalTimeSeg1 = 13;     // 80% sample point
 781              		.loc 1 194 13 view .LVU198
 782 0062 0369     		ldr	r3, [r0, #16]
 194:Src/interface_can.cpp ****             handle_->Init.NominalTimeSeg1 = 13;     // 80% sample point
 783              		.loc 1 194 44 is_stmt 0 view .LVU199
 784 0064 1022     		movs	r2, #16
 785 0066 5A61     		str	r2, [r3, #20]
 195:Src/interface_can.cpp ****             handle_->Init.NominalTimeSeg2 = 2;
 786              		.loc 1 195 13 is_stmt 1 view .LVU200
 787 0068 0369     		ldr	r3, [r0, #16]
 195:Src/interface_can.cpp ****             handle_->Init.NominalTimeSeg2 = 2;
 788              		.loc 1 195 43 is_stmt 0 view .LVU201
 789 006a 0D22     		movs	r2, #13
 790 006c DA61     		str	r2, [r3, #28]
 196:Src/interface_can.cpp ****             handle_->Init.NominalSyncJumpWidth = 1;
 791              		.loc 1 196 13 is_stmt 1 view .LVU202
 792 006e 0369     		ldr	r3, [r0, #16]
 196:Src/interface_can.cpp ****             handle_->Init.NominalSyncJumpWidth = 1;
 793              		.loc 1 196 43 is_stmt 0 view .LVU203
 794 0070 0222     		movs	r2, #2
 795 0072 1A62     		str	r2, [r3, #32]
 197:Src/interface_can.cpp ****             config_.baud_rate = baudRate;
 796              		.loc 1 197 13 is_stmt 1 view .LVU204
 797 0074 0369     		ldr	r3, [r0, #16]
 197:Src/interface_can.cpp ****             config_.baud_rate = baudRate;
 798              		.loc 1 197 48 is_stmt 0 view .LVU205
 799 0076 0122     		movs	r2, #1
 800 0078 9A61     		str	r2, [r3, #24]
 198:Src/interface_can.cpp ****             reinit_can();
 801              		.loc 1 198 13 is_stmt 1 view .LVU206
 802 007a C368     		ldr	r3, [r0, #12]
 198:Src/interface_can.cpp ****             reinit_can();
 803              		.loc 1 198 31 is_stmt 0 view .LVU207
 804 007c 0C4A     		ldr	r2, .L50+4
 805 007e 1A60     		str	r2, [r3]
 199:Src/interface_can.cpp ****             break;
 806              		.loc 1 199 13 is_stmt 1 view .LVU208
 199:Src/interface_can.cpp ****             break;
 807              		.loc 1 199 23 is_stmt 0 view .LVU209
 808 0080 FFF7FEFF 		bl	_ZN9ODriveCAN10reinit_canEv
 809              	.LVL57:
 200:Src/interface_can.cpp **** 
 810              		.loc 1 200 13 is_stmt 1 view .LVU210
 811              	.L42:
 233:Src/interface_can.cpp **** void ODriveCAN::reinit_can() {
 812              		.loc 1 233 1 is_stmt 0 view .LVU211
 813 0084 08BD     		pop	{r3, pc}
 814              	.LVL58:
 815              	.L43:
 211:Src/interface_can.cpp ****             handle_->Init.NominalPrescaler = 4;     // 21 TQ's
 816              		.loc 1 211 9 is_stmt 1 view .LVU212
 212:Src/interface_can.cpp ****             handle_->Init.NominalTimeSeg1 = 13;     // 80% sample point
 817              		.loc 1 212 13 view .LVU213
 818 0086 0369     		ldr	r3, [r0, #16]
 212:Src/interface_can.cpp ****             handle_->Init.NominalTimeSeg1 = 13;     // 80% sample point
ARM GAS  /tmp/ccaQP5rI.s 			page 22


 819              		.loc 1 212 44 is_stmt 0 view .LVU214
 820 0088 0422     		movs	r2, #4
 821 008a 5A61     		str	r2, [r3, #20]
 213:Src/interface_can.cpp ****             handle_->Init.NominalTimeSeg2 = 2;
 822              		.loc 1 213 13 is_stmt 1 view .LVU215
 823 008c 0369     		ldr	r3, [r0, #16]
 213:Src/interface_can.cpp ****             handle_->Init.NominalTimeSeg2 = 2;
 824              		.loc 1 213 43 is_stmt 0 view .LVU216
 825 008e 0D22     		movs	r2, #13
 826 0090 DA61     		str	r2, [r3, #28]
 214:Src/interface_can.cpp ****             handle_->Init.NominalSyncJumpWidth = 1;
 827              		.loc 1 214 13 is_stmt 1 view .LVU217
 828 0092 0369     		ldr	r3, [r0, #16]
 214:Src/interface_can.cpp ****             handle_->Init.NominalSyncJumpWidth = 1;
 829              		.loc 1 214 43 is_stmt 0 view .LVU218
 830 0094 0222     		movs	r2, #2
 831 0096 1A62     		str	r2, [r3, #32]
 215:Src/interface_can.cpp ****             config_.baud_rate = baudRate;
 832              		.loc 1 215 13 is_stmt 1 view .LVU219
 833 0098 0369     		ldr	r3, [r0, #16]
 215:Src/interface_can.cpp ****             config_.baud_rate = baudRate;
 834              		.loc 1 215 48 is_stmt 0 view .LVU220
 835 009a 0122     		movs	r2, #1
 836 009c 9A61     		str	r2, [r3, #24]
 216:Src/interface_can.cpp ****             reinit_can();
 837              		.loc 1 216 13 is_stmt 1 view .LVU221
 838 009e C368     		ldr	r3, [r0, #12]
 216:Src/interface_can.cpp ****             reinit_can();
 839              		.loc 1 216 31 is_stmt 0 view .LVU222
 840 00a0 024A     		ldr	r2, .L50
 841 00a2 1A60     		str	r2, [r3]
 217:Src/interface_can.cpp ****             break;
 842              		.loc 1 217 13 is_stmt 1 view .LVU223
 217:Src/interface_can.cpp ****             break;
 843              		.loc 1 217 23 is_stmt 0 view .LVU224
 844 00a4 FFF7FEFF 		bl	_ZN9ODriveCAN10reinit_canEv
 845              	.LVL59:
 218:Src/interface_can.cpp **** 
 846              		.loc 1 218 13 is_stmt 1 view .LVU225
 847 00a8 ECE7     		b	.L42
 848              	.L51:
 849 00aa 00BF     		.align	2
 850              	.L50:
 851 00ac 20A10700 		.word	500000
 852 00b0 48E80100 		.word	125000
 853 00b4 90D00300 		.word	250000
 854 00b8 40420F00 		.word	1000000
 855              		.cfi_endproc
 856              	.LFE5741:
 858              		.section	.rodata._ZN9ODriveCAN16start_can_serverEv.str1.4,"aMS",%progbits,1
 859              		.align	2
 860              	.LC1:
 861 0000 63616E5F 		.ascii	"can_server\000"
 861      73657276 
 861      657200
 862              		.section	.text._ZN9ODriveCAN16start_can_serverEv,"ax",%progbits
 863              		.align	1
ARM GAS  /tmp/ccaQP5rI.s 			page 23


 864              		.global	_ZN9ODriveCAN16start_can_serverEv
 865              		.syntax unified
 866              		.thumb
 867              		.thumb_func
 868              		.fpu fpv4-sp-d16
 870              	_ZN9ODriveCAN16start_can_serverEv:
 871              	.LVL60:
 872              	.LFB5737:
  79:Src/interface_can.cpp ****     HAL_StatusTypeDef status;
 873              		.loc 1 79 36 view -0
 874              		.cfi_startproc
 875              		@ args = 0, pretend = 0, frame = 24
 876              		@ frame_needed = 0, uses_anonymous_args = 0
  79:Src/interface_can.cpp ****     HAL_StatusTypeDef status;
 877              		.loc 1 79 36 is_stmt 0 view .LVU227
 878 0000 10B5     		push	{r4, lr}
 879              	.LCFI19:
 880              		.cfi_def_cfa_offset 8
 881              		.cfi_offset 4, -8
 882              		.cfi_offset 14, -4
 883 0002 88B0     		sub	sp, sp, #32
 884              	.LCFI20:
 885              		.cfi_def_cfa_offset 40
 886 0004 0446     		mov	r4, r0
  80:Src/interface_can.cpp **** 
 887              		.loc 1 80 5 is_stmt 1 view .LVU228
  83:Src/interface_can.cpp **** 
 888              		.loc 1 83 5 view .LVU229
  83:Src/interface_can.cpp **** 
 889              		.loc 1 83 18 is_stmt 0 view .LVU230
 890 0006 C368     		ldr	r3, [r0, #12]
 891 0008 1968     		ldr	r1, [r3]
 892 000a FFF7FEFF 		bl	_ZN9ODriveCAN13set_baud_rateEm
 893              	.LVL61:
  86:Src/interface_can.cpp ****     if (status != HAL_OK) {
 894              		.loc 1 86 5 is_stmt 1 view .LVU231
  86:Src/interface_can.cpp ****     if (status != HAL_OK) {
 895              		.loc 1 86 28 is_stmt 0 view .LVU232
 896 000e 2069     		ldr	r0, [r4, #16]
 897 0010 FFF7FEFF 		bl	HAL_FDCAN_Init
 898              	.LVL62:
  87:Src/interface_can.cpp ****         return false;
 899              		.loc 1 87 5 is_stmt 1 view .LVU233
 900 0014 10B1     		cbz	r0, .L58
  88:Src/interface_can.cpp ****     }
 901              		.loc 1 88 16 is_stmt 0 view .LVU234
 902 0016 0020     		movs	r0, #0
 903              	.LVL63:
 904              	.L53:
 127:Src/interface_can.cpp **** 
 905              		.loc 1 127 1 view .LVU235
 906 0018 08B0     		add	sp, sp, #32
 907              	.LCFI21:
 908              		.cfi_remember_state
 909              		.cfi_def_cfa_offset 8
 910              		@ sp needed
 911 001a 10BD     		pop	{r4, pc}
ARM GAS  /tmp/ccaQP5rI.s 			page 24


 912              	.LVL64:
 913              	.L58:
 914              	.LCFI22:
 915              		.cfi_restore_state
  92:Src/interface_can.cpp ****                                 FDCAN_ACCEPT_IN_RX_FIFO0,
 916              		.loc 1 92 5 is_stmt 1 view .LVU236
  92:Src/interface_can.cpp ****                                 FDCAN_ACCEPT_IN_RX_FIFO0,
 917              		.loc 1 92 33 is_stmt 0 view .LVU237
 918 001c 0323     		movs	r3, #3
 919 001e 0093     		str	r3, [sp]
 920 0020 0023     		movs	r3, #0
 921 0022 1A46     		mov	r2, r3
 922 0024 1946     		mov	r1, r3
 923 0026 2069     		ldr	r0, [r4, #16]
 924              	.LVL65:
  92:Src/interface_can.cpp ****                                 FDCAN_ACCEPT_IN_RX_FIFO0,
 925              		.loc 1 92 33 view .LVU238
 926 0028 FFF7FEFF 		bl	HAL_FDCAN_ConfigGlobalFilter
 927              	.LVL66:
  99:Src/interface_can.cpp ****     if (status != HAL_OK) {
 928              		.loc 1 99 5 is_stmt 1 view .LVU239
  99:Src/interface_can.cpp ****     if (status != HAL_OK) {
 929              		.loc 1 99 29 is_stmt 0 view .LVU240
 930 002c 2069     		ldr	r0, [r4, #16]
 931 002e FFF7FEFF 		bl	HAL_FDCAN_Start
 932              	.LVL67:
 100:Src/interface_can.cpp ****         return false;
 933              		.loc 1 100 5 is_stmt 1 view .LVU241
 934 0032 08B1     		cbz	r0, .L59
 101:Src/interface_can.cpp ****     }
 935              		.loc 1 101 16 is_stmt 0 view .LVU242
 936 0034 0020     		movs	r0, #0
 937              	.LVL68:
 101:Src/interface_can.cpp ****     }
 938              		.loc 1 101 16 view .LVU243
 939 0036 EFE7     		b	.L53
 940              	.LVL69:
 941              	.L59:
 105:Src/interface_can.cpp ****         FDCAN_IT_RX_FIFO0_NEW_MESSAGE | 
 942              		.loc 1 105 5 is_stmt 1 view .LVU244
 105:Src/interface_can.cpp ****         FDCAN_IT_RX_FIFO0_NEW_MESSAGE | 
 943              		.loc 1 105 44 is_stmt 0 view .LVU245
 944 0038 0122     		movs	r2, #1
 945 003a 0F49     		ldr	r1, .L61
 946 003c 2069     		ldr	r0, [r4, #16]
 947              	.LVL70:
 105:Src/interface_can.cpp ****         FDCAN_IT_RX_FIFO0_NEW_MESSAGE | 
 948              		.loc 1 105 44 view .LVU246
 949 003e FFF7FEFF 		bl	HAL_FDCAN_ActivateNotification
 950              	.LVL71:
 111:Src/interface_can.cpp ****         return false;
 951              		.loc 1 111 5 is_stmt 1 view .LVU247
 952 0042 08B1     		cbz	r0, .L60
 112:Src/interface_can.cpp ****     }
 953              		.loc 1 112 16 is_stmt 0 view .LVU248
 954 0044 0020     		movs	r0, #0
 955              	.LVL72:
ARM GAS  /tmp/ccaQP5rI.s 			page 25


 112:Src/interface_can.cpp ****     }
 956              		.loc 1 112 16 view .LVU249
 957 0046 E7E7     		b	.L53
 958              	.LVL73:
 959              	.L60:
 116:Src/interface_can.cpp ****     thread_def.name = "can_server";
 960              		.loc 1 116 5 is_stmt 1 view .LVU250
 117:Src/interface_can.cpp ****     thread_def.pthread = (os_pthread)can_server_thread_wrapper;
 961              		.loc 1 117 5 view .LVU251
 117:Src/interface_can.cpp ****     thread_def.pthread = (os_pthread)can_server_thread_wrapper;
 962              		.loc 1 117 21 is_stmt 0 view .LVU252
 963 0048 0C4B     		ldr	r3, .L61+4
 964 004a 0393     		str	r3, [sp, #12]
 118:Src/interface_can.cpp ****     thread_def.tpriority = osPriorityRealtime;
 965              		.loc 1 118 5 is_stmt 1 view .LVU253
 118:Src/interface_can.cpp ****     thread_def.tpriority = osPriorityRealtime;
 966              		.loc 1 118 24 is_stmt 0 view .LVU254
 967 004c 0C4B     		ldr	r3, .L61+8
 968 004e 0493     		str	r3, [sp, #16]
 119:Src/interface_can.cpp ****     thread_def.instances = 0;
 969              		.loc 1 119 5 is_stmt 1 view .LVU255
 119:Src/interface_can.cpp ****     thread_def.instances = 0;
 970              		.loc 1 119 26 is_stmt 0 view .LVU256
 971 0050 0323     		movs	r3, #3
 972 0052 ADF81430 		strh	r3, [sp, #20]	@ movhi
 120:Src/interface_can.cpp ****     thread_def.stacksize = stack_size_ / sizeof(StackType_t);
 973              		.loc 1 120 5 is_stmt 1 view .LVU257
 120:Src/interface_can.cpp ****     thread_def.stacksize = stack_size_ / sizeof(StackType_t);
 974              		.loc 1 120 26 is_stmt 0 view .LVU258
 975 0056 0023     		movs	r3, #0
 976 0058 0693     		str	r3, [sp, #24]
 121:Src/interface_can.cpp **** 
 977              		.loc 1 121 5 is_stmt 1 view .LVU259
 121:Src/interface_can.cpp **** 
 978              		.loc 1 121 40 is_stmt 0 view .LVU260
 979 005a 6368     		ldr	r3, [r4, #4]
 980 005c 9B08     		lsrs	r3, r3, #2
 121:Src/interface_can.cpp **** 
 981              		.loc 1 121 26 view .LVU261
 982 005e 0793     		str	r3, [sp, #28]
 123:Src/interface_can.cpp ****     thread_id_valid_ = (thread_id_ != nullptr);
 983              		.loc 1 123 5 is_stmt 1 view .LVU262
 123:Src/interface_can.cpp ****     thread_id_valid_ = (thread_id_ != nullptr);
 984              		.loc 1 123 32 is_stmt 0 view .LVU263
 985 0060 2146     		mov	r1, r4
 986 0062 03A8     		add	r0, sp, #12
 987              	.LVL74:
 123:Src/interface_can.cpp ****     thread_id_valid_ = (thread_id_ != nullptr);
 988              		.loc 1 123 32 view .LVU264
 989 0064 FFF7FEFF 		bl	osThreadCreate
 990              	.LVL75:
 123:Src/interface_can.cpp ****     thread_id_valid_ = (thread_id_ != nullptr);
 991              		.loc 1 123 16 view .LVU265
 992 0068 2060     		str	r0, [r4]
 124:Src/interface_can.cpp **** 
 993              		.loc 1 124 5 is_stmt 1 view .LVU266
 124:Src/interface_can.cpp **** 
ARM GAS  /tmp/ccaQP5rI.s 			page 26


 994              		.loc 1 124 36 is_stmt 0 view .LVU267
 995 006a 0038     		subs	r0, r0, #0
 996 006c 18BF     		it	ne
 997 006e 0120     		movne	r0, #1
 124:Src/interface_can.cpp **** 
 998              		.loc 1 124 22 view .LVU268
 999 0070 6072     		strb	r0, [r4, #9]
 126:Src/interface_can.cpp **** }
 1000              		.loc 1 126 5 is_stmt 1 view .LVU269
 126:Src/interface_can.cpp **** }
 1001              		.loc 1 126 12 is_stmt 0 view .LVU270
 1002 0072 607A     		ldrb	r0, [r4, #9]	@ zero_extendqisi2
 1003 0074 C0B2     		uxtb	r0, r0
 1004 0076 CFE7     		b	.L53
 1005              	.L62:
 1006              		.align	2
 1007              	.L61:
 1008 0078 03000400 		.word	262147
 1009 007c 00000000 		.word	.LC1
 1010 0080 00000000 		.word	_ZL25can_server_thread_wrapperPv
 1011              		.cfi_endproc
 1012              	.LFE5737:
 1014              		.section	.text._ZN9ODriveCAN9set_errorEN10ODriveIntf7CanIntf5ErrorE,"ax",%progbits
 1015              		.align	1
 1016              		.global	_ZN9ODriveCAN9set_errorEN10ODriveIntf7CanIntf5ErrorE
 1017              		.syntax unified
 1018              		.thumb
 1019              		.thumb_func
 1020              		.fpu fpv4-sp-d16
 1022              	_ZN9ODriveCAN9set_errorEN10ODriveIntf7CanIntf5ErrorE:
 1023              	.LVL76:
 1024              	.LFB5743:
 274:Src/interface_can.cpp **** void ODriveCAN::set_error(Error error) {
 1025              		.loc 1 274 40 is_stmt 1 view -0
 1026              		.cfi_startproc
 1027              		@ args = 0, pretend = 0, frame = 0
 1028              		@ frame_needed = 0, uses_anonymous_args = 0
 1029              		@ link register save eliminated.
 275:Src/interface_can.cpp ****     error_ = error;
 1030              		.loc 1 275 5 view .LVU272
 1031              		.loc 1 275 12 is_stmt 0 view .LVU273
 1032 0000 0172     		strb	r1, [r0, #8]
 276:Src/interface_can.cpp **** }
 1033              		.loc 1 276 1 view .LVU274
 1034 0002 7047     		bx	lr
 1035              		.cfi_endproc
 1036              	.LFE5743:
 1038              		.section	.text._ZN9ODriveCAN14send_heartbeatEP4Axis,"ax",%progbits
 1039              		.align	1
 1040              		.global	_ZN9ODriveCAN14send_heartbeatEP4Axis
 1041              		.syntax unified
 1042              		.thumb
 1043              		.thumb_func
 1044              		.fpu fpv4-sp-d16
 1046              	_ZN9ODriveCAN14send_heartbeatEP4Axis:
 1047              	.LVL77:
 1048              	.LFB5744:
ARM GAS  /tmp/ccaQP5rI.s 			page 27


 277:Src/interface_can.cpp **** // This function is called by each axis.
 278:Src/interface_can.cpp **** // It provides an abstraction from the specific CAN protocol in use
 279:Src/interface_can.cpp **** void ODriveCAN::send_heartbeat(Axis *axis) {
 1049              		.loc 1 279 44 is_stmt 1 view -0
 1050              		.cfi_startproc
 1051              		@ args = 0, pretend = 0, frame = 0
 1052              		@ frame_needed = 0, uses_anonymous_args = 0
 280:Src/interface_can.cpp ****     // Handle heartbeat message
 281:Src/interface_can.cpp ****     if (axis->config_.can_heartbeat_rate_ms > 0) {
 1053              		.loc 1 281 5 view .LVU276
 1054              	.LBB16:
 1055              		.loc 1 281 23 is_stmt 0 view .LVU277
 1056 0000 4B68     		ldr	r3, [r1, #4]
 1057              		.loc 1 281 5 view .LVU278
 1058 0002 9B6F     		ldr	r3, [r3, #120]
 1059 0004 03B9     		cbnz	r3, .L70
 1060 0006 7047     		bx	lr
 1061              	.L70:
 1062              	.LBE16:
 279:Src/interface_can.cpp ****     // Handle heartbeat message
 1063              		.loc 1 279 44 view .LVU279
 1064 0008 10B5     		push	{r4, lr}
 1065              	.LCFI23:
 1066              		.cfi_def_cfa_offset 8
 1067              		.cfi_offset 4, -8
 1068              		.cfi_offset 14, -4
 1069 000a 0C46     		mov	r4, r1
 1070              	.LBB18:
 1071              	.LBB17:
 282:Src/interface_can.cpp ****         uint32_t now = osKernelSysTick();
 1072              		.loc 1 282 9 is_stmt 1 view .LVU280
 1073              		.loc 1 282 39 is_stmt 0 view .LVU281
 1074 000c FFF7FEFF 		bl	osKernelSysTick
 1075              	.LVL78:
 283:Src/interface_can.cpp ****         if ((now - axis->last_heartbeat_) >= axis->config_.can_heartbeat_rate_ms) {
 1076              		.loc 1 283 9 is_stmt 1 view .LVU282
 1077              		.loc 1 283 18 is_stmt 0 view .LVU283
 1078 0010 D4F8A431 		ldr	r3, [r4, #420]
 1079 0014 C31A     		subs	r3, r0, r3
 1080              		.loc 1 283 60 view .LVU284
 1081 0016 6268     		ldr	r2, [r4, #4]
 1082              		.loc 1 283 9 view .LVU285
 1083 0018 926F     		ldr	r2, [r2, #120]
 1084 001a 9342     		cmp	r3, r2
 284:Src/interface_can.cpp ****             switch (config_.protocol) {
 1085              		.loc 1 284 13 is_stmt 1 view .LVU286
 285:Src/interface_can.cpp ****                 case PROTOCOL_SIMPLE:
 286:Src/interface_can.cpp ****                     break;
 287:Src/interface_can.cpp ****                 case PROTOCOL_ENCOS:
 288:Src/interface_can.cpp ****                     break;
 289:Src/interface_can.cpp **** 
 290:Src/interface_can.cpp ****                 default:
 291:Src/interface_can.cpp ****                     break;
 292:Src/interface_can.cpp **** 
 293:Src/interface_can.cpp ****             }
 294:Src/interface_can.cpp ****             axis->last_heartbeat_ = now;
 1086              		.loc 1 294 13 view .LVU287
ARM GAS  /tmp/ccaQP5rI.s 			page 28


 1087              		.loc 1 294 35 is_stmt 0 view .LVU288
 1088 001c 28BF     		it	cs
 1089 001e C4F8A401 		strcs	r0, [r4, #420]
 1090              	.LBE17:
 1091              	.LBE18:
 295:Src/interface_can.cpp ****         }
 296:Src/interface_can.cpp ****     }
 297:Src/interface_can.cpp **** }
 1092              		.loc 1 297 1 view .LVU289
 1093 0022 10BD     		pop	{r4, pc}
 1094              		.loc 1 297 1 view .LVU290
 1095              		.cfi_endproc
 1096              	.LFE5744:
 1098              		.section	.text.HAL_FDCAN_TxFifoEmptyCallback,"ax",%progbits
 1099              		.align	1
 1100              		.global	HAL_FDCAN_TxFifoEmptyCallback
 1101              		.syntax unified
 1102              		.thumb
 1103              		.thumb_func
 1104              		.fpu fpv4-sp-d16
 1106              	HAL_FDCAN_TxFifoEmptyCallback:
 1107              	.LVL79:
 1108              	.LFB5745:
 298:Src/interface_can.cpp **** void HAL_FDCAN_TxFifoEmptyCallback(FDCAN_HandleTypeDef *hfdcan) {}
 1109              		.loc 1 298 65 is_stmt 1 view -0
 1110              		.cfi_startproc
 1111              		@ args = 0, pretend = 0, frame = 0
 1112              		@ frame_needed = 0, uses_anonymous_args = 0
 1113              		@ link register save eliminated.
 1114              		.loc 1 298 66 is_stmt 0 view .LVU292
 1115 0000 7047     		bx	lr
 1116              		.cfi_endproc
 1117              	.LFE5745:
 1119              		.section	.text._Z34HAL_FDCAN_TxBufferCompleteCallbackP19FDCAN_HandleTypeDef,"ax",%progbits
 1120              		.align	1
 1121              		.global	_Z34HAL_FDCAN_TxBufferCompleteCallbackP19FDCAN_HandleTypeDef
 1122              		.syntax unified
 1123              		.thumb
 1124              		.thumb_func
 1125              		.fpu fpv4-sp-d16
 1127              	_Z34HAL_FDCAN_TxBufferCompleteCallbackP19FDCAN_HandleTypeDef:
 1128              	.LVL80:
 1129              	.LFB5746:
 299:Src/interface_can.cpp **** void HAL_FDCAN_TxBufferCompleteCallback(FDCAN_HandleTypeDef *hfdcan) {}
 1130              		.loc 1 299 70 is_stmt 1 view -0
 1131              		.cfi_startproc
 1132              		@ args = 0, pretend = 0, frame = 0
 1133              		@ frame_needed = 0, uses_anonymous_args = 0
 1134              		@ link register save eliminated.
 1135              		.loc 1 299 71 is_stmt 0 view .LVU294
 1136 0000 7047     		bx	lr
 1137              		.cfi_endproc
 1138              	.LFE5746:
 1140              		.section	.text._Z31HAL_FDCAN_TxBufferAbortCallbackP19FDCAN_HandleTypeDef,"ax",%progbits
 1141              		.align	1
 1142              		.global	_Z31HAL_FDCAN_TxBufferAbortCallbackP19FDCAN_HandleTypeDef
 1143              		.syntax unified
ARM GAS  /tmp/ccaQP5rI.s 			page 29


 1144              		.thumb
 1145              		.thumb_func
 1146              		.fpu fpv4-sp-d16
 1148              	_Z31HAL_FDCAN_TxBufferAbortCallbackP19FDCAN_HandleTypeDef:
 1149              	.LVL81:
 1150              	.LFB5747:
 300:Src/interface_can.cpp **** void HAL_FDCAN_TxBufferAbortCallback(FDCAN_HandleTypeDef *hfdcan) {}
 1151              		.loc 1 300 67 is_stmt 1 view -0
 1152              		.cfi_startproc
 1153              		@ args = 0, pretend = 0, frame = 0
 1154              		@ frame_needed = 0, uses_anonymous_args = 0
 1155              		@ link register save eliminated.
 1156              		.loc 1 300 68 is_stmt 0 view .LVU296
 1157 0000 7047     		bx	lr
 1158              		.cfi_endproc
 1159              	.LFE5747:
 1161              		.section	.text._Z25HAL_FDCAN_RxFifo0CallbackP19FDCAN_HandleTypeDef,"ax",%progbits
 1162              		.align	1
 1163              		.global	_Z25HAL_FDCAN_RxFifo0CallbackP19FDCAN_HandleTypeDef
 1164              		.syntax unified
 1165              		.thumb
 1166              		.thumb_func
 1167              		.fpu fpv4-sp-d16
 1169              	_Z25HAL_FDCAN_RxFifo0CallbackP19FDCAN_HandleTypeDef:
 1170              	.LVL82:
 1171              	.LFB5748:
 301:Src/interface_can.cpp **** void HAL_FDCAN_RxFifo0Callback(FDCAN_HandleTypeDef *hfdcan) {
 1172              		.loc 1 301 61 is_stmt 1 view -0
 1173              		.cfi_startproc
 1174              		@ args = 0, pretend = 0, frame = 0
 1175              		@ frame_needed = 0, uses_anonymous_args = 0
 1176              		.loc 1 301 61 is_stmt 0 view .LVU298
 1177 0000 08B5     		push	{r3, lr}
 1178              	.LCFI24:
 1179              		.cfi_def_cfa_offset 8
 1180              		.cfi_offset 3, -8
 1181              		.cfi_offset 14, -4
 302:Src/interface_can.cpp ****     HAL_FDCAN_DeactivateNotification(hfdcan, FDCAN_IT_RX_FIFO0_NEW_MESSAGE);
 1182              		.loc 1 302 5 is_stmt 1 view .LVU299
 1183              		.loc 1 302 37 is_stmt 0 view .LVU300
 1184 0002 0121     		movs	r1, #1
 1185 0004 FFF7FEFF 		bl	HAL_FDCAN_DeactivateNotification
 1186              	.LVL83:
 303:Src/interface_can.cpp ****     osSemaphoreRelease(sem_can);
 1187              		.loc 1 303 5 is_stmt 1 view .LVU301
 1188              		.loc 1 303 23 is_stmt 0 view .LVU302
 1189 0008 024B     		ldr	r3, .L76
 1190 000a 1868     		ldr	r0, [r3]
 1191 000c FFF7FEFF 		bl	osSemaphoreRelease
 1192              	.LVL84:
 304:Src/interface_can.cpp **** }
 1193              		.loc 1 304 1 view .LVU303
 1194 0010 08BD     		pop	{r3, pc}
 1195              	.L77:
 1196 0012 00BF     		.align	2
 1197              	.L76:
 1198 0014 00000000 		.word	sem_can
ARM GAS  /tmp/ccaQP5rI.s 			page 30


 1199              		.cfi_endproc
 1200              	.LFE5748:
 1202              		.section	.text._Z29HAL_FDCAN_RxFifo0FullCallbackP19FDCAN_HandleTypeDef,"ax",%progbits
 1203              		.align	1
 1204              		.global	_Z29HAL_FDCAN_RxFifo0FullCallbackP19FDCAN_HandleTypeDef
 1205              		.syntax unified
 1206              		.thumb
 1207              		.thumb_func
 1208              		.fpu fpv4-sp-d16
 1210              	_Z29HAL_FDCAN_RxFifo0FullCallbackP19FDCAN_HandleTypeDef:
 1211              	.LVL85:
 1212              	.LFB5749:
 305:Src/interface_can.cpp **** void HAL_FDCAN_RxFifo0FullCallback(FDCAN_HandleTypeDef *hfdcan) {
 1213              		.loc 1 305 65 is_stmt 1 view -0
 1214              		.cfi_startproc
 1215              		@ args = 0, pretend = 0, frame = 0
 1216              		@ frame_needed = 0, uses_anonymous_args = 0
 1217              		@ link register save eliminated.
 306:Src/interface_can.cpp ****     // osSemaphoreRelease(sem_can);
 307:Src/interface_can.cpp **** }
 1218              		.loc 1 307 1 is_stmt 0 view .LVU305
 1219 0000 7047     		bx	lr
 1220              		.cfi_endproc
 1221              	.LFE5749:
 1223              		.section	.text._Z27HAL_CAN_RxFifo0FullCallbackP19FDCAN_HandleTypeDef,"ax",%progbits
 1224              		.align	1
 1225              		.global	_Z27HAL_CAN_RxFifo0FullCallbackP19FDCAN_HandleTypeDef
 1226              		.syntax unified
 1227              		.thumb
 1228              		.thumb_func
 1229              		.fpu fpv4-sp-d16
 1231              	_Z27HAL_CAN_RxFifo0FullCallbackP19FDCAN_HandleTypeDef:
 1232              	.LVL86:
 1233              	.LFB5750:
 308:Src/interface_can.cpp **** void HAL_CAN_RxFifo0FullCallback(FDCAN_HandleTypeDef *hcan) {
 1234              		.loc 1 308 61 is_stmt 1 view -0
 1235              		.cfi_startproc
 1236              		@ args = 0, pretend = 0, frame = 0
 1237              		@ frame_needed = 0, uses_anonymous_args = 0
 1238              		@ link register save eliminated.
 309:Src/interface_can.cpp ****     // osSemaphoreRelease(sem_can);
 310:Src/interface_can.cpp **** }
 1239              		.loc 1 310 1 is_stmt 0 view .LVU307
 1240 0000 7047     		bx	lr
 1241              		.cfi_endproc
 1242              	.LFE5750:
 1244              		.section	.text._Z25HAL_FDCAN_RxFifo1CallbackP19FDCAN_HandleTypeDef,"ax",%progbits
 1245              		.align	1
 1246              		.global	_Z25HAL_FDCAN_RxFifo1CallbackP19FDCAN_HandleTypeDef
 1247              		.syntax unified
 1248              		.thumb
 1249              		.thumb_func
 1250              		.fpu fpv4-sp-d16
 1252              	_Z25HAL_FDCAN_RxFifo1CallbackP19FDCAN_HandleTypeDef:
 1253              	.LVL87:
 1254              	.LFB5751:
 311:Src/interface_can.cpp **** void HAL_FDCAN_RxFifo1Callback(FDCAN_HandleTypeDef *hcan) {}
ARM GAS  /tmp/ccaQP5rI.s 			page 31


 1255              		.loc 1 311 59 is_stmt 1 view -0
 1256              		.cfi_startproc
 1257              		@ args = 0, pretend = 0, frame = 0
 1258              		@ frame_needed = 0, uses_anonymous_args = 0
 1259              		@ link register save eliminated.
 1260              		.loc 1 311 60 is_stmt 0 view .LVU309
 1261 0000 7047     		bx	lr
 1262              		.cfi_endproc
 1263              	.LFE5751:
 1265              		.section	.text._Z29HAL_FDCAN_RxFifo1FullCallbackP19FDCAN_HandleTypeDef,"ax",%progbits
 1266              		.align	1
 1267              		.global	_Z29HAL_FDCAN_RxFifo1FullCallbackP19FDCAN_HandleTypeDef
 1268              		.syntax unified
 1269              		.thumb
 1270              		.thumb_func
 1271              		.fpu fpv4-sp-d16
 1273              	_Z29HAL_FDCAN_RxFifo1FullCallbackP19FDCAN_HandleTypeDef:
 1274              	.LVL88:
 1275              	.LFB5752:
 312:Src/interface_can.cpp **** void HAL_FDCAN_RxFifo1FullCallback(FDCAN_HandleTypeDef *hcan) {}
 1276              		.loc 1 312 63 is_stmt 1 view -0
 1277              		.cfi_startproc
 1278              		@ args = 0, pretend = 0, frame = 0
 1279              		@ frame_needed = 0, uses_anonymous_args = 0
 1280              		@ link register save eliminated.
 1281              		.loc 1 312 64 is_stmt 0 view .LVU311
 1282 0000 7047     		bx	lr
 1283              		.cfi_endproc
 1284              	.LFE5752:
 1286              		.section	.text._Z23HAL_FDCAN_SleepCallbackP19FDCAN_HandleTypeDef,"ax",%progbits
 1287              		.align	1
 1288              		.global	_Z23HAL_FDCAN_SleepCallbackP19FDCAN_HandleTypeDef
 1289              		.syntax unified
 1290              		.thumb
 1291              		.thumb_func
 1292              		.fpu fpv4-sp-d16
 1294              	_Z23HAL_FDCAN_SleepCallbackP19FDCAN_HandleTypeDef:
 1295              	.LVL89:
 1296              	.LFB5753:
 313:Src/interface_can.cpp **** void HAL_FDCAN_SleepCallback(FDCAN_HandleTypeDef *hcan) {}
 1297              		.loc 1 313 57 is_stmt 1 view -0
 1298              		.cfi_startproc
 1299              		@ args = 0, pretend = 0, frame = 0
 1300              		@ frame_needed = 0, uses_anonymous_args = 0
 1301              		@ link register save eliminated.
 1302              		.loc 1 313 58 is_stmt 0 view .LVU313
 1303 0000 7047     		bx	lr
 1304              		.cfi_endproc
 1305              	.LFE5753:
 1307              		.section	.text._Z33HAL_FDCAN_WakeUpFromRxMsgCallbackP19FDCAN_HandleTypeDef,"ax",%progbits
 1308              		.align	1
 1309              		.global	_Z33HAL_FDCAN_WakeUpFromRxMsgCallbackP19FDCAN_HandleTypeDef
 1310              		.syntax unified
 1311              		.thumb
 1312              		.thumb_func
 1313              		.fpu fpv4-sp-d16
 1315              	_Z33HAL_FDCAN_WakeUpFromRxMsgCallbackP19FDCAN_HandleTypeDef:
ARM GAS  /tmp/ccaQP5rI.s 			page 32


 1316              	.LVL90:
 1317              	.LFB5754:
 314:Src/interface_can.cpp **** void HAL_FDCAN_WakeUpFromRxMsgCallback(FDCAN_HandleTypeDef *hcan) {}
 1318              		.loc 1 314 67 is_stmt 1 view -0
 1319              		.cfi_startproc
 1320              		@ args = 0, pretend = 0, frame = 0
 1321              		@ frame_needed = 0, uses_anonymous_args = 0
 1322              		@ link register save eliminated.
 1323              		.loc 1 314 68 is_stmt 0 view .LVU315
 1324 0000 7047     		bx	lr
 1325              		.cfi_endproc
 1326              	.LFE5754:
 1328              		.section	.text.HAL_FDCAN_ErrorCallback,"ax",%progbits
 1329              		.align	1
 1330              		.global	HAL_FDCAN_ErrorCallback
 1331              		.syntax unified
 1332              		.thumb
 1333              		.thumb_func
 1334              		.fpu fpv4-sp-d16
 1336              	HAL_FDCAN_ErrorCallback:
 1337              	.LVL91:
 1338              	.LFB5755:
 315:Src/interface_can.cpp **** void HAL_FDCAN_ErrorCallback(FDCAN_HandleTypeDef *hcan) {
 1339              		.loc 1 315 57 is_stmt 1 view -0
 1340              		.cfi_startproc
 1341              		@ args = 0, pretend = 0, frame = 0
 1342              		@ frame_needed = 0, uses_anonymous_args = 0
 1343              		.loc 1 315 57 is_stmt 0 view .LVU317
 1344 0000 10B5     		push	{r4, lr}
 1345              	.LCFI25:
 1346              		.cfi_def_cfa_offset 8
 1347              		.cfi_offset 4, -8
 1348              		.cfi_offset 14, -4
 1349 0002 0446     		mov	r4, r0
 316:Src/interface_can.cpp ****     uint32_t CounterStartValue = 0;
 1350              		.loc 1 316 5 is_stmt 1 view .LVU318
 1351              	.LVL92:
 317:Src/interface_can.cpp ****     HAL_FDCAN_ConfigRamWatchdog(hcan, CounterStartValue);
 1352              		.loc 1 317 5 view .LVU319
 1353              		.loc 1 317 32 is_stmt 0 view .LVU320
 1354 0004 0021     		movs	r1, #0
 1355 0006 FFF7FEFF 		bl	HAL_FDCAN_ConfigRamWatchdog
 1356              	.LVL93:
 318:Src/interface_can.cpp ****     
 319:Src/interface_can.cpp ****     // Clear error flags in ECR register
 320:Src/interface_can.cpp ****     CLEAR_BIT(hcan->Instance->ECR, (FDCAN_ECR_TEC | FDCAN_ECR_REC));
 1357              		.loc 1 320 5 is_stmt 1 view .LVU321
 1358 000a 2268     		ldr	r2, [r4]
 1359 000c 136C     		ldr	r3, [r2, #64]
 1360 000e 23F4FF43 		bic	r3, r3, #32640
 1361 0012 23F07F03 		bic	r3, r3, #127
 1362 0016 1364     		str	r3, [r2, #64]
 321:Src/interface_can.cpp **** }
 1363              		.loc 1 321 1 is_stmt 0 view .LVU322
 1364 0018 10BD     		pop	{r4, pc}
 1365              		.loc 1 321 1 view .LVU323
 1366              		.cfi_endproc
ARM GAS  /tmp/ccaQP5rI.s 			page 33


 1367              	.LFE5755:
 1369              		.section	.rodata
 1370              		.align	2
 1371              		.set	.LANCHOR0,. + 0
 1372              	.LC0:
 1373 0000 00000000 		.word	0
 1374 0004 00       		.byte	0
 1375 0005 00       		.byte	0
 1376 0006 08       		.byte	8
 1377 0007 00000000 		.ascii	"\000\000\000\000\000\000\000\000"
 1377      00000000 
 1378 000f 00       		.space	1
 1379              		.text
 1380              	.Letext0:
 1381              		.file 2 "/usr/share/gcc-arm-none-eabi-10-2020-q4-major/lib/gcc/arm-none-eabi/10.2.1/include/stddef
 1382              		.file 3 "/usr/share/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/machine/_default_type
 1383              		.file 4 "/usr/share/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/sys/_stdint.h"
 1384              		.file 5 "/usr/share/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/stdint.h"
 1385              		.file 6 "Middlewares/Third_Party/FreeRTOS/Source/include/task.h"
 1386              		.file 7 "Middlewares/Third_Party/FreeRTOS/Source/include/queue.h"
 1387              		.file 8 "Middlewares/Third_Party/FreeRTOS/Source/include/semphr.h"
 1388              		.file 9 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.h"
 1389              		.file 10 "Drivers/CMSIS/Device/ST/STM32G4xx/Include/stm32g431xx.h"
 1390              		.file 11 "Drivers/CMSIS/Device/ST/STM32G4xx/Include/stm32g4xx.h"
 1391              		.file 12 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_hal_def.h"
 1392              		.file 13 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_hal_fdcan.h"
 1393              		.file 14 "/usr/share/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/c++/10.2.1/type_trai
 1394              		.file 15 "/usr/share/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/c++/10.2.1/arm-none-
 1395              		.file 16 "/usr/share/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/c++/10.2.1/debug/deb
 1396              		.file 17 "/usr/share/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/c++/10.2.1/cstdlib"
 1397              		.file 18 "/usr/share/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/c++/10.2.1/bits/algo
 1398              		.file 19 "/usr/share/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/c++/10.2.1/bits/exce
 1399              		.file 20 "/usr/share/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/c++/10.2.1/bits/std_
 1400              		.file 21 "/usr/share/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/c++/10.2.1/bits/stl_
 1401              		.file 22 "/usr/share/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/c++/10.2.1/functiona
 1402              		.file 23 "/usr/share/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/c++/10.2.1/cstring"
 1403              		.file 24 "/usr/share/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/c++/10.2.1/cwchar"
 1404              		.file 25 "/usr/share/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/c++/10.2.1/clocale"
 1405              		.file 26 "/usr/share/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/c++/10.2.1/cstdint"
 1406              		.file 27 "/usr/share/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/c++/10.2.1/string_vi
 1407              		.file 28 "/usr/share/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/c++/10.2.1/bits/basi
 1408              		.file 29 "/usr/share/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/c++/10.2.1/cstdio"
 1409              		.file 30 "/usr/share/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/c++/10.2.1/cmath"
 1410              		.file 31 "/usr/share/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/c++/10.2.1/bits/std_
 1411              		.file 32 "/usr/share/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/c++/10.2.1/array"
 1412              		.file 33 "/usr/share/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/c++/10.2.1/bits/stl_
 1413              		.file 34 "/usr/share/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/c++/10.2.1/bits/pred
 1414              		.file 35 "/usr/share/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/sys/_types.h"
 1415              		.file 36 "/usr/share/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/c++/10.2.1/bits/refw
 1416              		.file 37 "<built-in>"
 1417              		.file 38 "/usr/share/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/sys/reent.h"
 1418              		.file 39 "/usr/share/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/sys/lock.h"
 1419              		.file 40 "/usr/share/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/stdlib.h"
 1420              		.file 41 "/usr/share/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/c++/10.2.1/pstl/exec
 1421              		.file 42 "/usr/share/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/string.h"
 1422              		.file 43 "/usr/share/gcc-arm-none-eabi-10-2020-q4-major/lib/gcc/arm-none-eabi/10.2.1/include/stdar
 1423              		.file 44 "/usr/share/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/wchar.h"
ARM GAS  /tmp/ccaQP5rI.s 			page 34


 1424              		.file 45 "/usr/share/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/locale.h"
 1425              		.file 46 "/usr/share/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/stdio.h"
 1426              		.file 47 "Inc/can_helpers.hpp"
 1427              		.file 48 "Inc/interfaces.hpp"
 1428              		.file 49 "Inc/interface_can.hpp"
 1429              		.file 50 "Inc/axis.hpp"
 1430              		.file 51 "/usr/share/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/math.h"
 1431              		.file 52 "/usr/share/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/c++/10.2.1/math.h"
 1432              		.file 53 "Inc/utils.hpp"
 1433              		.file 54 "Inc/can_encos.hpp"
 1434              		.file 55 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_ll_tim.h"
 1435              		.file 56 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_ll_usart.h"
 1436              		.file 57 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_ll_dma.h"
 1437              		.file 58 "Inc/task_timer.hpp"
 1438              		.file 59 "Inc/freertos_vars.h"
ARM GAS  /tmp/ccaQP5rI.s 			page 35


DEFINED SYMBOLS
                            *ABS*:0000000000000000 interface_can.cpp
     /tmp/ccaQP5rI.s:18     .text._ZN9ODriveCANC2ERNS_8Config_tEP19FDCAN_HandleTypeDef:0000000000000000 $t
     /tmp/ccaQP5rI.s:26     .text._ZN9ODriveCANC2ERNS_8Config_tEP19FDCAN_HandleTypeDef:0000000000000000 _ZN9ODriveCANC2ERNS_8Config_tEP19FDCAN_HandleTypeDef
     /tmp/ccaQP5rI.s:26     .text._ZN9ODriveCANC2ERNS_8Config_tEP19FDCAN_HandleTypeDef:0000000000000000 _ZN9ODriveCANC1ERNS_8Config_tEP19FDCAN_HandleTypeDef
     /tmp/ccaQP5rI.s:62     .text._ZN9ODriveCAN5writeER13can_Message_t:0000000000000000 $t
     /tmp/ccaQP5rI.s:69     .text._ZN9ODriveCAN5writeER13can_Message_t:0000000000000000 _ZN9ODriveCAN5writeER13can_Message_t
     /tmp/ccaQP5rI.s:200    .text._ZN9ODriveCAN9availableEv:0000000000000000 $t
     /tmp/ccaQP5rI.s:207    .text._ZN9ODriveCAN9availableEv:0000000000000000 _ZN9ODriveCAN9availableEv
     /tmp/ccaQP5rI.s:245    .text._ZN9ODriveCAN4readER13can_Message_t:0000000000000000 $t
     /tmp/ccaQP5rI.s:252    .text._ZN9ODriveCAN4readER13can_Message_t:0000000000000000 _ZN9ODriveCAN4readER13can_Message_t
     /tmp/ccaQP5rI.s:372    .text._ZN9ODriveCAN17can_server_threadEv:0000000000000000 $t
     /tmp/ccaQP5rI.s:379    .text._ZN9ODriveCAN17can_server_threadEv:0000000000000000 _ZN9ODriveCAN17can_server_threadEv
     /tmp/ccaQP5rI.s:514    .text._ZN9ODriveCAN17can_server_threadEv:0000000000000080 $d
     /tmp/ccaQP5rI.s:522    .text._ZL25can_server_thread_wrapperPv:0000000000000000 $t
     /tmp/ccaQP5rI.s:528    .text._ZL25can_server_thread_wrapperPv:0000000000000000 _ZL25can_server_thread_wrapperPv
     /tmp/ccaQP5rI.s:551    .text._ZN9ODriveCAN10reinit_canEv:0000000000000000 $t
     /tmp/ccaQP5rI.s:558    .text._ZN9ODriveCAN10reinit_canEv:0000000000000000 _ZN9ODriveCAN10reinit_canEv
     /tmp/ccaQP5rI.s:670    .text._ZN9ODriveCAN10reinit_canEv:0000000000000064 $d
     /tmp/ccaQP5rI.s:675    .text._ZN9ODriveCAN13set_baud_rateEm:0000000000000000 $t
     /tmp/ccaQP5rI.s:682    .text._ZN9ODriveCAN13set_baud_rateEm:0000000000000000 _ZN9ODriveCAN13set_baud_rateEm
     /tmp/ccaQP5rI.s:851    .text._ZN9ODriveCAN13set_baud_rateEm:00000000000000ac $d
     /tmp/ccaQP5rI.s:859    .rodata._ZN9ODriveCAN16start_can_serverEv.str1.4:0000000000000000 $d
     /tmp/ccaQP5rI.s:863    .text._ZN9ODriveCAN16start_can_serverEv:0000000000000000 $t
     /tmp/ccaQP5rI.s:870    .text._ZN9ODriveCAN16start_can_serverEv:0000000000000000 _ZN9ODriveCAN16start_can_serverEv
     /tmp/ccaQP5rI.s:1008   .text._ZN9ODriveCAN16start_can_serverEv:0000000000000078 $d
     /tmp/ccaQP5rI.s:1015   .text._ZN9ODriveCAN9set_errorEN10ODriveIntf7CanIntf5ErrorE:0000000000000000 $t
     /tmp/ccaQP5rI.s:1022   .text._ZN9ODriveCAN9set_errorEN10ODriveIntf7CanIntf5ErrorE:0000000000000000 _ZN9ODriveCAN9set_errorEN10ODriveIntf7CanIntf5ErrorE
     /tmp/ccaQP5rI.s:1039   .text._ZN9ODriveCAN14send_heartbeatEP4Axis:0000000000000000 $t
     /tmp/ccaQP5rI.s:1046   .text._ZN9ODriveCAN14send_heartbeatEP4Axis:0000000000000000 _ZN9ODriveCAN14send_heartbeatEP4Axis
     /tmp/ccaQP5rI.s:1099   .text.HAL_FDCAN_TxFifoEmptyCallback:0000000000000000 $t
     /tmp/ccaQP5rI.s:1106   .text.HAL_FDCAN_TxFifoEmptyCallback:0000000000000000 HAL_FDCAN_TxFifoEmptyCallback
     /tmp/ccaQP5rI.s:1120   .text._Z34HAL_FDCAN_TxBufferCompleteCallbackP19FDCAN_HandleTypeDef:0000000000000000 $t
     /tmp/ccaQP5rI.s:1127   .text._Z34HAL_FDCAN_TxBufferCompleteCallbackP19FDCAN_HandleTypeDef:0000000000000000 _Z34HAL_FDCAN_TxBufferCompleteCallbackP19FDCAN_HandleTypeDef
     /tmp/ccaQP5rI.s:1141   .text._Z31HAL_FDCAN_TxBufferAbortCallbackP19FDCAN_HandleTypeDef:0000000000000000 $t
     /tmp/ccaQP5rI.s:1148   .text._Z31HAL_FDCAN_TxBufferAbortCallbackP19FDCAN_HandleTypeDef:0000000000000000 _Z31HAL_FDCAN_TxBufferAbortCallbackP19FDCAN_HandleTypeDef
     /tmp/ccaQP5rI.s:1162   .text._Z25HAL_FDCAN_RxFifo0CallbackP19FDCAN_HandleTypeDef:0000000000000000 $t
     /tmp/ccaQP5rI.s:1169   .text._Z25HAL_FDCAN_RxFifo0CallbackP19FDCAN_HandleTypeDef:0000000000000000 _Z25HAL_FDCAN_RxFifo0CallbackP19FDCAN_HandleTypeDef
     /tmp/ccaQP5rI.s:1198   .text._Z25HAL_FDCAN_RxFifo0CallbackP19FDCAN_HandleTypeDef:0000000000000014 $d
     /tmp/ccaQP5rI.s:1203   .text._Z29HAL_FDCAN_RxFifo0FullCallbackP19FDCAN_HandleTypeDef:0000000000000000 $t
     /tmp/ccaQP5rI.s:1210   .text._Z29HAL_FDCAN_RxFifo0FullCallbackP19FDCAN_HandleTypeDef:0000000000000000 _Z29HAL_FDCAN_RxFifo0FullCallbackP19FDCAN_HandleTypeDef
     /tmp/ccaQP5rI.s:1224   .text._Z27HAL_CAN_RxFifo0FullCallbackP19FDCAN_HandleTypeDef:0000000000000000 $t
     /tmp/ccaQP5rI.s:1231   .text._Z27HAL_CAN_RxFifo0FullCallbackP19FDCAN_HandleTypeDef:0000000000000000 _Z27HAL_CAN_RxFifo0FullCallbackP19FDCAN_HandleTypeDef
     /tmp/ccaQP5rI.s:1245   .text._Z25HAL_FDCAN_RxFifo1CallbackP19FDCAN_HandleTypeDef:0000000000000000 $t
     /tmp/ccaQP5rI.s:1252   .text._Z25HAL_FDCAN_RxFifo1CallbackP19FDCAN_HandleTypeDef:0000000000000000 _Z25HAL_FDCAN_RxFifo1CallbackP19FDCAN_HandleTypeDef
     /tmp/ccaQP5rI.s:1266   .text._Z29HAL_FDCAN_RxFifo1FullCallbackP19FDCAN_HandleTypeDef:0000000000000000 $t
     /tmp/ccaQP5rI.s:1273   .text._Z29HAL_FDCAN_RxFifo1FullCallbackP19FDCAN_HandleTypeDef:0000000000000000 _Z29HAL_FDCAN_RxFifo1FullCallbackP19FDCAN_HandleTypeDef
     /tmp/ccaQP5rI.s:1287   .text._Z23HAL_FDCAN_SleepCallbackP19FDCAN_HandleTypeDef:0000000000000000 $t
     /tmp/ccaQP5rI.s:1294   .text._Z23HAL_FDCAN_SleepCallbackP19FDCAN_HandleTypeDef:0000000000000000 _Z23HAL_FDCAN_SleepCallbackP19FDCAN_HandleTypeDef
     /tmp/ccaQP5rI.s:1308   .text._Z33HAL_FDCAN_WakeUpFromRxMsgCallbackP19FDCAN_HandleTypeDef:0000000000000000 $t
     /tmp/ccaQP5rI.s:1315   .text._Z33HAL_FDCAN_WakeUpFromRxMsgCallbackP19FDCAN_HandleTypeDef:0000000000000000 _Z33HAL_FDCAN_WakeUpFromRxMsgCallbackP19FDCAN_HandleTypeDef
     /tmp/ccaQP5rI.s:1329   .text.HAL_FDCAN_ErrorCallback:0000000000000000 $t
     /tmp/ccaQP5rI.s:1336   .text.HAL_FDCAN_ErrorCallback:0000000000000000 HAL_FDCAN_ErrorCallback
     /tmp/ccaQP5rI.s:1370   .rodata:0000000000000000 $d

UNDEFINED SYMBOLS
HAL_FDCAN_GetError
ARM GAS  /tmp/ccaQP5rI.s 			page 36


HAL_FDCAN_GetTxFifoFreeLevel
HAL_FDCAN_AddMessageToTxFifoQ
HAL_FDCAN_GetRxFifoFillLevel
HAL_FDCAN_GetRxMessage
HAL_FDCAN_ActivateNotification
osSemaphoreWait
_ZN8CANEncos18handle_can_messageER13can_Message_t
HAL_FDCAN_Stop
HAL_FDCAN_Start
sem_can
HAL_FDCAN_Init
HAL_FDCAN_ConfigGlobalFilter
osThreadCreate
osKernelSysTick
HAL_FDCAN_DeactivateNotification
osSemaphoreRelease
HAL_FDCAN_ConfigRamWatchdog
